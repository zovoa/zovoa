var XN=n=>{throw TypeError(n)};var pb=(n,e,t)=>e.has(n)||XN("Cannot "+t);var Te=(n,e,t)=>(pb(n,e,"read from private field"),t?t.call(n):e.get(n)),mn=(n,e,t)=>e.has(n)?XN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Vt=(n,e,t,r)=>(pb(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),Nr=(n,e,t)=>(pb(n,e,"access private method"),t);var Kg=(n,e,t,r)=>({set _(i){Vt(n,e,i,t)},get _(){return Te(n,e,r)}});function d6(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function xE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var iB={exports:{}},My={},sB={exports:{}},qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm=Symbol.for("react.element"),h6=Symbol.for("react.portal"),f6=Symbol.for("react.fragment"),p6=Symbol.for("react.strict_mode"),m6=Symbol.for("react.profiler"),g6=Symbol.for("react.provider"),x6=Symbol.for("react.context"),v6=Symbol.for("react.forward_ref"),y6=Symbol.for("react.suspense"),w6=Symbol.for("react.memo"),_6=Symbol.for("react.lazy"),KN=Symbol.iterator;function b6(n){return n===null||typeof n!="object"?null:(n=KN&&n[KN]||n["@@iterator"],typeof n=="function"?n:null)}var oB={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aB=Object.assign,lB={};function Ih(n,e,t){this.props=n,this.context=e,this.refs=lB,this.updater=t||oB}Ih.prototype.isReactComponent={};Ih.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Ih.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function cB(){}cB.prototype=Ih.prototype;function vE(n,e,t){this.props=n,this.context=e,this.refs=lB,this.updater=t||oB}var yE=vE.prototype=new cB;yE.constructor=vE;aB(yE,Ih.prototype);yE.isPureReactComponent=!0;var JN=Array.isArray,uB=Object.prototype.hasOwnProperty,wE={current:null},dB={key:!0,ref:!0,__self:!0,__source:!0};function hB(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)uB.call(e,r)&&!dB.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:hm,type:n,key:s,ref:o,props:i,_owner:wE.current}}function S6(n,e){return{$$typeof:hm,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function _E(n){return typeof n=="object"&&n!==null&&n.$$typeof===hm}function A6(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var YN=/\/+/g;function mb(n,e){return typeof n=="object"&&n!==null&&n.key!=null?A6(""+n.key):e.toString(36)}function xv(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case hm:case h6:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+mb(o,0):r,JN(i)?(t="",n!=null&&(t=n.replace(YN,"$&/")+"/"),xv(i,e,t,"",function(u){return u})):i!=null&&(_E(i)&&(i=S6(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(YN,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",JN(n))for(var a=0;a<n.length;a++){s=n[a];var c=r+mb(s,a);o+=xv(s,e,t,c,i)}else if(c=b6(n),typeof c=="function")for(n=c.call(n),a=0;!(s=n.next()).done;)s=s.value,c=r+mb(s,a++),o+=xv(s,e,t,c,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Jg(n,e,t){if(n==null)return n;var r=[],i=0;return xv(n,r,"","",function(s){return e.call(t,s,i++)}),r}function E6(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var ii={current:null},vv={transition:null},C6={ReactCurrentDispatcher:ii,ReactCurrentBatchConfig:vv,ReactCurrentOwner:wE};function fB(){throw Error("act(...) is not supported in production builds of React.")}qt.Children={map:Jg,forEach:function(n,e,t){Jg(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Jg(n,function(){e++}),e},toArray:function(n){return Jg(n,function(e){return e})||[]},only:function(n){if(!_E(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};qt.Component=Ih;qt.Fragment=f6;qt.Profiler=m6;qt.PureComponent=vE;qt.StrictMode=p6;qt.Suspense=y6;qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C6;qt.act=fB;qt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=aB({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=wE.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(c in e)uB.call(e,c)&&!dB.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=t;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:hm,type:n.type,key:i,ref:s,props:r,_owner:o}};qt.createContext=function(n){return n={$$typeof:x6,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:g6,_context:n},n.Consumer=n};qt.createElement=hB;qt.createFactory=function(n){var e=hB.bind(null,n);return e.type=n,e};qt.createRef=function(){return{current:null}};qt.forwardRef=function(n){return{$$typeof:v6,render:n}};qt.isValidElement=_E;qt.lazy=function(n){return{$$typeof:_6,_payload:{_status:-1,_result:n},_init:E6}};qt.memo=function(n,e){return{$$typeof:w6,type:n,compare:e===void 0?null:e}};qt.startTransition=function(n){var e=vv.transition;vv.transition={};try{n()}finally{vv.transition=e}};qt.unstable_act=fB;qt.useCallback=function(n,e){return ii.current.useCallback(n,e)};qt.useContext=function(n){return ii.current.useContext(n)};qt.useDebugValue=function(){};qt.useDeferredValue=function(n){return ii.current.useDeferredValue(n)};qt.useEffect=function(n,e){return ii.current.useEffect(n,e)};qt.useId=function(){return ii.current.useId()};qt.useImperativeHandle=function(n,e,t){return ii.current.useImperativeHandle(n,e,t)};qt.useInsertionEffect=function(n,e){return ii.current.useInsertionEffect(n,e)};qt.useLayoutEffect=function(n,e){return ii.current.useLayoutEffect(n,e)};qt.useMemo=function(n,e){return ii.current.useMemo(n,e)};qt.useReducer=function(n,e,t){return ii.current.useReducer(n,e,t)};qt.useRef=function(n){return ii.current.useRef(n)};qt.useState=function(n){return ii.current.useState(n)};qt.useSyncExternalStore=function(n,e,t){return ii.current.useSyncExternalStore(n,e,t)};qt.useTransition=function(){return ii.current.useTransition()};qt.version="18.3.1";sB.exports=qt;var C=sB.exports;const je=xE(C),pB=d6({__proto__:null,default:je},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M6=C,T6=Symbol.for("react.element"),N6=Symbol.for("react.fragment"),R6=Object.prototype.hasOwnProperty,P6=M6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I6={key:!0,ref:!0,__self:!0,__source:!0};function mB(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)R6.call(e,r)&&!I6.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:T6,type:n,key:s,ref:o,props:i,_owner:P6.current}}My.Fragment=N6;My.jsx=mB;My.jsxs=mB;iB.exports=My;var l=iB.exports,gB={exports:{}},Ki={},xB={exports:{}},vB={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,j){var W=L.length;L.push(j);e:for(;0<W;){var $=W-1>>>1,oe=L[$];if(0<i(oe,j))L[$]=j,L[W]=oe,W=$;else break e}}function t(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var j=L[0],W=L.pop();if(W!==j){L[0]=W;e:for(var $=0,oe=L.length,Se=oe>>>1;$<Se;){var ne=2*($+1)-1,we=L[ne],ve=ne+1,le=L[ve];if(0>i(we,W))ve<oe&&0>i(le,we)?(L[$]=le,L[ve]=W,$=ve):(L[$]=we,L[ne]=W,$=ne);else if(ve<oe&&0>i(le,W))L[$]=le,L[ve]=W,$=ve;else break e}}return j}function i(L,j){var W=L.sortIndex-j.sortIndex;return W!==0?W:L.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,f=null,m=3,g=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var j=t(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=L)r(u),j.sortIndex=j.expirationTime,e(c,j);else break;j=t(u)}}function A(L){if(y=!1,S(L),!v)if(t(c)!==null)v=!0,Y(T);else{var j=t(u);j!==null&&se(A,j.startTime-L)}}function T(L,j){v=!1,y&&(y=!1,x(D),D=-1),g=!0;var W=m;try{for(S(j),f=t(c);f!==null&&(!(f.expirationTime>j)||L&&!k());){var $=f.callback;if(typeof $=="function"){f.callback=null,m=f.priorityLevel;var oe=$(f.expirationTime<=j);j=n.unstable_now(),typeof oe=="function"?f.callback=oe:f===t(c)&&r(c),S(j)}else r(c);f=t(c)}if(f!==null)var Se=!0;else{var ne=t(u);ne!==null&&se(A,ne.startTime-j),Se=!1}return Se}finally{f=null,m=W,g=!1}}var N=!1,P=null,D=-1,I=5,R=-1;function k(){return!(n.unstable_now()-R<I)}function G(){if(P!==null){var L=n.unstable_now();R=L;var j=!0;try{j=P(!0,L)}finally{j?K():(N=!1,P=null)}}else N=!1}var K;if(typeof b=="function")K=function(){b(G)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,Q=J.port2;J.port1.onmessage=G,K=function(){Q.postMessage(null)}}else K=function(){w(G,0)};function Y(L){P=L,N||(N=!0,K())}function se(L,j){D=w(function(){L(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){v||g||(v=!0,Y(T))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(L){switch(m){case 1:case 2:case 3:var j=3;break;default:j=m}var W=m;m=j;try{return L()}finally{m=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,j){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=m;m=L;try{return j()}finally{m=W}},n.unstable_scheduleCallback=function(L,j,W){var $=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?$+W:$):W=$,L){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=W+oe,L={id:d++,callback:j,priorityLevel:L,startTime:W,expirationTime:oe,sortIndex:-1},W>$?(L.sortIndex=W,e(u,L),t(c)===null&&L===t(u)&&(y?(x(D),D=-1):y=!0,se(A,W-$))):(L.sortIndex=oe,e(c,L),v||g||(v=!0,Y(T))),L},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(L){var j=m;return function(){var W=m;m=j;try{return L.apply(this,arguments)}finally{m=W}}}})(vB);xB.exports=vB;var D6=xB.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B6=C,Vi=D6;function Le(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yB=new Set,Sp={};function vu(n,e){oh(n,e),oh(n+"Capture",e)}function oh(n,e){for(Sp[n]=e,n=0;n<e.length;n++)yB.add(e[n])}var la=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m1=Object.prototype.hasOwnProperty,L6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$N={},qN={};function k6(n){return m1.call(qN,n)?!0:m1.call($N,n)?!1:L6.test(n)?qN[n]=!0:($N[n]=!0,!1)}function O6(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function F6(n,e,t,r){if(e===null||typeof e>"u"||O6(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function si(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){br[n]=new si(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];br[e]=new si(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){br[n]=new si(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){br[n]=new si(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){br[n]=new si(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){br[n]=new si(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){br[n]=new si(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){br[n]=new si(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){br[n]=new si(n,5,!1,n.toLowerCase(),null,!1,!1)});var bE=/[\-:]([a-z])/g;function SE(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(bE,SE);br[e]=new si(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(bE,SE);br[e]=new si(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(bE,SE);br[e]=new si(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){br[n]=new si(n,1,!1,n.toLowerCase(),null,!1,!1)});br.xlinkHref=new si("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){br[n]=new si(n,1,!1,n.toLowerCase(),null,!0,!0)});function AE(n,e,t,r){var i=br.hasOwnProperty(e)?br[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(F6(e,t,i,r)&&(t=null),r||i===null?k6(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var ba=B6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yg=Symbol.for("react.element"),vd=Symbol.for("react.portal"),yd=Symbol.for("react.fragment"),EE=Symbol.for("react.strict_mode"),g1=Symbol.for("react.profiler"),wB=Symbol.for("react.provider"),_B=Symbol.for("react.context"),CE=Symbol.for("react.forward_ref"),x1=Symbol.for("react.suspense"),v1=Symbol.for("react.suspense_list"),ME=Symbol.for("react.memo"),Za=Symbol.for("react.lazy"),bB=Symbol.for("react.offscreen"),QN=Symbol.iterator;function xf(n){return n===null||typeof n!="object"?null:(n=QN&&n[QN]||n["@@iterator"],typeof n=="function"?n:null)}var Ln=Object.assign,gb;function Vf(n){if(gb===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);gb=e&&e[1]||""}return`
`+gb+n}var xb=!1;function vb(n,e){if(!n||xb)return"";xb=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=o&&0<=a);break}}}finally{xb=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Vf(n):""}function j6(n){switch(n.tag){case 5:return Vf(n.type);case 16:return Vf("Lazy");case 13:return Vf("Suspense");case 19:return Vf("SuspenseList");case 0:case 2:case 15:return n=vb(n.type,!1),n;case 11:return n=vb(n.type.render,!1),n;case 1:return n=vb(n.type,!0),n;default:return""}}function y1(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case yd:return"Fragment";case vd:return"Portal";case g1:return"Profiler";case EE:return"StrictMode";case x1:return"Suspense";case v1:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case _B:return(n.displayName||"Context")+".Consumer";case wB:return(n._context.displayName||"Context")+".Provider";case CE:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ME:return e=n.displayName||null,e!==null?e:y1(n.type)||"Memo";case Za:e=n._payload,n=n._init;try{return y1(n(e))}catch{}}return null}function U6(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return y1(e);case 8:return e===EE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rl(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function SB(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function z6(n){var e=SB(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function $g(n){n._valueTracker||(n._valueTracker=z6(n))}function AB(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=SB(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Jv(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function w1(n,e){var t=e.checked;return Ln({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function ZN(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Rl(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function EB(n,e){e=e.checked,e!=null&&AE(n,"checked",e,!1)}function _1(n,e){EB(n,e);var t=Rl(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?b1(n,e.type,t):e.hasOwnProperty("defaultValue")&&b1(n,e.type,Rl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function eR(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function b1(n,e,t){(e!=="number"||Jv(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Wf=Array.isArray;function Bd(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Rl(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function S1(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Le(91));return Ln({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function tR(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Le(92));if(Wf(t)){if(1<t.length)throw Error(Le(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Rl(t)}}function CB(n,e){var t=Rl(e.value),r=Rl(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function nR(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function MB(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function A1(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?MB(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var qg,TB=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(qg=qg||document.createElement("div"),qg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qg.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Ap(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var np={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},H6=["Webkit","ms","Moz","O"];Object.keys(np).forEach(function(n){H6.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),np[e]=np[n]})});function NB(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||np.hasOwnProperty(n)&&np[n]?(""+e).trim():e+"px"}function RB(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=NB(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var G6=Ln({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function E1(n,e){if(e){if(G6[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Le(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Le(62))}}function C1(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var M1=null;function TE(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var T1=null,Ld=null,kd=null;function rR(n){if(n=mm(n)){if(typeof T1!="function")throw Error(Le(280));var e=n.stateNode;e&&(e=Iy(e),T1(n.stateNode,n.type,e))}}function PB(n){Ld?kd?kd.push(n):kd=[n]:Ld=n}function IB(){if(Ld){var n=Ld,e=kd;if(kd=Ld=null,rR(n),e)for(n=0;n<e.length;n++)rR(e[n])}}function DB(n,e){return n(e)}function BB(){}var yb=!1;function LB(n,e,t){if(yb)return n(e,t);yb=!0;try{return DB(n,e,t)}finally{yb=!1,(Ld!==null||kd!==null)&&(BB(),IB())}}function Ep(n,e){var t=n.stateNode;if(t===null)return null;var r=Iy(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Le(231,e,typeof t));return t}var N1=!1;if(la)try{var vf={};Object.defineProperty(vf,"passive",{get:function(){N1=!0}}),window.addEventListener("test",vf,vf),window.removeEventListener("test",vf,vf)}catch{N1=!1}function V6(n,e,t,r,i,s,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var rp=!1,Yv=null,$v=!1,R1=null,W6={onError:function(n){rp=!0,Yv=n}};function X6(n,e,t,r,i,s,o,a,c){rp=!1,Yv=null,V6.apply(W6,arguments)}function K6(n,e,t,r,i,s,o,a,c){if(X6.apply(this,arguments),rp){if(rp){var u=Yv;rp=!1,Yv=null}else throw Error(Le(198));$v||($v=!0,R1=u)}}function yu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function kB(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function iR(n){if(yu(n)!==n)throw Error(Le(188))}function J6(n){var e=n.alternate;if(!e){if(e=yu(n),e===null)throw Error(Le(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return iR(i),n;if(s===r)return iR(i),e;s=s.sibling}throw Error(Le(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Le(189))}}if(t.alternate!==r)throw Error(Le(190))}if(t.tag!==3)throw Error(Le(188));return t.stateNode.current===t?n:e}function OB(n){return n=J6(n),n!==null?FB(n):null}function FB(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=FB(n);if(e!==null)return e;n=n.sibling}return null}var jB=Vi.unstable_scheduleCallback,sR=Vi.unstable_cancelCallback,Y6=Vi.unstable_shouldYield,$6=Vi.unstable_requestPaint,Gn=Vi.unstable_now,q6=Vi.unstable_getCurrentPriorityLevel,NE=Vi.unstable_ImmediatePriority,UB=Vi.unstable_UserBlockingPriority,qv=Vi.unstable_NormalPriority,Q6=Vi.unstable_LowPriority,zB=Vi.unstable_IdlePriority,Ty=null,ho=null;function Z6(n){if(ho&&typeof ho.onCommitFiberRoot=="function")try{ho.onCommitFiberRoot(Ty,n,void 0,(n.current.flags&128)===128)}catch{}}var ks=Math.clz32?Math.clz32:nH,eH=Math.log,tH=Math.LN2;function nH(n){return n>>>=0,n===0?32:31-(eH(n)/tH|0)|0}var Qg=64,Zg=4194304;function Xf(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Qv(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Xf(a):(s&=o,s!==0&&(r=Xf(s)))}else o=t&~i,o!==0?r=Xf(o):s!==0&&(r=Xf(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-ks(e),i=1<<t,r|=n[t],e&=~i;return r}function rH(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iH(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-ks(s),a=1<<o,c=i[o];c===-1?(!(a&t)||a&r)&&(i[o]=rH(a,e)):c<=e&&(n.expiredLanes|=a),s&=~a}}function P1(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function HB(){var n=Qg;return Qg<<=1,!(Qg&4194240)&&(Qg=64),n}function wb(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function fm(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ks(e),n[e]=t}function sH(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-ks(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function RE(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-ks(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var xn=0;function GB(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var VB,PE,WB,XB,KB,I1=!1,ex=[],xl=null,vl=null,yl=null,Cp=new Map,Mp=new Map,tl=[],oH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oR(n,e){switch(n){case"focusin":case"focusout":xl=null;break;case"dragenter":case"dragleave":vl=null;break;case"mouseover":case"mouseout":yl=null;break;case"pointerover":case"pointerout":Cp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mp.delete(e.pointerId)}}function yf(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=mm(e),e!==null&&PE(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function aH(n,e,t,r,i){switch(e){case"focusin":return xl=yf(xl,n,e,t,r,i),!0;case"dragenter":return vl=yf(vl,n,e,t,r,i),!0;case"mouseover":return yl=yf(yl,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Cp.set(s,yf(Cp.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Mp.set(s,yf(Mp.get(s)||null,n,e,t,r,i)),!0}return!1}function JB(n){var e=Ic(n.target);if(e!==null){var t=yu(e);if(t!==null){if(e=t.tag,e===13){if(e=kB(t),e!==null){n.blockedOn=e,KB(n.priority,function(){WB(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function yv(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=D1(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);M1=r,t.target.dispatchEvent(r),M1=null}else return e=mm(t),e!==null&&PE(e),n.blockedOn=t,!1;e.shift()}return!0}function aR(n,e,t){yv(n)&&t.delete(e)}function lH(){I1=!1,xl!==null&&yv(xl)&&(xl=null),vl!==null&&yv(vl)&&(vl=null),yl!==null&&yv(yl)&&(yl=null),Cp.forEach(aR),Mp.forEach(aR)}function wf(n,e){n.blockedOn===e&&(n.blockedOn=null,I1||(I1=!0,Vi.unstable_scheduleCallback(Vi.unstable_NormalPriority,lH)))}function Tp(n){function e(i){return wf(i,n)}if(0<ex.length){wf(ex[0],n);for(var t=1;t<ex.length;t++){var r=ex[t];r.blockedOn===n&&(r.blockedOn=null)}}for(xl!==null&&wf(xl,n),vl!==null&&wf(vl,n),yl!==null&&wf(yl,n),Cp.forEach(e),Mp.forEach(e),t=0;t<tl.length;t++)r=tl[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<tl.length&&(t=tl[0],t.blockedOn===null);)JB(t),t.blockedOn===null&&tl.shift()}var Od=ba.ReactCurrentBatchConfig,Zv=!0;function cH(n,e,t,r){var i=xn,s=Od.transition;Od.transition=null;try{xn=1,IE(n,e,t,r)}finally{xn=i,Od.transition=s}}function uH(n,e,t,r){var i=xn,s=Od.transition;Od.transition=null;try{xn=4,IE(n,e,t,r)}finally{xn=i,Od.transition=s}}function IE(n,e,t,r){if(Zv){var i=D1(n,e,t,r);if(i===null)Rb(n,e,r,e0,t),oR(n,r);else if(aH(i,n,e,t,r))r.stopPropagation();else if(oR(n,r),e&4&&-1<oH.indexOf(n)){for(;i!==null;){var s=mm(i);if(s!==null&&VB(s),s=D1(n,e,t,r),s===null&&Rb(n,e,r,e0,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else Rb(n,e,r,null,t)}}var e0=null;function D1(n,e,t,r){if(e0=null,n=TE(r),n=Ic(n),n!==null)if(e=yu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=kB(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return e0=n,null}function YB(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q6()){case NE:return 1;case UB:return 4;case qv:case Q6:return 16;case zB:return 536870912;default:return 16}default:return 16}}var fl=null,DE=null,wv=null;function $B(){if(wv)return wv;var n,e=DE,t=e.length,r,i="value"in fl?fl.value:fl.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return wv=i.slice(n,1<r?1-r:void 0)}function _v(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function tx(){return!0}function lR(){return!1}function Ji(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?tx:lR,this.isPropagationStopped=lR,this}return Ln(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=tx)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=tx)},persist:function(){},isPersistent:tx}),e}var Dh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},BE=Ji(Dh),pm=Ln({},Dh,{view:0,detail:0}),dH=Ji(pm),_b,bb,_f,Ny=Ln({},pm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:LE,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==_f&&(_f&&n.type==="mousemove"?(_b=n.screenX-_f.screenX,bb=n.screenY-_f.screenY):bb=_b=0,_f=n),_b)},movementY:function(n){return"movementY"in n?n.movementY:bb}}),cR=Ji(Ny),hH=Ln({},Ny,{dataTransfer:0}),fH=Ji(hH),pH=Ln({},pm,{relatedTarget:0}),Sb=Ji(pH),mH=Ln({},Dh,{animationName:0,elapsedTime:0,pseudoElement:0}),gH=Ji(mH),xH=Ln({},Dh,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),vH=Ji(xH),yH=Ln({},Dh,{data:0}),uR=Ji(yH),wH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_H={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SH(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=bH[n])?!!e[n]:!1}function LE(){return SH}var AH=Ln({},pm,{key:function(n){if(n.key){var e=wH[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=_v(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?_H[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:LE,charCode:function(n){return n.type==="keypress"?_v(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?_v(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),EH=Ji(AH),CH=Ln({},Ny,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dR=Ji(CH),MH=Ln({},pm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:LE}),TH=Ji(MH),NH=Ln({},Dh,{propertyName:0,elapsedTime:0,pseudoElement:0}),RH=Ji(NH),PH=Ln({},Ny,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),IH=Ji(PH),DH=[9,13,27,32],kE=la&&"CompositionEvent"in window,ip=null;la&&"documentMode"in document&&(ip=document.documentMode);var BH=la&&"TextEvent"in window&&!ip,qB=la&&(!kE||ip&&8<ip&&11>=ip),hR=" ",fR=!1;function QB(n,e){switch(n){case"keyup":return DH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZB(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var wd=!1;function LH(n,e){switch(n){case"compositionend":return ZB(e);case"keypress":return e.which!==32?null:(fR=!0,hR);case"textInput":return n=e.data,n===hR&&fR?null:n;default:return null}}function kH(n,e){if(wd)return n==="compositionend"||!kE&&QB(n,e)?(n=$B(),wv=DE=fl=null,wd=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qB&&e.locale!=="ko"?null:e.data;default:return null}}var OH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pR(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!OH[n.type]:e==="textarea"}function eL(n,e,t,r){PB(r),e=t0(e,"onChange"),0<e.length&&(t=new BE("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var sp=null,Np=null;function FH(n){dL(n,0)}function Ry(n){var e=Sd(n);if(AB(e))return n}function jH(n,e){if(n==="change")return e}var tL=!1;if(la){var Ab;if(la){var Eb="oninput"in document;if(!Eb){var mR=document.createElement("div");mR.setAttribute("oninput","return;"),Eb=typeof mR.oninput=="function"}Ab=Eb}else Ab=!1;tL=Ab&&(!document.documentMode||9<document.documentMode)}function gR(){sp&&(sp.detachEvent("onpropertychange",nL),Np=sp=null)}function nL(n){if(n.propertyName==="value"&&Ry(Np)){var e=[];eL(e,Np,n,TE(n)),LB(FH,e)}}function UH(n,e,t){n==="focusin"?(gR(),sp=e,Np=t,sp.attachEvent("onpropertychange",nL)):n==="focusout"&&gR()}function zH(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ry(Np)}function HH(n,e){if(n==="click")return Ry(e)}function GH(n,e){if(n==="input"||n==="change")return Ry(e)}function VH(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Fs=typeof Object.is=="function"?Object.is:VH;function Rp(n,e){if(Fs(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!m1.call(e,i)||!Fs(n[i],e[i]))return!1}return!0}function xR(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function vR(n,e){var t=xR(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=xR(t)}}function rL(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?rL(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function iL(){for(var n=window,e=Jv();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Jv(n.document)}return e}function OE(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function WH(n){var e=iL(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&rL(t.ownerDocument.documentElement,t)){if(r!==null&&OE(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=vR(t,s);var o=vR(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var XH=la&&"documentMode"in document&&11>=document.documentMode,_d=null,B1=null,op=null,L1=!1;function yR(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;L1||_d==null||_d!==Jv(r)||(r=_d,"selectionStart"in r&&OE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),op&&Rp(op,r)||(op=r,r=t0(B1,"onSelect"),0<r.length&&(e=new BE("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=_d)))}function nx(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var bd={animationend:nx("Animation","AnimationEnd"),animationiteration:nx("Animation","AnimationIteration"),animationstart:nx("Animation","AnimationStart"),transitionend:nx("Transition","TransitionEnd")},Cb={},sL={};la&&(sL=document.createElement("div").style,"AnimationEvent"in window||(delete bd.animationend.animation,delete bd.animationiteration.animation,delete bd.animationstart.animation),"TransitionEvent"in window||delete bd.transitionend.transition);function Py(n){if(Cb[n])return Cb[n];if(!bd[n])return n;var e=bd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in sL)return Cb[n]=e[t];return n}var oL=Py("animationend"),aL=Py("animationiteration"),lL=Py("animationstart"),cL=Py("transitionend"),uL=new Map,wR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zl(n,e){uL.set(n,e),vu(e,[n])}for(var Mb=0;Mb<wR.length;Mb++){var Tb=wR[Mb],KH=Tb.toLowerCase(),JH=Tb[0].toUpperCase()+Tb.slice(1);zl(KH,"on"+JH)}zl(oL,"onAnimationEnd");zl(aL,"onAnimationIteration");zl(lL,"onAnimationStart");zl("dblclick","onDoubleClick");zl("focusin","onFocus");zl("focusout","onBlur");zl(cL,"onTransitionEnd");oh("onMouseEnter",["mouseout","mouseover"]);oh("onMouseLeave",["mouseout","mouseover"]);oh("onPointerEnter",["pointerout","pointerover"]);oh("onPointerLeave",["pointerout","pointerover"]);vu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vu("onBeforeInput",["compositionend","keypress","textInput","paste"]);vu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YH=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kf));function _R(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,K6(r,e,void 0,n),n.currentTarget=null}function dL(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;_R(i,a,u),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;_R(i,a,u),s=c}}}if($v)throw n=R1,$v=!1,R1=null,n}function An(n,e){var t=e[U1];t===void 0&&(t=e[U1]=new Set);var r=n+"__bubble";t.has(r)||(hL(e,n,2,!1),t.add(r))}function Nb(n,e,t){var r=0;e&&(r|=4),hL(t,n,r,e)}var rx="_reactListening"+Math.random().toString(36).slice(2);function Pp(n){if(!n[rx]){n[rx]=!0,yB.forEach(function(t){t!=="selectionchange"&&(YH.has(t)||Nb(t,!1,n),Nb(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[rx]||(e[rx]=!0,Nb("selectionchange",!1,e))}}function hL(n,e,t,r){switch(YB(e)){case 1:var i=cH;break;case 4:i=uH;break;default:i=IE}t=i.bind(null,e,t,n),i=void 0,!N1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Rb(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ic(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}LB(function(){var u=s,d=TE(t),f=[];e:{var m=uL.get(n);if(m!==void 0){var g=BE,v=n;switch(n){case"keypress":if(_v(t)===0)break e;case"keydown":case"keyup":g=EH;break;case"focusin":v="focus",g=Sb;break;case"focusout":v="blur",g=Sb;break;case"beforeblur":case"afterblur":g=Sb;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=cR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=fH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=TH;break;case oL:case aL:case lL:g=gH;break;case cL:g=RH;break;case"scroll":g=dH;break;case"wheel":g=IH;break;case"copy":case"cut":case"paste":g=vH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=dR}var y=(e&4)!==0,w=!y&&n==="scroll",x=y?m!==null?m+"Capture":null:m;y=[];for(var b=u,S;b!==null;){S=b;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,x!==null&&(A=Ep(b,x),A!=null&&y.push(Ip(b,A,S)))),w)break;b=b.return}0<y.length&&(m=new g(m,v,null,t,d),f.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",m&&t!==M1&&(v=t.relatedTarget||t.fromElement)&&(Ic(v)||v[ca]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(v=t.relatedTarget||t.toElement,g=u,v=v?Ic(v):null,v!==null&&(w=yu(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=cR,A="onMouseLeave",x="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(y=dR,A="onPointerLeave",x="onPointerEnter",b="pointer"),w=g==null?m:Sd(g),S=v==null?m:Sd(v),m=new y(A,b+"leave",g,t,d),m.target=w,m.relatedTarget=S,A=null,Ic(d)===u&&(y=new y(x,b+"enter",v,t,d),y.target=S,y.relatedTarget=w,A=y),w=A,g&&v)t:{for(y=g,x=v,b=0,S=y;S;S=Vu(S))b++;for(S=0,A=x;A;A=Vu(A))S++;for(;0<b-S;)y=Vu(y),b--;for(;0<S-b;)x=Vu(x),S--;for(;b--;){if(y===x||x!==null&&y===x.alternate)break t;y=Vu(y),x=Vu(x)}y=null}else y=null;g!==null&&bR(f,m,g,y,!1),v!==null&&w!==null&&bR(f,w,v,y,!0)}}e:{if(m=u?Sd(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var T=jH;else if(pR(m))if(tL)T=GH;else{T=zH;var N=UH}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(T=HH);if(T&&(T=T(n,u))){eL(f,T,t,d);break e}N&&N(n,m,u),n==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&b1(m,"number",m.value)}switch(N=u?Sd(u):window,n){case"focusin":(pR(N)||N.contentEditable==="true")&&(_d=N,B1=u,op=null);break;case"focusout":op=B1=_d=null;break;case"mousedown":L1=!0;break;case"contextmenu":case"mouseup":case"dragend":L1=!1,yR(f,t,d);break;case"selectionchange":if(XH)break;case"keydown":case"keyup":yR(f,t,d)}var P;if(kE)e:{switch(n){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else wd?QB(n,t)&&(D="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(D="onCompositionStart");D&&(qB&&t.locale!=="ko"&&(wd||D!=="onCompositionStart"?D==="onCompositionEnd"&&wd&&(P=$B()):(fl=d,DE="value"in fl?fl.value:fl.textContent,wd=!0)),N=t0(u,D),0<N.length&&(D=new uR(D,n,null,t,d),f.push({event:D,listeners:N}),P?D.data=P:(P=ZB(t),P!==null&&(D.data=P)))),(P=BH?LH(n,t):kH(n,t))&&(u=t0(u,"onBeforeInput"),0<u.length&&(d=new uR("onBeforeInput","beforeinput",null,t,d),f.push({event:d,listeners:u}),d.data=P))}dL(f,e)})}function Ip(n,e,t){return{instance:n,listener:e,currentTarget:t}}function t0(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ep(n,t),s!=null&&r.unshift(Ip(n,s,i)),s=Ep(n,e),s!=null&&r.push(Ip(n,s,i))),n=n.return}return r}function Vu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function bR(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=Ep(t,s),c!=null&&o.unshift(Ip(t,c,a))):i||(c=Ep(t,s),c!=null&&o.push(Ip(t,c,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var $H=/\r\n?/g,qH=/\u0000|\uFFFD/g;function SR(n){return(typeof n=="string"?n:""+n).replace($H,`
`).replace(qH,"")}function ix(n,e,t){if(e=SR(e),SR(n)!==e&&t)throw Error(Le(425))}function n0(){}var k1=null,O1=null;function F1(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var j1=typeof setTimeout=="function"?setTimeout:void 0,QH=typeof clearTimeout=="function"?clearTimeout:void 0,AR=typeof Promise=="function"?Promise:void 0,ZH=typeof queueMicrotask=="function"?queueMicrotask:typeof AR<"u"?function(n){return AR.resolve(null).then(n).catch(eG)}:j1;function eG(n){setTimeout(function(){throw n})}function Pb(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Tp(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Tp(e)}function wl(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function ER(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Bh=Math.random().toString(36).slice(2),co="__reactFiber$"+Bh,Dp="__reactProps$"+Bh,ca="__reactContainer$"+Bh,U1="__reactEvents$"+Bh,tG="__reactListeners$"+Bh,nG="__reactHandles$"+Bh;function Ic(n){var e=n[co];if(e)return e;for(var t=n.parentNode;t;){if(e=t[ca]||t[co]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=ER(n);n!==null;){if(t=n[co])return t;n=ER(n)}return e}n=t,t=n.parentNode}return null}function mm(n){return n=n[co]||n[ca],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Sd(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Le(33))}function Iy(n){return n[Dp]||null}var z1=[],Ad=-1;function Hl(n){return{current:n}}function En(n){0>Ad||(n.current=z1[Ad],z1[Ad]=null,Ad--)}function _n(n,e){Ad++,z1[Ad]=n.current,n.current=e}var Pl={},zr=Hl(Pl),_i=Hl(!1),Zc=Pl;function ah(n,e){var t=n.type.contextTypes;if(!t)return Pl;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function bi(n){return n=n.childContextTypes,n!=null}function r0(){En(_i),En(zr)}function CR(n,e,t){if(zr.current!==Pl)throw Error(Le(168));_n(zr,e),_n(_i,t)}function fL(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Le(108,U6(n)||"Unknown",i));return Ln({},t,r)}function i0(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Pl,Zc=zr.current,_n(zr,n),_n(_i,_i.current),!0}function MR(n,e,t){var r=n.stateNode;if(!r)throw Error(Le(169));t?(n=fL(n,e,Zc),r.__reactInternalMemoizedMergedChildContext=n,En(_i),En(zr),_n(zr,n)):En(_i),_n(_i,t)}var Vo=null,Dy=!1,Ib=!1;function pL(n){Vo===null?Vo=[n]:Vo.push(n)}function rG(n){Dy=!0,pL(n)}function Gl(){if(!Ib&&Vo!==null){Ib=!0;var n=0,e=xn;try{var t=Vo;for(xn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Vo=null,Dy=!1}catch(i){throw Vo!==null&&(Vo=Vo.slice(n+1)),jB(NE,Gl),i}finally{xn=e,Ib=!1}}return null}var Ed=[],Cd=0,s0=null,o0=0,os=[],as=0,eu=null,Jo=1,Yo="";function Ac(n,e){Ed[Cd++]=o0,Ed[Cd++]=s0,s0=n,o0=e}function mL(n,e,t){os[as++]=Jo,os[as++]=Yo,os[as++]=eu,eu=n;var r=Jo;n=Yo;var i=32-ks(r)-1;r&=~(1<<i),t+=1;var s=32-ks(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Jo=1<<32-ks(e)+i|t<<i|r,Yo=s+n}else Jo=1<<s|t<<i|r,Yo=n}function FE(n){n.return!==null&&(Ac(n,1),mL(n,1,0))}function jE(n){for(;n===s0;)s0=Ed[--Cd],Ed[Cd]=null,o0=Ed[--Cd],Ed[Cd]=null;for(;n===eu;)eu=os[--as],os[as]=null,Yo=os[--as],os[as]=null,Jo=os[--as],os[as]=null}var zi=null,Fi=null,Mn=!1,Rs=null;function gL(n,e){var t=ls(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function TR(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,zi=n,Fi=wl(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,zi=n,Fi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=eu!==null?{id:Jo,overflow:Yo}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=ls(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,zi=n,Fi=null,!0):!1;default:return!1}}function H1(n){return(n.mode&1)!==0&&(n.flags&128)===0}function G1(n){if(Mn){var e=Fi;if(e){var t=e;if(!TR(n,e)){if(H1(n))throw Error(Le(418));e=wl(t.nextSibling);var r=zi;e&&TR(n,e)?gL(r,t):(n.flags=n.flags&-4097|2,Mn=!1,zi=n)}}else{if(H1(n))throw Error(Le(418));n.flags=n.flags&-4097|2,Mn=!1,zi=n}}}function NR(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;zi=n}function sx(n){if(n!==zi)return!1;if(!Mn)return NR(n),Mn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!F1(n.type,n.memoizedProps)),e&&(e=Fi)){if(H1(n))throw xL(),Error(Le(418));for(;e;)gL(n,e),e=wl(e.nextSibling)}if(NR(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Le(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Fi=wl(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Fi=null}}else Fi=zi?wl(n.stateNode.nextSibling):null;return!0}function xL(){for(var n=Fi;n;)n=wl(n.nextSibling)}function lh(){Fi=zi=null,Mn=!1}function UE(n){Rs===null?Rs=[n]:Rs.push(n)}var iG=ba.ReactCurrentBatchConfig;function bf(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Le(309));var r=t.stateNode}if(!r)throw Error(Le(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Le(284));if(!t._owner)throw Error(Le(290,n))}return n}function ox(n,e){throw n=Object.prototype.toString.call(e),Error(Le(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function RR(n){var e=n._init;return e(n._payload)}function vL(n){function e(x,b){if(n){var S=x.deletions;S===null?(x.deletions=[b],x.flags|=16):S.push(b)}}function t(x,b){if(!n)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=Al(x,b),x.index=0,x.sibling=null,x}function s(x,b,S){return x.index=S,n?(S=x.alternate,S!==null?(S=S.index,S<b?(x.flags|=2,b):S):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return n&&x.alternate===null&&(x.flags|=2),x}function a(x,b,S,A){return b===null||b.tag!==6?(b=jb(S,x.mode,A),b.return=x,b):(b=i(b,S),b.return=x,b)}function c(x,b,S,A){var T=S.type;return T===yd?d(x,b,S.props.children,A,S.key):b!==null&&(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Za&&RR(T)===b.type)?(A=i(b,S.props),A.ref=bf(x,b,S),A.return=x,A):(A=Tv(S.type,S.key,S.props,null,x.mode,A),A.ref=bf(x,b,S),A.return=x,A)}function u(x,b,S,A){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=Ub(S,x.mode,A),b.return=x,b):(b=i(b,S.children||[]),b.return=x,b)}function d(x,b,S,A,T){return b===null||b.tag!==7?(b=Kc(S,x.mode,A,T),b.return=x,b):(b=i(b,S),b.return=x,b)}function f(x,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=jb(""+b,x.mode,S),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yg:return S=Tv(b.type,b.key,b.props,null,x.mode,S),S.ref=bf(x,null,b),S.return=x,S;case vd:return b=Ub(b,x.mode,S),b.return=x,b;case Za:var A=b._init;return f(x,A(b._payload),S)}if(Wf(b)||xf(b))return b=Kc(b,x.mode,S,null),b.return=x,b;ox(x,b)}return null}function m(x,b,S,A){var T=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return T!==null?null:a(x,b,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Yg:return S.key===T?c(x,b,S,A):null;case vd:return S.key===T?u(x,b,S,A):null;case Za:return T=S._init,m(x,b,T(S._payload),A)}if(Wf(S)||xf(S))return T!==null?null:d(x,b,S,A,null);ox(x,S)}return null}function g(x,b,S,A,T){if(typeof A=="string"&&A!==""||typeof A=="number")return x=x.get(S)||null,a(b,x,""+A,T);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Yg:return x=x.get(A.key===null?S:A.key)||null,c(b,x,A,T);case vd:return x=x.get(A.key===null?S:A.key)||null,u(b,x,A,T);case Za:var N=A._init;return g(x,b,S,N(A._payload),T)}if(Wf(A)||xf(A))return x=x.get(S)||null,d(b,x,A,T,null);ox(b,A)}return null}function v(x,b,S,A){for(var T=null,N=null,P=b,D=b=0,I=null;P!==null&&D<S.length;D++){P.index>D?(I=P,P=null):I=P.sibling;var R=m(x,P,S[D],A);if(R===null){P===null&&(P=I);break}n&&P&&R.alternate===null&&e(x,P),b=s(R,b,D),N===null?T=R:N.sibling=R,N=R,P=I}if(D===S.length)return t(x,P),Mn&&Ac(x,D),T;if(P===null){for(;D<S.length;D++)P=f(x,S[D],A),P!==null&&(b=s(P,b,D),N===null?T=P:N.sibling=P,N=P);return Mn&&Ac(x,D),T}for(P=r(x,P);D<S.length;D++)I=g(P,x,D,S[D],A),I!==null&&(n&&I.alternate!==null&&P.delete(I.key===null?D:I.key),b=s(I,b,D),N===null?T=I:N.sibling=I,N=I);return n&&P.forEach(function(k){return e(x,k)}),Mn&&Ac(x,D),T}function y(x,b,S,A){var T=xf(S);if(typeof T!="function")throw Error(Le(150));if(S=T.call(S),S==null)throw Error(Le(151));for(var N=T=null,P=b,D=b=0,I=null,R=S.next();P!==null&&!R.done;D++,R=S.next()){P.index>D?(I=P,P=null):I=P.sibling;var k=m(x,P,R.value,A);if(k===null){P===null&&(P=I);break}n&&P&&k.alternate===null&&e(x,P),b=s(k,b,D),N===null?T=k:N.sibling=k,N=k,P=I}if(R.done)return t(x,P),Mn&&Ac(x,D),T;if(P===null){for(;!R.done;D++,R=S.next())R=f(x,R.value,A),R!==null&&(b=s(R,b,D),N===null?T=R:N.sibling=R,N=R);return Mn&&Ac(x,D),T}for(P=r(x,P);!R.done;D++,R=S.next())R=g(P,x,D,R.value,A),R!==null&&(n&&R.alternate!==null&&P.delete(R.key===null?D:R.key),b=s(R,b,D),N===null?T=R:N.sibling=R,N=R);return n&&P.forEach(function(G){return e(x,G)}),Mn&&Ac(x,D),T}function w(x,b,S,A){if(typeof S=="object"&&S!==null&&S.type===yd&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Yg:e:{for(var T=S.key,N=b;N!==null;){if(N.key===T){if(T=S.type,T===yd){if(N.tag===7){t(x,N.sibling),b=i(N,S.props.children),b.return=x,x=b;break e}}else if(N.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Za&&RR(T)===N.type){t(x,N.sibling),b=i(N,S.props),b.ref=bf(x,N,S),b.return=x,x=b;break e}t(x,N);break}else e(x,N);N=N.sibling}S.type===yd?(b=Kc(S.props.children,x.mode,A,S.key),b.return=x,x=b):(A=Tv(S.type,S.key,S.props,null,x.mode,A),A.ref=bf(x,b,S),A.return=x,x=A)}return o(x);case vd:e:{for(N=S.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){t(x,b.sibling),b=i(b,S.children||[]),b.return=x,x=b;break e}else{t(x,b);break}else e(x,b);b=b.sibling}b=Ub(S,x.mode,A),b.return=x,x=b}return o(x);case Za:return N=S._init,w(x,b,N(S._payload),A)}if(Wf(S))return v(x,b,S,A);if(xf(S))return y(x,b,S,A);ox(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(t(x,b.sibling),b=i(b,S),b.return=x,x=b):(t(x,b),b=jb(S,x.mode,A),b.return=x,x=b),o(x)):t(x,b)}return w}var ch=vL(!0),yL=vL(!1),a0=Hl(null),l0=null,Md=null,zE=null;function HE(){zE=Md=l0=null}function GE(n){var e=a0.current;En(a0),n._currentValue=e}function V1(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Fd(n,e){l0=n,zE=Md=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(vi=!0),n.firstContext=null)}function fs(n){var e=n._currentValue;if(zE!==n)if(n={context:n,memoizedValue:e,next:null},Md===null){if(l0===null)throw Error(Le(308));Md=n,l0.dependencies={lanes:0,firstContext:n}}else Md=Md.next=n;return e}var Dc=null;function VE(n){Dc===null?Dc=[n]:Dc.push(n)}function wL(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,VE(e)):(t.next=i.next,i.next=t),e.interleaved=t,ua(n,r)}function ua(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var el=!1;function WE(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _L(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ea(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function _l(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,on&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ua(n,t)}return i=r.interleaved,i===null?(e.next=e,VE(r)):(e.next=i.next,i.next=e),r.interleaved=e,ua(n,t)}function bv(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,RE(n,t)}}function PR(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function c0(n,e,t,r){var i=n.updateQueue;el=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,d=u=c=null,a=s;do{var m=a.lane,g=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,y=a;switch(m=e,g=t,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(g,f,m);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,m=typeof v=="function"?v.call(g,f,m):v,m==null)break e;f=Ln({},f,m);break e;case 2:el=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);nu|=o,n.lanes=o,n.memoizedState=f}}function IR(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Le(191,i));i.call(r)}}}var gm={},fo=Hl(gm),Bp=Hl(gm),Lp=Hl(gm);function Bc(n){if(n===gm)throw Error(Le(174));return n}function XE(n,e){switch(_n(Lp,e),_n(Bp,n),_n(fo,gm),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:A1(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=A1(e,n)}En(fo),_n(fo,e)}function uh(){En(fo),En(Bp),En(Lp)}function bL(n){Bc(Lp.current);var e=Bc(fo.current),t=A1(e,n.type);e!==t&&(_n(Bp,n),_n(fo,t))}function KE(n){Bp.current===n&&(En(fo),En(Bp))}var Pn=Hl(0);function u0(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Db=[];function JE(){for(var n=0;n<Db.length;n++)Db[n]._workInProgressVersionPrimary=null;Db.length=0}var Sv=ba.ReactCurrentDispatcher,Bb=ba.ReactCurrentBatchConfig,tu=0,Bn=null,tr=null,hr=null,d0=!1,ap=!1,kp=0,sG=0;function Rr(){throw Error(Le(321))}function YE(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Fs(n[t],e[t]))return!1;return!0}function $E(n,e,t,r,i,s){if(tu=s,Bn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sv.current=n===null||n.memoizedState===null?cG:uG,n=t(r,i),ap){s=0;do{if(ap=!1,kp=0,25<=s)throw Error(Le(301));s+=1,hr=tr=null,e.updateQueue=null,Sv.current=dG,n=t(r,i)}while(ap)}if(Sv.current=h0,e=tr!==null&&tr.next!==null,tu=0,hr=tr=Bn=null,d0=!1,e)throw Error(Le(300));return n}function qE(){var n=kp!==0;return kp=0,n}function so(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?Bn.memoizedState=hr=n:hr=hr.next=n,hr}function ps(){if(tr===null){var n=Bn.alternate;n=n!==null?n.memoizedState:null}else n=tr.next;var e=hr===null?Bn.memoizedState:hr.next;if(e!==null)hr=e,tr=n;else{if(n===null)throw Error(Le(310));tr=n,n={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},hr===null?Bn.memoizedState=hr=n:hr=hr.next=n}return hr}function Op(n,e){return typeof e=="function"?e(n):e}function Lb(n){var e=ps(),t=e.queue;if(t===null)throw Error(Le(311));t.lastRenderedReducer=n;var r=tr,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,u=s;do{var d=u.lane;if((tu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,Bn.lanes|=d,nu|=d}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=a,Fs(r,e.memoizedState)||(vi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Bn.lanes|=s,nu|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function kb(n){var e=ps(),t=e.queue;if(t===null)throw Error(Le(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Fs(s,e.memoizedState)||(vi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function SL(){}function AL(n,e){var t=Bn,r=ps(),i=e(),s=!Fs(r.memoizedState,i);if(s&&(r.memoizedState=i,vi=!0),r=r.queue,QE(ML.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||hr!==null&&hr.memoizedState.tag&1){if(t.flags|=2048,Fp(9,CL.bind(null,t,r,i,e),void 0,null),fr===null)throw Error(Le(349));tu&30||EL(t,e,i)}return i}function EL(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Bn.updateQueue,e===null?(e={lastEffect:null,stores:null},Bn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function CL(n,e,t,r){e.value=t,e.getSnapshot=r,TL(e)&&NL(n)}function ML(n,e,t){return t(function(){TL(e)&&NL(n)})}function TL(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Fs(n,t)}catch{return!0}}function NL(n){var e=ua(n,1);e!==null&&Os(e,n,1,-1)}function DR(n){var e=so();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Op,lastRenderedState:n},e.queue=n,n=n.dispatch=lG.bind(null,Bn,n),[e.memoizedState,n]}function Fp(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Bn.updateQueue,e===null?(e={lastEffect:null,stores:null},Bn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function RL(){return ps().memoizedState}function Av(n,e,t,r){var i=so();Bn.flags|=n,i.memoizedState=Fp(1|e,t,void 0,r===void 0?null:r)}function By(n,e,t,r){var i=ps();r=r===void 0?null:r;var s=void 0;if(tr!==null){var o=tr.memoizedState;if(s=o.destroy,r!==null&&YE(r,o.deps)){i.memoizedState=Fp(e,t,s,r);return}}Bn.flags|=n,i.memoizedState=Fp(1|e,t,s,r)}function BR(n,e){return Av(8390656,8,n,e)}function QE(n,e){return By(2048,8,n,e)}function PL(n,e){return By(4,2,n,e)}function IL(n,e){return By(4,4,n,e)}function DL(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function BL(n,e,t){return t=t!=null?t.concat([n]):null,By(4,4,DL.bind(null,e,n),t)}function ZE(){}function LL(n,e){var t=ps();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&YE(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function kL(n,e){var t=ps();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&YE(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function OL(n,e,t){return tu&21?(Fs(t,e)||(t=HB(),Bn.lanes|=t,nu|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,vi=!0),n.memoizedState=t)}function oG(n,e){var t=xn;xn=t!==0&&4>t?t:4,n(!0);var r=Bb.transition;Bb.transition={};try{n(!1),e()}finally{xn=t,Bb.transition=r}}function FL(){return ps().memoizedState}function aG(n,e,t){var r=Sl(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},jL(n))UL(e,t);else if(t=wL(n,e,t,r),t!==null){var i=ti();Os(t,n,r,i),zL(t,e,r)}}function lG(n,e,t){var r=Sl(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(jL(n))UL(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Fs(a,o)){var c=e.interleaved;c===null?(i.next=i,VE(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}t=wL(n,e,i,r),t!==null&&(i=ti(),Os(t,n,r,i),zL(t,e,r))}}function jL(n){var e=n.alternate;return n===Bn||e!==null&&e===Bn}function UL(n,e){ap=d0=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function zL(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,RE(n,t)}}var h0={readContext:fs,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},cG={readContext:fs,useCallback:function(n,e){return so().memoizedState=[n,e===void 0?null:e],n},useContext:fs,useEffect:BR,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Av(4194308,4,DL.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Av(4194308,4,n,e)},useInsertionEffect:function(n,e){return Av(4,2,n,e)},useMemo:function(n,e){var t=so();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=so();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=aG.bind(null,Bn,n),[r.memoizedState,n]},useRef:function(n){var e=so();return n={current:n},e.memoizedState=n},useState:DR,useDebugValue:ZE,useDeferredValue:function(n){return so().memoizedState=n},useTransition:function(){var n=DR(!1),e=n[0];return n=oG.bind(null,n[1]),so().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Bn,i=so();if(Mn){if(t===void 0)throw Error(Le(407));t=t()}else{if(t=e(),fr===null)throw Error(Le(349));tu&30||EL(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,BR(ML.bind(null,r,s,n),[n]),r.flags|=2048,Fp(9,CL.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=so(),e=fr.identifierPrefix;if(Mn){var t=Yo,r=Jo;t=(r&~(1<<32-ks(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=kp++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=sG++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},uG={readContext:fs,useCallback:LL,useContext:fs,useEffect:QE,useImperativeHandle:BL,useInsertionEffect:PL,useLayoutEffect:IL,useMemo:kL,useReducer:Lb,useRef:RL,useState:function(){return Lb(Op)},useDebugValue:ZE,useDeferredValue:function(n){var e=ps();return OL(e,tr.memoizedState,n)},useTransition:function(){var n=Lb(Op)[0],e=ps().memoizedState;return[n,e]},useMutableSource:SL,useSyncExternalStore:AL,useId:FL,unstable_isNewReconciler:!1},dG={readContext:fs,useCallback:LL,useContext:fs,useEffect:QE,useImperativeHandle:BL,useInsertionEffect:PL,useLayoutEffect:IL,useMemo:kL,useReducer:kb,useRef:RL,useState:function(){return kb(Op)},useDebugValue:ZE,useDeferredValue:function(n){var e=ps();return tr===null?e.memoizedState=n:OL(e,tr.memoizedState,n)},useTransition:function(){var n=kb(Op)[0],e=ps().memoizedState;return[n,e]},useMutableSource:SL,useSyncExternalStore:AL,useId:FL,unstable_isNewReconciler:!1};function Es(n,e){if(n&&n.defaultProps){e=Ln({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function W1(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Ln({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Ly={isMounted:function(n){return(n=n._reactInternals)?yu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=ti(),i=Sl(n),s=ea(r,i);s.payload=e,t!=null&&(s.callback=t),e=_l(n,s,i),e!==null&&(Os(e,n,i,r),bv(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=ti(),i=Sl(n),s=ea(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=_l(n,s,i),e!==null&&(Os(e,n,i,r),bv(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=ti(),r=Sl(n),i=ea(t,r);i.tag=2,e!=null&&(i.callback=e),e=_l(n,i,r),e!==null&&(Os(e,n,r,t),bv(e,n,r))}};function LR(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Rp(t,r)||!Rp(i,s):!0}function HL(n,e,t){var r=!1,i=Pl,s=e.contextType;return typeof s=="object"&&s!==null?s=fs(s):(i=bi(e)?Zc:zr.current,r=e.contextTypes,s=(r=r!=null)?ah(n,i):Pl),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ly,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function kR(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Ly.enqueueReplaceState(e,e.state,null)}function X1(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},WE(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=fs(s):(s=bi(e)?Zc:zr.current,i.context=ah(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(W1(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ly.enqueueReplaceState(i,i.state,null),c0(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function dh(n,e){try{var t="",r=e;do t+=j6(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function Ob(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function K1(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var hG=typeof WeakMap=="function"?WeakMap:Map;function GL(n,e,t){t=ea(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){p0||(p0=!0,rA=r),K1(n,e)},t}function VL(n,e,t){t=ea(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){K1(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){K1(n,e),typeof r!="function"&&(bl===null?bl=new Set([this]):bl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function OR(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new hG;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=CG.bind(null,n,e,t),e.then(n,n))}function FR(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function jR(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ea(-1,1),e.tag=2,_l(t,e,1))),t.lanes|=1),n)}var fG=ba.ReactCurrentOwner,vi=!1;function Qr(n,e,t,r){e.child=n===null?yL(e,null,t,r):ch(e,n.child,t,r)}function UR(n,e,t,r,i){t=t.render;var s=e.ref;return Fd(e,i),r=$E(n,e,t,r,s,i),t=qE(),n!==null&&!vi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,da(n,e,i)):(Mn&&t&&FE(e),e.flags|=1,Qr(n,e,r,i),e.child)}function zR(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!aC(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,WL(n,e,s,r,i)):(n=Tv(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Rp,t(o,r)&&n.ref===e.ref)return da(n,e,i)}return e.flags|=1,n=Al(s,r),n.ref=e.ref,n.return=e,e.child=n}function WL(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Rp(s,r)&&n.ref===e.ref)if(vi=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(vi=!0);else return e.lanes=n.lanes,da(n,e,i)}return J1(n,e,t,r,i)}function XL(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_n(Nd,ki),ki|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,_n(Nd,ki),ki|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,_n(Nd,ki),ki|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,_n(Nd,ki),ki|=r;return Qr(n,e,i,t),e.child}function KL(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function J1(n,e,t,r,i){var s=bi(t)?Zc:zr.current;return s=ah(e,s),Fd(e,i),t=$E(n,e,t,r,s,i),r=qE(),n!==null&&!vi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,da(n,e,i)):(Mn&&r&&FE(e),e.flags|=1,Qr(n,e,t,i),e.child)}function HR(n,e,t,r,i){if(bi(t)){var s=!0;i0(e)}else s=!1;if(Fd(e,i),e.stateNode===null)Ev(n,e),HL(e,t,r),X1(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=fs(u):(u=bi(t)?Zc:zr.current,u=ah(e,u));var d=t.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&kR(e,o,r,u),el=!1;var m=e.memoizedState;o.state=m,c0(e,r,o,i),c=e.memoizedState,a!==r||m!==c||_i.current||el?(typeof d=="function"&&(W1(e,t,d,r),c=e.memoizedState),(a=el||LR(e,t,a,r,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_L(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Es(e.type,a),o.props=u,f=e.pendingProps,m=o.context,c=t.contextType,typeof c=="object"&&c!==null?c=fs(c):(c=bi(t)?Zc:zr.current,c=ah(e,c));var g=t.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==c)&&kR(e,o,r,c),el=!1,m=e.memoizedState,o.state=m,c0(e,r,o,i);var v=e.memoizedState;a!==f||m!==v||_i.current||el?(typeof g=="function"&&(W1(e,t,g,r),v=e.memoizedState),(u=el||LR(e,t,u,r,m,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),r=!1)}return Y1(n,e,t,r,s,i)}function Y1(n,e,t,r,i,s){KL(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&MR(e,t,!1),da(n,e,s);r=e.stateNode,fG.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=ch(e,n.child,null,s),e.child=ch(e,null,a,s)):Qr(n,e,a,s),e.memoizedState=r.state,i&&MR(e,t,!0),e.child}function JL(n){var e=n.stateNode;e.pendingContext?CR(n,e.pendingContext,e.pendingContext!==e.context):e.context&&CR(n,e.context,!1),XE(n,e.containerInfo)}function GR(n,e,t,r,i){return lh(),UE(i),e.flags|=256,Qr(n,e,t,r),e.child}var $1={dehydrated:null,treeContext:null,retryLane:0};function q1(n){return{baseLanes:n,cachePool:null,transitions:null}}function YL(n,e,t){var r=e.pendingProps,i=Pn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),_n(Pn,i&1),n===null)return G1(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Fy(o,r,0,null),n=Kc(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=q1(t),e.memoizedState=$1,n):eC(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return pG(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Al(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Al(a,s):(s=Kc(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?q1(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=$1,r}return s=n.child,n=s.sibling,r=Al(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function eC(n,e){return e=Fy({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function ax(n,e,t,r){return r!==null&&UE(r),ch(e,n.child,null,t),n=eC(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function pG(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=Ob(Error(Le(422))),ax(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Fy({mode:"visible",children:r.children},i,0,null),s=Kc(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ch(e,n.child,null,o),e.child.memoizedState=q1(o),e.memoizedState=$1,s);if(!(e.mode&1))return ax(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Le(419)),r=Ob(s,r,void 0),ax(n,e,o,r)}if(a=(o&n.childLanes)!==0,vi||a){if(r=fr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ua(n,i),Os(r,n,i,-1))}return oC(),r=Ob(Error(Le(421))),ax(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=MG.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Fi=wl(i.nextSibling),zi=e,Mn=!0,Rs=null,n!==null&&(os[as++]=Jo,os[as++]=Yo,os[as++]=eu,Jo=n.id,Yo=n.overflow,eu=e),e=eC(e,r.children),e.flags|=4096,e)}function VR(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),V1(n.return,e,t)}function Fb(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function $L(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Qr(n,e,r.children,t),r=Pn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&VR(n,t,e);else if(n.tag===19)VR(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(_n(Pn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&u0(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Fb(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&u0(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}Fb(e,!0,t,null,s);break;case"together":Fb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ev(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function da(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),nu|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Le(153));if(e.child!==null){for(n=e.child,t=Al(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Al(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function mG(n,e,t){switch(e.tag){case 3:JL(e),lh();break;case 5:bL(e);break;case 1:bi(e.type)&&i0(e);break;case 4:XE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_n(a0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_n(Pn,Pn.current&1),e.flags|=128,null):t&e.child.childLanes?YL(n,e,t):(_n(Pn,Pn.current&1),n=da(n,e,t),n!==null?n.sibling:null);_n(Pn,Pn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return $L(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_n(Pn,Pn.current),r)break;return null;case 22:case 23:return e.lanes=0,XL(n,e,t)}return da(n,e,t)}var qL,Q1,QL,ZL;qL=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Q1=function(){};QL=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Bc(fo.current);var s=null;switch(t){case"input":i=w1(n,i),r=w1(n,r),s=[];break;case"select":i=Ln({},i,{value:void 0}),r=Ln({},r,{value:void 0}),s=[];break;case"textarea":i=S1(n,i),r=S1(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=n0)}E1(t,r);var o;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sp.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(t||(t={}),t[o]=c[o])}else t||(s||(s=[]),s.push(u,t)),t=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Sp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&An("scroll",n),s||a===c||(s=[])):(s=s||[]).push(u,c))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};ZL=function(n,e,t,r){t!==r&&(e.flags|=4)};function Sf(n,e){if(!Mn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Pr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function gG(n,e,t){var r=e.pendingProps;switch(jE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(e),null;case 1:return bi(e.type)&&r0(),Pr(e),null;case 3:return r=e.stateNode,uh(),En(_i),En(zr),JE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(sx(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rs!==null&&(oA(Rs),Rs=null))),Q1(n,e),Pr(e),null;case 5:KE(e);var i=Bc(Lp.current);if(t=e.type,n!==null&&e.stateNode!=null)QL(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Le(166));return Pr(e),null}if(n=Bc(fo.current),sx(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[co]=e,r[Dp]=s,n=(e.mode&1)!==0,t){case"dialog":An("cancel",r),An("close",r);break;case"iframe":case"object":case"embed":An("load",r);break;case"video":case"audio":for(i=0;i<Kf.length;i++)An(Kf[i],r);break;case"source":An("error",r);break;case"img":case"image":case"link":An("error",r),An("load",r);break;case"details":An("toggle",r);break;case"input":ZN(r,s),An("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},An("invalid",r);break;case"textarea":tR(r,s),An("invalid",r)}E1(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ix(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ix(r.textContent,a,n),i=["children",""+a]):Sp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&An("scroll",r)}switch(t){case"input":$g(r),eR(r,s,!0);break;case"textarea":$g(r),nR(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=n0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=MB(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[co]=e,n[Dp]=r,qL(n,e,!1,!1),e.stateNode=n;e:{switch(o=C1(t,r),t){case"dialog":An("cancel",n),An("close",n),i=r;break;case"iframe":case"object":case"embed":An("load",n),i=r;break;case"video":case"audio":for(i=0;i<Kf.length;i++)An(Kf[i],n);i=r;break;case"source":An("error",n),i=r;break;case"img":case"image":case"link":An("error",n),An("load",n),i=r;break;case"details":An("toggle",n),i=r;break;case"input":ZN(n,r),i=w1(n,r),An("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Ln({},r,{value:void 0}),An("invalid",n);break;case"textarea":tR(n,r),i=S1(n,r),An("invalid",n);break;default:i=r}E1(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?RB(n,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&TB(n,c)):s==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&Ap(n,c):typeof c=="number"&&Ap(n,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Sp.hasOwnProperty(s)?c!=null&&s==="onScroll"&&An("scroll",n):c!=null&&AE(n,s,c,o))}switch(t){case"input":$g(n),eR(n,r,!1);break;case"textarea":$g(n),nR(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Rl(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Bd(n,!!r.multiple,s,!1):r.defaultValue!=null&&Bd(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=n0)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pr(e),null;case 6:if(n&&e.stateNode!=null)ZL(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Le(166));if(t=Bc(Lp.current),Bc(fo.current),sx(e)){if(r=e.stateNode,t=e.memoizedProps,r[co]=e,(s=r.nodeValue!==t)&&(n=zi,n!==null))switch(n.tag){case 3:ix(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ix(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[co]=e,e.stateNode=r}return Pr(e),null;case 13:if(En(Pn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Mn&&Fi!==null&&e.mode&1&&!(e.flags&128))xL(),lh(),e.flags|=98560,s=!1;else if(s=sx(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Le(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Le(317));s[co]=e}else lh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pr(e),s=!1}else Rs!==null&&(oA(Rs),Rs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Pn.current&1?nr===0&&(nr=3):oC())),e.updateQueue!==null&&(e.flags|=4),Pr(e),null);case 4:return uh(),Q1(n,e),n===null&&Pp(e.stateNode.containerInfo),Pr(e),null;case 10:return GE(e.type._context),Pr(e),null;case 17:return bi(e.type)&&r0(),Pr(e),null;case 19:if(En(Pn),s=e.memoizedState,s===null)return Pr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Sf(s,!1);else{if(nr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=u0(n),o!==null){for(e.flags|=128,Sf(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return _n(Pn,Pn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Gn()>hh&&(e.flags|=128,r=!0,Sf(s,!1),e.lanes=4194304)}else{if(!r)if(n=u0(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Sf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Mn)return Pr(e),null}else 2*Gn()-s.renderingStartTime>hh&&t!==1073741824&&(e.flags|=128,r=!0,Sf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Gn(),e.sibling=null,t=Pn.current,_n(Pn,r?t&1|2:t&1),e):(Pr(e),null);case 22:case 23:return sC(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ki&1073741824&&(Pr(e),e.subtreeFlags&6&&(e.flags|=8192)):Pr(e),null;case 24:return null;case 25:return null}throw Error(Le(156,e.tag))}function xG(n,e){switch(jE(e),e.tag){case 1:return bi(e.type)&&r0(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return uh(),En(_i),En(zr),JE(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return KE(e),null;case 13:if(En(Pn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Le(340));lh()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return En(Pn),null;case 4:return uh(),null;case 10:return GE(e.type._context),null;case 22:case 23:return sC(),null;case 24:return null;default:return null}}var lx=!1,kr=!1,vG=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Td(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){jn(n,e,r)}else t.current=null}function Z1(n,e,t){try{t()}catch(r){jn(n,e,r)}}var WR=!1;function yG(n,e){if(k1=Zv,n=iL(),OE(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,c=-1,u=0,d=0,f=n,m=null;t:for(;;){for(var g;f!==t||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===n)break t;if(m===t&&++u===i&&(a=o),m===s&&++d===r&&(c=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}t=a===-1||c===-1?null:{start:a,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(O1={focusedElem:n,selectionRange:t},Zv=!1,lt=e;lt!==null;)if(e=lt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,lt=n;else for(;lt!==null;){e=lt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:Es(e.type,y),w);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(A){jn(e,e.return,A)}if(n=e.sibling,n!==null){n.return=e.return,lt=n;break}lt=e.return}return v=WR,WR=!1,v}function lp(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&Z1(e,t,s)}i=i.next}while(i!==r)}}function ky(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function eA(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function e3(n){var e=n.alternate;e!==null&&(n.alternate=null,e3(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[co],delete e[Dp],delete e[U1],delete e[tG],delete e[nG])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function t3(n){return n.tag===5||n.tag===3||n.tag===4}function XR(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||t3(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function tA(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=n0));else if(r!==4&&(n=n.child,n!==null))for(tA(n,e,t),n=n.sibling;n!==null;)tA(n,e,t),n=n.sibling}function nA(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(nA(n,e,t),n=n.sibling;n!==null;)nA(n,e,t),n=n.sibling}var yr=null,Ns=!1;function Fa(n,e,t){for(t=t.child;t!==null;)n3(n,e,t),t=t.sibling}function n3(n,e,t){if(ho&&typeof ho.onCommitFiberUnmount=="function")try{ho.onCommitFiberUnmount(Ty,t)}catch{}switch(t.tag){case 5:kr||Td(t,e);case 6:var r=yr,i=Ns;yr=null,Fa(n,e,t),yr=r,Ns=i,yr!==null&&(Ns?(n=yr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):yr.removeChild(t.stateNode));break;case 18:yr!==null&&(Ns?(n=yr,t=t.stateNode,n.nodeType===8?Pb(n.parentNode,t):n.nodeType===1&&Pb(n,t),Tp(n)):Pb(yr,t.stateNode));break;case 4:r=yr,i=Ns,yr=t.stateNode.containerInfo,Ns=!0,Fa(n,e,t),yr=r,Ns=i;break;case 0:case 11:case 14:case 15:if(!kr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Z1(t,e,o),i=i.next}while(i!==r)}Fa(n,e,t);break;case 1:if(!kr&&(Td(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){jn(t,e,a)}Fa(n,e,t);break;case 21:Fa(n,e,t);break;case 22:t.mode&1?(kr=(r=kr)||t.memoizedState!==null,Fa(n,e,t),kr=r):Fa(n,e,t);break;default:Fa(n,e,t)}}function KR(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new vG),e.forEach(function(r){var i=TG.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function ws(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yr=a.stateNode,Ns=!1;break e;case 3:yr=a.stateNode.containerInfo,Ns=!0;break e;case 4:yr=a.stateNode.containerInfo,Ns=!0;break e}a=a.return}if(yr===null)throw Error(Le(160));n3(s,o,i),yr=null,Ns=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){jn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)r3(e,n),e=e.sibling}function r3(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ws(e,n),to(n),r&4){try{lp(3,n,n.return),ky(3,n)}catch(y){jn(n,n.return,y)}try{lp(5,n,n.return)}catch(y){jn(n,n.return,y)}}break;case 1:ws(e,n),to(n),r&512&&t!==null&&Td(t,t.return);break;case 5:if(ws(e,n),to(n),r&512&&t!==null&&Td(t,t.return),n.flags&32){var i=n.stateNode;try{Ap(i,"")}catch(y){jn(n,n.return,y)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&EB(i,s),C1(a,o);var u=C1(a,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?RB(i,f):d==="dangerouslySetInnerHTML"?TB(i,f):d==="children"?Ap(i,f):AE(i,d,f,u)}switch(a){case"input":_1(i,s);break;case"textarea":CB(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Bd(i,!!s.multiple,g,!1):m!==!!s.multiple&&(s.defaultValue!=null?Bd(i,!!s.multiple,s.defaultValue,!0):Bd(i,!!s.multiple,s.multiple?[]:"",!1))}i[Dp]=s}catch(y){jn(n,n.return,y)}}break;case 6:if(ws(e,n),to(n),r&4){if(n.stateNode===null)throw Error(Le(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(y){jn(n,n.return,y)}}break;case 3:if(ws(e,n),to(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Tp(e.containerInfo)}catch(y){jn(n,n.return,y)}break;case 4:ws(e,n),to(n);break;case 13:ws(e,n),to(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(rC=Gn())),r&4&&KR(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(kr=(u=kr)||d,ws(e,n),kr=u):ws(e,n),to(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(lt=n,d=n.child;d!==null;){for(f=lt=d;lt!==null;){switch(m=lt,g=m.child,m.tag){case 0:case 11:case 14:case 15:lp(4,m,m.return);break;case 1:Td(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,t=m.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){jn(r,t,y)}}break;case 5:Td(m,m.return);break;case 22:if(m.memoizedState!==null){YR(f);continue}}g!==null?(g.return=m,lt=g):YR(f)}d=d.sibling}e:for(d=null,f=n;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=NB("display",o))}catch(y){jn(n,n.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){jn(n,n.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ws(e,n),to(n),r&4&&KR(n);break;case 21:break;default:ws(e,n),to(n)}}function to(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(t3(t)){var r=t;break e}t=t.return}throw Error(Le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ap(i,""),r.flags&=-33);var s=XR(n);nA(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=XR(n);tA(n,a,o);break;default:throw Error(Le(161))}}catch(c){jn(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function wG(n,e,t){lt=n,i3(n)}function i3(n,e,t){for(var r=(n.mode&1)!==0;lt!==null;){var i=lt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||lx;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||kr;a=lx;var u=kr;if(lx=o,(kr=c)&&!u)for(lt=i;lt!==null;)o=lt,c=o.child,o.tag===22&&o.memoizedState!==null?$R(i):c!==null?(c.return=o,lt=c):$R(i);for(;s!==null;)lt=s,i3(s),s=s.sibling;lt=i,lx=a,kr=u}JR(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,lt=s):JR(n)}}function JR(n){for(;lt!==null;){var e=lt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kr||ky(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!kr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Es(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&IR(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}IR(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Tp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}kr||e.flags&512&&eA(e)}catch(m){jn(e,e.return,m)}}if(e===n){lt=null;break}if(t=e.sibling,t!==null){t.return=e.return,lt=t;break}lt=e.return}}function YR(n){for(;lt!==null;){var e=lt;if(e===n){lt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,lt=t;break}lt=e.return}}function $R(n){for(;lt!==null;){var e=lt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{ky(4,e)}catch(c){jn(e,t,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){jn(e,i,c)}}var s=e.return;try{eA(e)}catch(c){jn(e,s,c)}break;case 5:var o=e.return;try{eA(e)}catch(c){jn(e,o,c)}}}catch(c){jn(e,e.return,c)}if(e===n){lt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,lt=a;break}lt=e.return}}var _G=Math.ceil,f0=ba.ReactCurrentDispatcher,tC=ba.ReactCurrentOwner,ds=ba.ReactCurrentBatchConfig,on=0,fr=null,qn=null,wr=0,ki=0,Nd=Hl(0),nr=0,jp=null,nu=0,Oy=0,nC=0,cp=null,gi=null,rC=0,hh=1/0,zo=null,p0=!1,rA=null,bl=null,cx=!1,pl=null,m0=0,up=0,iA=null,Cv=-1,Mv=0;function ti(){return on&6?Gn():Cv!==-1?Cv:Cv=Gn()}function Sl(n){return n.mode&1?on&2&&wr!==0?wr&-wr:iG.transition!==null?(Mv===0&&(Mv=HB()),Mv):(n=xn,n!==0||(n=window.event,n=n===void 0?16:YB(n.type)),n):1}function Os(n,e,t,r){if(50<up)throw up=0,iA=null,Error(Le(185));fm(n,t,r),(!(on&2)||n!==fr)&&(n===fr&&(!(on&2)&&(Oy|=t),nr===4&&nl(n,wr)),Si(n,r),t===1&&on===0&&!(e.mode&1)&&(hh=Gn()+500,Dy&&Gl()))}function Si(n,e){var t=n.callbackNode;iH(n,e);var r=Qv(n,n===fr?wr:0);if(r===0)t!==null&&sR(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&sR(t),e===1)n.tag===0?rG(qR.bind(null,n)):pL(qR.bind(null,n)),ZH(function(){!(on&6)&&Gl()}),t=null;else{switch(GB(r)){case 1:t=NE;break;case 4:t=UB;break;case 16:t=qv;break;case 536870912:t=zB;break;default:t=qv}t=h3(t,s3.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function s3(n,e){if(Cv=-1,Mv=0,on&6)throw Error(Le(327));var t=n.callbackNode;if(jd()&&n.callbackNode!==t)return null;var r=Qv(n,n===fr?wr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=g0(n,r);else{e=r;var i=on;on|=2;var s=a3();(fr!==n||wr!==e)&&(zo=null,hh=Gn()+500,Xc(n,e));do try{AG();break}catch(a){o3(n,a)}while(!0);HE(),f0.current=s,on=i,qn!==null?e=0:(fr=null,wr=0,e=nr)}if(e!==0){if(e===2&&(i=P1(n),i!==0&&(r=i,e=sA(n,i))),e===1)throw t=jp,Xc(n,0),nl(n,r),Si(n,Gn()),t;if(e===6)nl(n,r);else{if(i=n.current.alternate,!(r&30)&&!bG(i)&&(e=g0(n,r),e===2&&(s=P1(n),s!==0&&(r=s,e=sA(n,s))),e===1))throw t=jp,Xc(n,0),nl(n,r),Si(n,Gn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Le(345));case 2:Ec(n,gi,zo);break;case 3:if(nl(n,r),(r&130023424)===r&&(e=rC+500-Gn(),10<e)){if(Qv(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){ti(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=j1(Ec.bind(null,n,gi,zo),e);break}Ec(n,gi,zo);break;case 4:if(nl(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-ks(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Gn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_G(r/1960))-r,10<r){n.timeoutHandle=j1(Ec.bind(null,n,gi,zo),r);break}Ec(n,gi,zo);break;case 5:Ec(n,gi,zo);break;default:throw Error(Le(329))}}}return Si(n,Gn()),n.callbackNode===t?s3.bind(null,n):null}function sA(n,e){var t=cp;return n.current.memoizedState.isDehydrated&&(Xc(n,e).flags|=256),n=g0(n,e),n!==2&&(e=gi,gi=t,e!==null&&oA(e)),n}function oA(n){gi===null?gi=n:gi.push.apply(gi,n)}function bG(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Fs(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function nl(n,e){for(e&=~nC,e&=~Oy,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ks(e),r=1<<t;n[t]=-1,e&=~r}}function qR(n){if(on&6)throw Error(Le(327));jd();var e=Qv(n,0);if(!(e&1))return Si(n,Gn()),null;var t=g0(n,e);if(n.tag!==0&&t===2){var r=P1(n);r!==0&&(e=r,t=sA(n,r))}if(t===1)throw t=jp,Xc(n,0),nl(n,e),Si(n,Gn()),t;if(t===6)throw Error(Le(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ec(n,gi,zo),Si(n,Gn()),null}function iC(n,e){var t=on;on|=1;try{return n(e)}finally{on=t,on===0&&(hh=Gn()+500,Dy&&Gl())}}function ru(n){pl!==null&&pl.tag===0&&!(on&6)&&jd();var e=on;on|=1;var t=ds.transition,r=xn;try{if(ds.transition=null,xn=1,n)return n()}finally{xn=r,ds.transition=t,on=e,!(on&6)&&Gl()}}function sC(){ki=Nd.current,En(Nd)}function Xc(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,QH(t)),qn!==null)for(t=qn.return;t!==null;){var r=t;switch(jE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&r0();break;case 3:uh(),En(_i),En(zr),JE();break;case 5:KE(r);break;case 4:uh();break;case 13:En(Pn);break;case 19:En(Pn);break;case 10:GE(r.type._context);break;case 22:case 23:sC()}t=t.return}if(fr=n,qn=n=Al(n.current,null),wr=ki=e,nr=0,jp=null,nC=Oy=nu=0,gi=cp=null,Dc!==null){for(e=0;e<Dc.length;e++)if(t=Dc[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Dc=null}return n}function o3(n,e){do{var t=qn;try{if(HE(),Sv.current=h0,d0){for(var r=Bn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}d0=!1}if(tu=0,hr=tr=Bn=null,ap=!1,kp=0,tC.current=null,t===null||t.return===null){nr=1,jp=e,qn=null;break}e:{var s=n,o=t.return,a=t,c=e;if(e=wr,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=FR(o);if(g!==null){g.flags&=-257,jR(g,o,a,s,e),g.mode&1&&OR(s,u,e),e=g,c=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(c),e.updateQueue=y}else v.add(c);break e}else{if(!(e&1)){OR(s,u,e),oC();break e}c=Error(Le(426))}}else if(Mn&&a.mode&1){var w=FR(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),jR(w,o,a,s,e),UE(dh(c,a));break e}}s=c=dh(c,a),nr!==4&&(nr=2),cp===null?cp=[s]:cp.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=GL(s,c,e);PR(s,x);break e;case 1:a=c;var b=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(bl===null||!bl.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=VL(s,a,e);PR(s,A);break e}}s=s.return}while(s!==null)}c3(t)}catch(T){e=T,qn===t&&t!==null&&(qn=t=t.return);continue}break}while(!0)}function a3(){var n=f0.current;return f0.current=h0,n===null?h0:n}function oC(){(nr===0||nr===3||nr===2)&&(nr=4),fr===null||!(nu&268435455)&&!(Oy&268435455)||nl(fr,wr)}function g0(n,e){var t=on;on|=2;var r=a3();(fr!==n||wr!==e)&&(zo=null,Xc(n,e));do try{SG();break}catch(i){o3(n,i)}while(!0);if(HE(),on=t,f0.current=r,qn!==null)throw Error(Le(261));return fr=null,wr=0,nr}function SG(){for(;qn!==null;)l3(qn)}function AG(){for(;qn!==null&&!Y6();)l3(qn)}function l3(n){var e=d3(n.alternate,n,ki);n.memoizedProps=n.pendingProps,e===null?c3(n):qn=e,tC.current=null}function c3(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=xG(t,e),t!==null){t.flags&=32767,qn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{nr=6,qn=null;return}}else if(t=gG(t,e,ki),t!==null){qn=t;return}if(e=e.sibling,e!==null){qn=e;return}qn=e=n}while(e!==null);nr===0&&(nr=5)}function Ec(n,e,t){var r=xn,i=ds.transition;try{ds.transition=null,xn=1,EG(n,e,t,r)}finally{ds.transition=i,xn=r}return null}function EG(n,e,t,r){do jd();while(pl!==null);if(on&6)throw Error(Le(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Le(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(sH(n,s),n===fr&&(qn=fr=null,wr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||cx||(cx=!0,h3(qv,function(){return jd(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=ds.transition,ds.transition=null;var o=xn;xn=1;var a=on;on|=4,tC.current=null,yG(n,t),r3(t,n),WH(O1),Zv=!!k1,O1=k1=null,n.current=t,wG(t),$6(),on=a,xn=o,ds.transition=s}else n.current=t;if(cx&&(cx=!1,pl=n,m0=i),s=n.pendingLanes,s===0&&(bl=null),Z6(t.stateNode),Si(n,Gn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(p0)throw p0=!1,n=rA,rA=null,n;return m0&1&&n.tag!==0&&jd(),s=n.pendingLanes,s&1?n===iA?up++:(up=0,iA=n):up=0,Gl(),null}function jd(){if(pl!==null){var n=GB(m0),e=ds.transition,t=xn;try{if(ds.transition=null,xn=16>n?16:n,pl===null)var r=!1;else{if(n=pl,pl=null,m0=0,on&6)throw Error(Le(331));var i=on;for(on|=4,lt=n.current;lt!==null;){var s=lt,o=s.child;if(lt.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(lt=u;lt!==null;){var d=lt;switch(d.tag){case 0:case 11:case 15:lp(8,d,s)}var f=d.child;if(f!==null)f.return=d,lt=f;else for(;lt!==null;){d=lt;var m=d.sibling,g=d.return;if(e3(d),d===u){lt=null;break}if(m!==null){m.return=g,lt=m;break}lt=g}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}lt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,lt=o;else e:for(;lt!==null;){if(s=lt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:lp(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,lt=x;break e}lt=s.return}}var b=n.current;for(lt=b;lt!==null;){o=lt;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,lt=S;else e:for(o=b;lt!==null;){if(a=lt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ky(9,a)}}catch(T){jn(a,a.return,T)}if(a===o){lt=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,lt=A;break e}lt=a.return}}if(on=i,Gl(),ho&&typeof ho.onPostCommitFiberRoot=="function")try{ho.onPostCommitFiberRoot(Ty,n)}catch{}r=!0}return r}finally{xn=t,ds.transition=e}}return!1}function QR(n,e,t){e=dh(t,e),e=GL(n,e,1),n=_l(n,e,1),e=ti(),n!==null&&(fm(n,1,e),Si(n,e))}function jn(n,e,t){if(n.tag===3)QR(n,n,t);else for(;e!==null;){if(e.tag===3){QR(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bl===null||!bl.has(r))){n=dh(t,n),n=VL(e,n,1),e=_l(e,n,1),n=ti(),e!==null&&(fm(e,1,n),Si(e,n));break}}e=e.return}}function CG(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=ti(),n.pingedLanes|=n.suspendedLanes&t,fr===n&&(wr&t)===t&&(nr===4||nr===3&&(wr&130023424)===wr&&500>Gn()-rC?Xc(n,0):nC|=t),Si(n,e)}function u3(n,e){e===0&&(n.mode&1?(e=Zg,Zg<<=1,!(Zg&130023424)&&(Zg=4194304)):e=1);var t=ti();n=ua(n,e),n!==null&&(fm(n,e,t),Si(n,t))}function MG(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),u3(n,t)}function TG(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Le(314))}r!==null&&r.delete(e),u3(n,t)}var d3;d3=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||_i.current)vi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return vi=!1,mG(n,e,t);vi=!!(n.flags&131072)}else vi=!1,Mn&&e.flags&1048576&&mL(e,o0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ev(n,e),n=e.pendingProps;var i=ah(e,zr.current);Fd(e,t),i=$E(null,e,r,n,i,t);var s=qE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bi(r)?(s=!0,i0(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,WE(e),i.updater=Ly,e.stateNode=i,i._reactInternals=e,X1(e,r,n,t),e=Y1(null,e,r,!0,s,t)):(e.tag=0,Mn&&s&&FE(e),Qr(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Ev(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=RG(r),n=Es(r,n),i){case 0:e=J1(null,e,r,n,t);break e;case 1:e=HR(null,e,r,n,t);break e;case 11:e=UR(null,e,r,n,t);break e;case 14:e=zR(null,e,r,Es(r.type,n),t);break e}throw Error(Le(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Es(r,i),J1(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Es(r,i),HR(n,e,r,i,t);case 3:e:{if(JL(e),n===null)throw Error(Le(387));r=e.pendingProps,s=e.memoizedState,i=s.element,_L(n,e),c0(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=dh(Error(Le(423)),e),e=GR(n,e,r,t,i);break e}else if(r!==i){i=dh(Error(Le(424)),e),e=GR(n,e,r,t,i);break e}else for(Fi=wl(e.stateNode.containerInfo.firstChild),zi=e,Mn=!0,Rs=null,t=yL(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(lh(),r===i){e=da(n,e,t);break e}Qr(n,e,r,t)}e=e.child}return e;case 5:return bL(e),n===null&&G1(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,F1(r,i)?o=null:s!==null&&F1(r,s)&&(e.flags|=32),KL(n,e),Qr(n,e,o,t),e.child;case 6:return n===null&&G1(e),null;case 13:return YL(n,e,t);case 4:return XE(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=ch(e,null,r,t):Qr(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Es(r,i),UR(n,e,r,i,t);case 7:return Qr(n,e,e.pendingProps,t),e.child;case 8:return Qr(n,e,e.pendingProps.children,t),e.child;case 12:return Qr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,_n(a0,r._currentValue),r._currentValue=o,s!==null)if(Fs(s.value,o)){if(s.children===i.children&&!_i.current){e=da(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=ea(-1,t&-t),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=t,c=s.alternate,c!==null&&(c.lanes|=t),V1(s.return,t,e),a.lanes|=t;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Le(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),V1(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Qr(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Fd(e,t),i=fs(i),r=r(i),e.flags|=1,Qr(n,e,r,t),e.child;case 14:return r=e.type,i=Es(r,e.pendingProps),i=Es(r.type,i),zR(n,e,r,i,t);case 15:return WL(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Es(r,i),Ev(n,e),e.tag=1,bi(r)?(n=!0,i0(e)):n=!1,Fd(e,t),HL(e,r,i),X1(e,r,i,t),Y1(null,e,r,!0,n,t);case 19:return $L(n,e,t);case 22:return XL(n,e,t)}throw Error(Le(156,e.tag))};function h3(n,e){return jB(n,e)}function NG(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ls(n,e,t,r){return new NG(n,e,t,r)}function aC(n){return n=n.prototype,!(!n||!n.isReactComponent)}function RG(n){if(typeof n=="function")return aC(n)?1:0;if(n!=null){if(n=n.$$typeof,n===CE)return 11;if(n===ME)return 14}return 2}function Al(n,e){var t=n.alternate;return t===null?(t=ls(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Tv(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")aC(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case yd:return Kc(t.children,i,s,e);case EE:o=8,i|=8;break;case g1:return n=ls(12,t,e,i|2),n.elementType=g1,n.lanes=s,n;case x1:return n=ls(13,t,e,i),n.elementType=x1,n.lanes=s,n;case v1:return n=ls(19,t,e,i),n.elementType=v1,n.lanes=s,n;case bB:return Fy(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case wB:o=10;break e;case _B:o=9;break e;case CE:o=11;break e;case ME:o=14;break e;case Za:o=16,r=null;break e}throw Error(Le(130,n==null?n:typeof n,""))}return e=ls(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Kc(n,e,t,r){return n=ls(7,n,r,e),n.lanes=t,n}function Fy(n,e,t,r){return n=ls(22,n,r,e),n.elementType=bB,n.lanes=t,n.stateNode={isHidden:!1},n}function jb(n,e,t){return n=ls(6,n,null,e),n.lanes=t,n}function Ub(n,e,t){return e=ls(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function PG(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wb(0),this.expirationTimes=wb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lC(n,e,t,r,i,s,o,a,c){return n=new PG(n,e,t,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ls(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},WE(s),n}function IG(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vd,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function f3(n){if(!n)return Pl;n=n._reactInternals;e:{if(yu(n)!==n||n.tag!==1)throw Error(Le(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Le(171))}if(n.tag===1){var t=n.type;if(bi(t))return fL(n,t,e)}return e}function p3(n,e,t,r,i,s,o,a,c){return n=lC(t,r,!0,n,i,s,o,a,c),n.context=f3(null),t=n.current,r=ti(),i=Sl(t),s=ea(r,i),s.callback=e??null,_l(t,s,i),n.current.lanes=i,fm(n,i,r),Si(n,r),n}function jy(n,e,t,r){var i=e.current,s=ti(),o=Sl(i);return t=f3(t),e.context===null?e.context=t:e.pendingContext=t,e=ea(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=_l(i,e,o),n!==null&&(Os(n,i,o,s),bv(n,i,o)),o}function x0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ZR(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function cC(n,e){ZR(n,e),(n=n.alternate)&&ZR(n,e)}function DG(){return null}var m3=typeof reportError=="function"?reportError:function(n){console.error(n)};function uC(n){this._internalRoot=n}Uy.prototype.render=uC.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Le(409));jy(n,e,null,null)};Uy.prototype.unmount=uC.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;ru(function(){jy(null,n,null,null)}),e[ca]=null}};function Uy(n){this._internalRoot=n}Uy.prototype.unstable_scheduleHydration=function(n){if(n){var e=XB();n={blockedOn:null,target:n,priority:e};for(var t=0;t<tl.length&&e!==0&&e<tl[t].priority;t++);tl.splice(t,0,n),t===0&&JB(n)}};function dC(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function zy(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function eP(){}function BG(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=x0(o);s.call(u)}}var o=p3(e,r,n,0,null,!1,!1,"",eP);return n._reactRootContainer=o,n[ca]=o.current,Pp(n.nodeType===8?n.parentNode:n),ru(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=x0(c);a.call(u)}}var c=lC(n,0,!1,null,null,!1,!1,"",eP);return n._reactRootContainer=c,n[ca]=c.current,Pp(n.nodeType===8?n.parentNode:n),ru(function(){jy(e,c,t,r)}),c}function Hy(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=x0(o);a.call(c)}}jy(e,o,n,i)}else o=BG(t,e,n,i,r);return x0(o)}VB=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Xf(e.pendingLanes);t!==0&&(RE(e,t|1),Si(e,Gn()),!(on&6)&&(hh=Gn()+500,Gl()))}break;case 13:ru(function(){var r=ua(n,1);if(r!==null){var i=ti();Os(r,n,1,i)}}),cC(n,1)}};PE=function(n){if(n.tag===13){var e=ua(n,134217728);if(e!==null){var t=ti();Os(e,n,134217728,t)}cC(n,134217728)}};WB=function(n){if(n.tag===13){var e=Sl(n),t=ua(n,e);if(t!==null){var r=ti();Os(t,n,e,r)}cC(n,e)}};XB=function(){return xn};KB=function(n,e){var t=xn;try{return xn=n,e()}finally{xn=t}};T1=function(n,e,t){switch(e){case"input":if(_1(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=Iy(r);if(!i)throw Error(Le(90));AB(r),_1(r,i)}}}break;case"textarea":CB(n,t);break;case"select":e=t.value,e!=null&&Bd(n,!!t.multiple,e,!1)}};DB=iC;BB=ru;var LG={usingClientEntryPoint:!1,Events:[mm,Sd,Iy,PB,IB,iC]},Af={findFiberByHostInstance:Ic,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kG={bundleType:Af.bundleType,version:Af.version,rendererPackageName:Af.rendererPackageName,rendererConfig:Af.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ba.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=OB(n),n===null?null:n.stateNode},findFiberByHostInstance:Af.findFiberByHostInstance||DG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ux=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ux.isDisabled&&ux.supportsFiber)try{Ty=ux.inject(kG),ho=ux}catch{}}Ki.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LG;Ki.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dC(e))throw Error(Le(200));return IG(n,e,null,t)};Ki.createRoot=function(n,e){if(!dC(n))throw Error(Le(299));var t=!1,r="",i=m3;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=lC(n,1,!1,null,null,t,!1,r,i),n[ca]=e.current,Pp(n.nodeType===8?n.parentNode:n),new uC(e)};Ki.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Le(188)):(n=Object.keys(n).join(","),Error(Le(268,n)));return n=OB(e),n=n===null?null:n.stateNode,n};Ki.flushSync=function(n){return ru(n)};Ki.hydrate=function(n,e,t){if(!zy(e))throw Error(Le(200));return Hy(null,n,e,!0,t)};Ki.hydrateRoot=function(n,e,t){if(!dC(n))throw Error(Le(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=m3;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=p3(e,null,n,1,t??null,i,!1,s,o),n[ca]=e.current,Pp(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Uy(e)};Ki.render=function(n,e,t){if(!zy(e))throw Error(Le(200));return Hy(null,n,e,!1,t)};Ki.unmountComponentAtNode=function(n){if(!zy(n))throw Error(Le(40));return n._reactRootContainer?(ru(function(){Hy(null,null,n,!1,function(){n._reactRootContainer=null,n[ca]=null})}),!0):!1};Ki.unstable_batchedUpdates=iC;Ki.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!zy(t))throw Error(Le(200));if(n==null||n._reactInternals===void 0)throw Error(Le(38));return Hy(n,e,t,!1,r)};Ki.version="18.3.1-next-f1338f8080-20240426";function g3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g3)}catch(n){console.error(n)}}g3(),gB.exports=Ki;var wu=gB.exports;const x3=xE(wu);var v3,tP=wu;v3=tP.createRoot,tP.hydrateRoot;const OG=1,FG=1e6;let zb=0;function jG(){return zb=(zb+1)%Number.MAX_SAFE_INTEGER,zb.toString()}const Hb=new Map,nP=n=>{if(Hb.has(n))return;const e=setTimeout(()=>{Hb.delete(n),dp({type:"REMOVE_TOAST",toastId:n})},FG);Hb.set(n,e)},UG=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,OG)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?nP(t):n.toasts.forEach(r=>{nP(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},Nv=[];let Rv={toasts:[]};function dp(n){Rv=UG(Rv,n),Nv.forEach(e=>{e(Rv)})}function y3({...n}){const e=jG(),t=i=>dp({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>dp({type:"DISMISS_TOAST",toastId:e});return dp({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function Gy(){const[n,e]=C.useState(Rv);return C.useEffect(()=>(Nv.push(e),()=>{const t=Nv.indexOf(e);t>-1&&Nv.splice(t,1)}),[n]),{...n,toast:y3,dismiss:t=>dp({type:"DISMISS_TOAST",toastId:t})}}function $e(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function zG(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function Vy(...n){return e=>n.forEach(t=>zG(t,e))}function pn(...n){return C.useCallback(Vy(...n),n)}function HG(n,e=[]){let t=[];function r(s,o){const a=C.createContext(o),c=t.length;t=[...t,o];function u(f){const{scope:m,children:g,...v}=f,y=(m==null?void 0:m[n][c])||a,w=C.useMemo(()=>v,Object.values(v));return l.jsx(y.Provider,{value:w,children:g})}function d(f,m){const g=(m==null?void 0:m[n][c])||a,v=C.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=t.map(o=>C.createContext(o));return function(a){const c=(a==null?void 0:a[n])||s;return C.useMemo(()=>({[`__scope${n}`]:{...a,[n]:c}}),[a,c])}};return i.scopeName=n,[r,GG(i,...e)]}function GG(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...a,...f}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var iu=C.forwardRef((n,e)=>{const{children:t,...r}=n,i=C.Children.toArray(t),s=i.find(VG);if(s){const o=s.props.children,a=i.map(c=>c===s?C.Children.count(o)>1?C.Children.only(null):C.isValidElement(o)?o.props.children:null:c);return l.jsx(aA,{...r,ref:e,children:C.isValidElement(o)?C.cloneElement(o,void 0,a):null})}return l.jsx(aA,{...r,ref:e,children:t})});iu.displayName="Slot";var aA=C.forwardRef((n,e)=>{const{children:t,...r}=n;if(C.isValidElement(t)){const i=XG(t);return C.cloneElement(t,{...WG(r,t.props),ref:e?Vy(e,i):i})}return C.Children.count(t)>1?C.Children.only(null):null});aA.displayName="SlotClone";var w3=({children:n})=>l.jsx(l.Fragment,{children:n});function VG(n){return C.isValidElement(n)&&n.type===w3}function WG(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{s(...a),i(...a)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function XG(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Wy(n){const e=n+"CollectionProvider",[t,r]=HG(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:y}=g,w=je.useRef(null),x=je.useRef(new Map).current;return l.jsx(i,{scope:v,itemMap:x,collectionRef:w,children:y})};o.displayName=e;const a=n+"CollectionSlot",c=je.forwardRef((g,v)=>{const{scope:y,children:w}=g,x=s(a,y),b=pn(v,x.collectionRef);return l.jsx(iu,{ref:b,children:w})});c.displayName=a;const u=n+"CollectionItemSlot",d="data-radix-collection-item",f=je.forwardRef((g,v)=>{const{scope:y,children:w,...x}=g,b=je.useRef(null),S=pn(v,b),A=s(u,y);return je.useEffect(()=>(A.itemMap.set(b,{ref:b,...x}),()=>void A.itemMap.delete(b))),l.jsx(iu,{[d]:"",ref:S,children:w})});f.displayName=u;function m(g){const v=s(n+"CollectionConsumer",g);return je.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const x=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((A,T)=>x.indexOf(A.ref.current)-x.indexOf(T.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},m,r]}function Sa(n,e=[]){let t=[];function r(s,o){const a=C.createContext(o),c=t.length;t=[...t,o];const u=f=>{var x;const{scope:m,children:g,...v}=f,y=((x=m==null?void 0:m[n])==null?void 0:x[c])||a,w=C.useMemo(()=>v,Object.values(v));return l.jsx(y.Provider,{value:w,children:g})};u.displayName=s+"Provider";function d(f,m){var y;const g=((y=m==null?void 0:m[n])==null?void 0:y[c])||a,v=C.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=t.map(o=>C.createContext(o));return function(a){const c=(a==null?void 0:a[n])||s;return C.useMemo(()=>({[`__scope${n}`]:{...a,[n]:c}}),[a,c])}};return i.scopeName=n,[r,KG(i,...e)]}function KG(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...a,...f}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var JG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Nt=JG.reduce((n,e)=>{const t=C.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?iu:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(a,{...o,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function hC(n,e){n&&wu.flushSync(()=>n.dispatchEvent(e))}function Hr(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n}),C.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function YG(n,e=globalThis==null?void 0:globalThis.document){const t=Hr(n);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var $G="DismissableLayer",lA="dismissableLayer.update",qG="dismissableLayer.pointerDownOutside",QG="dismissableLayer.focusOutside",rP,_3=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xm=C.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...c}=n,u=C.useContext(_3),[d,f]=C.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=C.useState({}),v=pn(e,P=>f(P)),y=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(w),b=d?y.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,A=b>=x,T=e8(P=>{const D=P.target,I=[...u.branches].some(R=>R.contains(D));!A||I||(i==null||i(P),o==null||o(P),P.defaultPrevented||a==null||a())},m),N=t8(P=>{const D=P.target;[...u.branches].some(R=>R.contains(D))||(s==null||s(P),o==null||o(P),P.defaultPrevented||a==null||a())},m);return YG(P=>{b===u.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&a&&(P.preventDefault(),a()))},m),C.useEffect(()=>{if(d)return t&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(rP=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),iP(),()=>{t&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=rP)}},[d,m,t,u]),C.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),iP())},[d,u]),C.useEffect(()=>{const P=()=>g({});return document.addEventListener(lA,P),()=>document.removeEventListener(lA,P)},[]),l.jsx(Nt.div,{...c,ref:v,style:{pointerEvents:S?A?"auto":"none":void 0,...n.style},onFocusCapture:$e(n.onFocusCapture,N.onFocusCapture),onBlurCapture:$e(n.onBlurCapture,N.onBlurCapture),onPointerDownCapture:$e(n.onPointerDownCapture,T.onPointerDownCapture)})});xm.displayName=$G;var ZG="DismissableLayerBranch",b3=C.forwardRef((n,e)=>{const t=C.useContext(_3),r=C.useRef(null),i=pn(e,r);return C.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),l.jsx(Nt.div,{...n,ref:i})});b3.displayName=ZG;function e8(n,e=globalThis==null?void 0:globalThis.document){const t=Hr(n),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){S3(qG,t,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function t8(n,e=globalThis==null?void 0:globalThis.document){const t=Hr(n),r=C.useRef(!1);return C.useEffect(()=>{const i=s=>{s.target&&!r.current&&S3(QG,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function iP(){const n=new CustomEvent(lA);document.dispatchEvent(n)}function S3(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?hC(i,s):i.dispatchEvent(s)}var n8=xm,r8=b3,Gr=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},i8="Portal",Xy=C.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[i,s]=C.useState(!1);Gr(()=>s(!0),[]);const o=t||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?x3.createPortal(l.jsx(Nt.div,{...r,ref:e}),o):null});Xy.displayName=i8;function s8(n,e){return C.useReducer((t,r)=>e[t][r]??t,n)}var So=n=>{const{present:e,children:t}=n,r=o8(e),i=typeof t=="function"?t({present:r.isPresent}):C.Children.only(t),s=pn(r.ref,a8(i));return typeof t=="function"||r.isPresent?C.cloneElement(i,{ref:s}):null};So.displayName="Presence";function o8(n){const[e,t]=C.useState(),r=C.useRef({}),i=C.useRef(n),s=C.useRef("none"),o=n?"mounted":"unmounted",[a,c]=s8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const u=dx(r.current);s.current=a==="mounted"?u:"none"},[a]),Gr(()=>{const u=r.current,d=i.current;if(d!==n){const m=s.current,g=dx(u);n?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,c]),Gr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=g=>{const y=dx(r.current).includes(g.animationName);if(g.target===e&&y&&(c("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},m=g=>{g.target===e&&(s.current=dx(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:C.useCallback(u=>{u&&(r.current=getComputedStyle(u)),t(u)},[])}}function dx(n){return(n==null?void 0:n.animationName)||"none"}function a8(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Il({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=l8({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=Hr(t),c=C.useCallback(u=>{if(s){const f=typeof u=="function"?u(n):u;f!==n&&a(f)}else i(u)},[s,n,i,a]);return[o,c]}function l8({defaultProp:n,onChange:e}){const t=C.useState(n),[r]=t,i=C.useRef(r),s=Hr(e);return C.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}var c8="VisuallyHidden",vm=C.forwardRef((n,e)=>l.jsx(Nt.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));vm.displayName=c8;var u8=vm,fC="ToastProvider",[pC,d8,h8]=Wy("Toast"),[A3,whe]=Sa("Toast",[h8]),[f8,Ky]=A3(fC),E3=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=n,[a,c]=C.useState(null),[u,d]=C.useState(0),f=C.useRef(!1),m=C.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${fC}\`. Expected non-empty \`string\`.`),l.jsx(pC.Provider,{scope:e,children:l.jsx(f8,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:C.useCallback(()=>d(g=>g+1),[]),onToastRemove:C.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};E3.displayName=fC;var C3="ToastViewport",p8=["F8"],cA="toast.viewportPause",uA="toast.viewportResume",M3=C.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=p8,label:i="Notifications ({hotkey})",...s}=n,o=Ky(C3,t),a=d8(t),c=C.useRef(null),u=C.useRef(null),d=C.useRef(null),f=C.useRef(null),m=pn(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;C.useEffect(()=>{const w=x=>{var S;r.length!==0&&r.every(A=>x[A]||x.code===A)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),C.useEffect(()=>{const w=c.current,x=f.current;if(v&&w&&x){const b=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(cA);x.dispatchEvent(N),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(uA);x.dispatchEvent(N),o.isClosePausedRef.current=!1}},A=N=>{!w.contains(N.relatedTarget)&&S()},T=()=>{w.contains(document.activeElement)||S()};return w.addEventListener("focusin",b),w.addEventListener("focusout",A),w.addEventListener("pointermove",b),w.addEventListener("pointerleave",T),window.addEventListener("blur",b),window.addEventListener("focus",S),()=>{w.removeEventListener("focusin",b),w.removeEventListener("focusout",A),w.removeEventListener("pointermove",b),w.removeEventListener("pointerleave",T),window.removeEventListener("blur",b),window.removeEventListener("focus",S)}}},[v,o.isClosePausedRef]);const y=C.useCallback(({tabbingDirection:w})=>{const b=a().map(S=>{const A=S.ref.current,T=[A,...M8(A)];return w==="forwards"?T:T.reverse()});return(w==="forwards"?b.reverse():b).flat()},[a]);return C.useEffect(()=>{const w=f.current;if(w){const x=b=>{var T,N,P;const S=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!S){const D=document.activeElement,I=b.shiftKey;if(b.target===w&&I){(T=u.current)==null||T.focus();return}const G=y({tabbingDirection:I?"backwards":"forwards"}),K=G.findIndex(J=>J===D);Gb(G.slice(K+1))?b.preventDefault():I?(N=u.current)==null||N.focus():(P=d.current)==null||P.focus()}};return w.addEventListener("keydown",x),()=>w.removeEventListener("keydown",x)}},[a,y]),l.jsxs(r8,{ref:c,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&l.jsx(dA,{ref:u,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});Gb(w)}}),l.jsx(pC.Slot,{scope:t,children:l.jsx(Nt.ol,{tabIndex:-1,...s,ref:m})}),v&&l.jsx(dA,{ref:d,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});Gb(w)}})]})});M3.displayName=C3;var T3="ToastFocusProxy",dA=C.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,s=Ky(T3,t);return l.jsx(vm,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});dA.displayName=T3;var Jy="Toast",m8="toast.swipeStart",g8="toast.swipeMove",x8="toast.swipeCancel",v8="toast.swipeEnd",N3=C.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:s,...o}=n,[a=!0,c]=Il({prop:r,defaultProp:i,onChange:s});return l.jsx(So,{present:t||a,children:l.jsx(_8,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:Hr(n.onPause),onResume:Hr(n.onResume),onSwipeStart:$e(n.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:$e(n.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:$e(n.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:$e(n.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});N3.displayName=Jy;var[y8,w8]=A3(Jy,{onClose(){}}),_8=C.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...v}=n,y=Ky(Jy,t),[w,x]=C.useState(null),b=pn(e,J=>x(J)),S=C.useRef(null),A=C.useRef(null),T=i||y.duration,N=C.useRef(0),P=C.useRef(T),D=C.useRef(0),{onToastAdd:I,onToastRemove:R}=y,k=Hr(()=>{var Q;(w==null?void 0:w.contains(document.activeElement))&&((Q=y.viewport)==null||Q.focus()),o()}),G=C.useCallback(J=>{!J||J===1/0||(window.clearTimeout(D.current),N.current=new Date().getTime(),D.current=window.setTimeout(k,J))},[k]);C.useEffect(()=>{const J=y.viewport;if(J){const Q=()=>{G(P.current),u==null||u()},Y=()=>{const se=new Date().getTime()-N.current;P.current=P.current-se,window.clearTimeout(D.current),c==null||c()};return J.addEventListener(cA,Y),J.addEventListener(uA,Q),()=>{J.removeEventListener(cA,Y),J.removeEventListener(uA,Q)}}},[y.viewport,T,c,u,G]),C.useEffect(()=>{s&&!y.isClosePausedRef.current&&G(T)},[s,T,y.isClosePausedRef,G]),C.useEffect(()=>(I(),()=>R()),[I,R]);const K=C.useMemo(()=>w?k3(w):null,[w]);return y.viewport?l.jsxs(l.Fragment,{children:[K&&l.jsx(b8,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:K}),l.jsx(y8,{scope:t,onClose:k,children:wu.createPortal(l.jsx(pC.ItemSlot,{scope:t,children:l.jsx(n8,{asChild:!0,onEscapeKeyDown:$e(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||k(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(Nt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:$e(n.onKeyDown,J=>{J.key==="Escape"&&(a==null||a(J.nativeEvent),J.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:$e(n.onPointerDown,J=>{J.button===0&&(S.current={x:J.clientX,y:J.clientY})}),onPointerMove:$e(n.onPointerMove,J=>{if(!S.current)return;const Q=J.clientX-S.current.x,Y=J.clientY-S.current.y,se=!!A.current,L=["left","right"].includes(y.swipeDirection),j=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,W=L?j(0,Q):0,$=L?0:j(0,Y),oe=J.pointerType==="touch"?10:2,Se={x:W,y:$},ne={originalEvent:J,delta:Se};se?(A.current=Se,hx(g8,f,ne,{discrete:!1})):sP(Se,y.swipeDirection,oe)?(A.current=Se,hx(m8,d,ne,{discrete:!1}),J.target.setPointerCapture(J.pointerId)):(Math.abs(Q)>oe||Math.abs(Y)>oe)&&(S.current=null)}),onPointerUp:$e(n.onPointerUp,J=>{const Q=A.current,Y=J.target;if(Y.hasPointerCapture(J.pointerId)&&Y.releasePointerCapture(J.pointerId),A.current=null,S.current=null,Q){const se=J.currentTarget,L={originalEvent:J,delta:Q};sP(Q,y.swipeDirection,y.swipeThreshold)?hx(v8,g,L,{discrete:!0}):hx(x8,m,L,{discrete:!0}),se.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),b8=n=>{const{__scopeToast:e,children:t,...r}=n,i=Ky(Jy,e),[s,o]=C.useState(!1),[a,c]=C.useState(!1);return E8(()=>o(!0)),C.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(Xy,{asChild:!0,children:l.jsx(vm,{...r,children:s&&l.jsxs(l.Fragment,{children:[i.label," ",t]})})})},S8="ToastTitle",R3=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return l.jsx(Nt.div,{...r,ref:e})});R3.displayName=S8;var A8="ToastDescription",P3=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return l.jsx(Nt.div,{...r,ref:e})});P3.displayName=A8;var I3="ToastAction",D3=C.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?l.jsx(L3,{altText:t,asChild:!0,children:l.jsx(mC,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${I3}\`. Expected non-empty \`string\`.`),null)});D3.displayName=I3;var B3="ToastClose",mC=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=w8(B3,t);return l.jsx(L3,{asChild:!0,children:l.jsx(Nt.button,{type:"button",...r,ref:e,onClick:$e(n.onClick,i.onClose)})})});mC.displayName=B3;var L3=C.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return l.jsx(Nt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function k3(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),C8(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...k3(r))}}),e}function hx(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?hC(i,s):i.dispatchEvent(s)}var sP=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),s=r>i;return e==="left"||e==="right"?s&&r>t:!s&&i>t};function E8(n=()=>{}){const e=Hr(n);Gr(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function C8(n){return n.nodeType===n.ELEMENT_NODE}function M8(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Gb(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var T8=E3,O3=M3,F3=N3,j3=R3,U3=P3,z3=D3,H3=mC;function G3(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=G3(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function V3(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=G3(n))&&(r&&(r+=" "),r+=e);return r}const oP=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,aP=V3,Yy=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return aP(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=t==null?void 0:t[u],f=s==null?void 0:s[u];if(d===null)return null;const m=oP(d)||oP(f);return i[u][m]}),a=t&&Object.entries(t).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:m,...g}=d;return Object.entries(g).every(v=>{let[y,w]=v;return Array.isArray(w)?w.includes({...s,...a}[y]):{...s,...a}[y]===w})?[...u,f,m]:u},[]);return aP(n,o,c,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W3=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=C.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},c)=>C.createElement("svg",{ref:c,...R8,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:W3("lucide",i),...a},[...o.map(([u,d])=>C.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=(n,e)=>{const t=C.forwardRef(({className:r,...i},s)=>C.createElement(P8,{ref:s,iconNode:e,className:W3(`lucide-${N8(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=bt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=bt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=bt("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=bt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=bt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=bt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=bt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=bt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=bt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=bt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=bt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=bt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=bt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=bt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=bt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=bt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=bt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=bt("Expand",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=bt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=bt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=bt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=bt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=bt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=bt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=bt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=bt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=bt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=bt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=bt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=bt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=bt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=bt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=bt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=bt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=bt("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=bt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=bt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=bt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=bt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=bt("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=bt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=bt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=bt("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=bt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=bt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=bt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=bt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=bt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=bt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=bt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=bt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=bt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=bt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=bt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),vC="-",e9=n=>{const e=n9(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const a=o.split(vC);return a[0]===""&&a.length!==1&&a.shift(),ek(a,e)||t9(o)},getConflictingClassGroupIds:(o,a)=>{const c=t[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},ek=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?ek(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(vC);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},uP=/^\[(.+)\]$/,t9=n=>{if(uP.test(n)){const e=uP.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},n9=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return i9(Object.entries(n.classGroups),t).forEach(([s,o])=>{mA(o,r,s,e)}),r},mA=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:dP(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(r9(i)){mA(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,o])=>{mA(o,dP(e,s),t,r)})})},dP=(n,e)=>{let t=n;return e.split(vC).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},r9=n=>n.isThemeGetter,i9=(n,e)=>e?n.map(([t,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,i]}):n,s9=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){t.has(s)?t.set(s,o):i(s,o)}}},tk="!",o9=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],s=e.length,o=a=>{const c=[];let u=0,d=0,f;for(let w=0;w<a.length;w++){let x=a[w];if(u===0){if(x===i&&(r||a.slice(w,w+s)===e)){c.push(a.slice(d,w)),d=w+s;continue}if(x==="/"){f=w;continue}}x==="["?u++:x==="]"&&u--}const m=c.length===0?a:a.substring(d),g=m.startsWith(tk),v=g?m.substring(1):m,y=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}};return t?a=>t({className:a,parseClassName:o}):o},a9=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},l9=n=>({cache:s9(n.cacheSize),parseClassName:o9(n),...e9(n)}),c9=/\s+/,u9=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=n.trim().split(c9);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=t(u);let v=!!g,y=r(v?m.substring(0,g):m);if(!y){if(!v){a=u+(a.length>0?" "+a:a);continue}if(y=r(m),!y){a=u+(a.length>0?" "+a:a);continue}v=!1}const w=a9(d).join(":"),x=f?w+tk:w,b=x+y;if(s.includes(b))continue;s.push(b);const S=i(y,v);for(let A=0;A<S.length;++A){const T=S[A];s.push(x+T)}a=u+(a.length>0?" "+a:a)}return a};function d9(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=nk(e))&&(r&&(r+=" "),r+=t);return r}const nk=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=nk(n[r]))&&(t&&(t+=" "),t+=e);return t};function h9(n,...e){let t,r,i,s=o;function o(c){const u=e.reduce((d,f)=>f(d),n());return t=l9(u),r=t.cache.get,i=t.cache.set,s=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=u9(c,t);return i(c,d),d}return function(){return s(d9.apply(null,arguments))}}const Sn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},rk=/^\[(?:([a-z-]+):)?(.+)\]$/i,f9=/^\d+\/\d+$/,p9=new Set(["px","full","screen"]),m9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,g9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,x9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,v9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,y9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Do=n=>zd(n)||p9.has(n)||f9.test(n),ja=n=>Lh(n,"length",M9),zd=n=>!!n&&!Number.isNaN(Number(n)),Vb=n=>Lh(n,"number",zd),Ef=n=>!!n&&Number.isInteger(Number(n)),w9=n=>n.endsWith("%")&&zd(n.slice(0,-1)),Ut=n=>rk.test(n),Ua=n=>m9.test(n),_9=new Set(["length","size","percentage"]),b9=n=>Lh(n,_9,ik),S9=n=>Lh(n,"position",ik),A9=new Set(["image","url"]),E9=n=>Lh(n,A9,N9),C9=n=>Lh(n,"",T9),Cf=()=>!0,Lh=(n,e,t)=>{const r=rk.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},M9=n=>g9.test(n)&&!x9.test(n),ik=()=>!1,T9=n=>v9.test(n),N9=n=>y9.test(n),R9=()=>{const n=Sn("colors"),e=Sn("spacing"),t=Sn("blur"),r=Sn("brightness"),i=Sn("borderColor"),s=Sn("borderRadius"),o=Sn("borderSpacing"),a=Sn("borderWidth"),c=Sn("contrast"),u=Sn("grayscale"),d=Sn("hueRotate"),f=Sn("invert"),m=Sn("gap"),g=Sn("gradientColorStops"),v=Sn("gradientColorStopPositions"),y=Sn("inset"),w=Sn("margin"),x=Sn("opacity"),b=Sn("padding"),S=Sn("saturate"),A=Sn("scale"),T=Sn("sepia"),N=Sn("skew"),P=Sn("space"),D=Sn("translate"),I=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Ut,e],G=()=>[Ut,e],K=()=>["",Do,ja],J=()=>["auto",zd,Ut],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",Ut],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[zd,Ut];return{cacheSize:500,separator:":",theme:{colors:[Cf],spacing:[Do,ja],blur:["none","",Ua,Ut],brightness:$(),borderColor:[n],borderRadius:["none","","full",Ua,Ut],borderSpacing:G(),borderWidth:K(),contrast:$(),grayscale:j(),hueRotate:$(),invert:j(),gap:G(),gradientColorStops:[n],gradientColorStopPositions:[w9,ja],inset:k(),margin:k(),opacity:$(),padding:G(),saturate:$(),scale:$(),sepia:j(),skew:$(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",Ut]}],container:["container"],columns:[{columns:[Ua]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),Ut]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ef,Ut]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ut]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",Ef,Ut]}],"grid-cols":[{"grid-cols":[Cf]}],"col-start-end":[{col:["auto",{span:["full",Ef,Ut]},Ut]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[Cf]}],"row-start-end":[{row:["auto",{span:[Ef,Ut]},Ut]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ut]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ut]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ut,e]}],"min-w":[{"min-w":[Ut,e,"min","max","fit"]}],"max-w":[{"max-w":[Ut,e,"none","full","min","max","fit","prose",{screen:[Ua]},Ua]}],h:[{h:[Ut,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ut,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ut,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ut,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ua,ja]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vb]}],"font-family":[{font:[Cf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ut]}],"line-clamp":[{"line-clamp":["none",zd,Vb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Do,Ut]}],"list-image":[{"list-image":["none",Ut]}],"list-style-type":[{list:["none","disc","decimal",Ut]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Do,ja]}],"underline-offset":[{"underline-offset":["auto",Do,Ut]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),S9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",b9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},E9]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:Y()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[Do,Ut]}],"outline-w":[{outline:[Do,ja]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Do,ja]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Ua,C9]}],"shadow-color":[{shadow:[Cf]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ua,Ut]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ut]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",Ut]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ut]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Ef,Ut]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ut]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ut]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ut]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Do,ja,Vb]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},P9=h9(R9);function jt(...n){return P9(V3(n))}const I9=T8,sk=C.forwardRef(({className:n,...e},t)=>l.jsx(O3,{ref:t,className:jt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));sk.displayName=O3.displayName;const D9=Yy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ok=C.forwardRef(({className:n,variant:e,...t},r)=>l.jsx(F3,{ref:r,className:jt(D9({variant:e}),n),...t}));ok.displayName=F3.displayName;const B9=C.forwardRef(({className:n,...e},t)=>l.jsx(z3,{ref:t,className:jt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));B9.displayName=z3.displayName;const ak=C.forwardRef(({className:n,...e},t)=>l.jsx(H3,{ref:t,className:jt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:l.jsx(Z3,{className:"h-4 w-4"})}));ak.displayName=H3.displayName;const lk=C.forwardRef(({className:n,...e},t)=>l.jsx(j3,{ref:t,className:jt("text-sm font-semibold",n),...e}));lk.displayName=j3.displayName;const ck=C.forwardRef(({className:n,...e},t)=>l.jsx(U3,{ref:t,className:jt("text-sm opacity-90",n),...e}));ck.displayName=U3.displayName;function L9(){const{toasts:n}=Gy();return l.jsxs(I9,{children:[n.map(function({id:e,title:t,description:r,action:i,...s}){return l.jsxs(ok,{...s,children:[l.jsxs("div",{className:"grid gap-1",children:[t&&l.jsx(lk,{children:t}),r&&l.jsx(ck,{children:r})]}),i,l.jsx(ak,{})]},e)}),l.jsx(sk,{})]})}var hP=["light","dark"],k9="(prefers-color-scheme: dark)",O9=C.createContext(void 0),F9={setTheme:n=>{},themes:[]},j9=()=>{var n;return(n=C.useContext(O9))!=null?n:F9};C.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:c})=>{let u=s==="system",d=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,f=i?hP.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(v,y=!1,w=!0)=>{let x=o?o[v]:v,b=y?v+"|| ''":`'${x}'`,S="";return i&&w&&!y&&hP.includes(v)&&(S+=`d.style.colorScheme = '${v}';`),t==="class"?y||x?S+=`c.add(${b})`:S+="null":x&&(S+=`d[s](n,${b})`),S},g=n?`!function(){${d}${m(n)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${k9}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(s,!1,!1)};}${f}}catch(t){}}();`;return C.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var U9=n=>{switch(n){case"success":return G9;case"info":return W9;case"warning":return V9;case"error":return X9;default:return null}},z9=Array(12).fill(0),H9=({visible:n})=>je.createElement("div",{className:"sonner-loading-wrapper","data-visible":n},je.createElement("div",{className:"sonner-spinner"},z9.map((e,t)=>je.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),G9=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),V9=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),W9=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),X9=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),K9=()=>{let[n,e]=je.useState(document.hidden);return je.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},gA=1,J9=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...r}=n,i=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:gA++,s=this.toasts.find(a=>a.id===i),o=n.dismissible===void 0?!0:n.dismissible;return s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...n,id:i,title:t}),{...a,...n,id:i,dismissible:o,title:t}):a):this.addToast({title:t,...r,dismissible:o,id:i}),i},this.dismiss=n=>(n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=n instanceof Promise?n:n(),i=t!==void 0;return r.then(async s=>{if($9(s)&&!s.ok){i=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${s.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${s.status}`):e.description;this.create({id:t,type:"error",message:o,description:a})}else if(e.success!==void 0){i=!1;let o=typeof e.success=="function"?await e.success(s):e.success,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:t,type:"success",message:o,description:a})}}).catch(async s=>{if(e.error!==void 0){i=!1;let o=typeof e.error=="function"?await e.error(s):e.error,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:t,type:"error",message:o,description:a})}}).finally(()=>{var s;i&&(this.dismiss(t),t=void 0),(s=e.finally)==null||s.call(e)}),t},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||gA++;return this.create({jsx:n(t),id:t,...e}),t},this.subscribers=[],this.toasts=[]}},Li=new J9,Y9=(n,e)=>{let t=(e==null?void 0:e.id)||gA++;return Li.addToast({title:n,...e,id:t}),t},$9=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",q9=Y9,Q9=()=>Li.toasts;Object.assign(q9,{success:Li.success,info:Li.info,warning:Li.warning,error:Li.error,custom:Li.custom,message:Li.message,promise:Li.promise,dismiss:Li.dismiss,loading:Li.loading},{getHistory:Q9});function Z9(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}Z9(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function fx(n){return n.label!==void 0}var eV=3,tV="32px",nV=4e3,rV=356,iV=14,sV=20,oV=200;function aV(...n){return n.filter(Boolean).join(" ")}var lV=n=>{var e,t,r,i,s,o,a,c,u,d;let{invert:f,toast:m,unstyled:g,interacting:v,setHeights:y,visibleToasts:w,heights:x,index:b,toasts:S,expanded:A,removeToast:T,defaultRichColors:N,closeButton:P,style:D,cancelButtonStyle:I,actionButtonStyle:R,className:k="",descriptionClassName:G="",duration:K,position:J,gap:Q,loadingIcon:Y,expandByDefault:se,classNames:L,icons:j,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:$,cn:oe}=n,[Se,ne]=je.useState(!1),[we,ve]=je.useState(!1),[le,ke]=je.useState(!1),[He,De]=je.useState(!1),[st,qe]=je.useState(0),[We,U]=je.useState(0),Oe=je.useRef(null),Ce=je.useRef(null),Pe=b===0,Ae=b+1<=w,ze=m.type,Ne=m.dismissible!==!1,z=m.className||"",O=m.descriptionClassName||"",ee=je.useMemo(()=>x.findIndex(Ee=>Ee.toastId===m.id)||0,[x,m.id]),he=je.useMemo(()=>{var Ee;return(Ee=m.closeButton)!=null?Ee:P},[m.closeButton,P]),Me=je.useMemo(()=>m.duration||K||nV,[m.duration,K]),fe=je.useRef(0),tt=je.useRef(0),Ue=je.useRef(0),ht=je.useRef(null),[yt,Ie]=J.split("-"),Ze=je.useMemo(()=>x.reduce((Ee,X,be)=>be>=ee?Ee:Ee+X.height,0),[x,ee]),gt=K9(),At=m.invert||f,et=ze==="loading";tt.current=je.useMemo(()=>ee*Q+Ze,[ee,Ze]),je.useEffect(()=>{ne(!0)},[]),je.useLayoutEffect(()=>{if(!Se)return;let Ee=Ce.current,X=Ee.style.height;Ee.style.height="auto";let be=Ee.getBoundingClientRect().height;Ee.style.height=X,U(be),y(ce=>ce.find(xe=>xe.toastId===m.id)?ce.map(xe=>xe.toastId===m.id?{...xe,height:be}:xe):[{toastId:m.id,height:be,position:m.position},...ce])},[Se,m.title,m.description,y,m.id]);let q=je.useCallback(()=>{ve(!0),qe(tt.current),y(Ee=>Ee.filter(X=>X.toastId!==m.id)),setTimeout(()=>{T(m)},oV)},[m,T,y,tt]);je.useEffect(()=>{if(m.promise&&ze==="loading"||m.duration===1/0||m.type==="loading")return;let Ee,X=Me;return A||v||$&&gt?(()=>{if(Ue.current<fe.current){let be=new Date().getTime()-fe.current;X=X-be}Ue.current=new Date().getTime()})():X!==1/0&&(fe.current=new Date().getTime(),Ee=setTimeout(()=>{var be;(be=m.onAutoClose)==null||be.call(m,m),q()},X)),()=>clearTimeout(Ee)},[A,v,se,m,Me,q,m.promise,ze,$,gt]),je.useEffect(()=>{let Ee=Ce.current;if(Ee){let X=Ee.getBoundingClientRect().height;return U(X),y(be=>[{toastId:m.id,height:X,position:m.position},...be]),()=>y(be=>be.filter(ce=>ce.toastId!==m.id))}},[y,m.id]),je.useEffect(()=>{m.delete&&q()},[q,m.delete]);function ye(){return j!=null&&j.loading?je.createElement("div",{className:"sonner-loader","data-visible":ze==="loading"},j.loading):Y?je.createElement("div",{className:"sonner-loader","data-visible":ze==="loading"},Y):je.createElement(H9,{visible:ze==="loading"})}return je.createElement("li",{"aria-live":m.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ce,className:oe(k,z,L==null?void 0:L.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[ze],(t=m==null?void 0:m.classNames)==null?void 0:t[ze]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:N,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":Se,"data-promise":!!m.promise,"data-removed":we,"data-visible":Ae,"data-y-position":yt,"data-x-position":Ie,"data-index":b,"data-front":Pe,"data-swiping":le,"data-dismissible":Ne,"data-type":ze,"data-invert":At,"data-swipe-out":He,"data-expanded":!!(A||se&&Se),style:{"--index":b,"--toasts-before":b,"--z-index":S.length-b,"--offset":`${we?st:tt.current}px`,"--initial-height":se?"auto":`${We}px`,...D,...m.style},onPointerDown:Ee=>{et||!Ne||(Oe.current=new Date,qe(tt.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(ke(!0),ht.current={x:Ee.clientX,y:Ee.clientY}))},onPointerUp:()=>{var Ee,X,be,ce;if(He||!Ne)return;ht.current=null;let xe=Number(((Ee=Ce.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Xe=new Date().getTime()-((X=Oe.current)==null?void 0:X.getTime()),Ge=Math.abs(xe)/Xe;if(Math.abs(xe)>=sV||Ge>.11){qe(tt.current),(be=m.onDismiss)==null||be.call(m,m),q(),De(!0);return}(ce=Ce.current)==null||ce.style.setProperty("--swipe-amount","0px"),ke(!1)},onPointerMove:Ee=>{var X;if(!ht.current||!Ne)return;let be=Ee.clientY-ht.current.y,ce=Ee.clientX-ht.current.x,xe=(yt==="top"?Math.min:Math.max)(0,be),Xe=Ee.pointerType==="touch"?10:2;Math.abs(xe)>Xe?(X=Ce.current)==null||X.style.setProperty("--swipe-amount",`${be}px`):Math.abs(ce)>Xe&&(ht.current=null)}},he&&!m.jsx?je.createElement("button",{"aria-label":W,"data-disabled":et,"data-close-button":!0,onClick:et||!Ne?()=>{}:()=>{var Ee;q(),(Ee=m.onDismiss)==null||Ee.call(m,m)},className:oe(L==null?void 0:L.closeButton,(i=m==null?void 0:m.classNames)==null?void 0:i.closeButton)},je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},je.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),je.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,m.jsx||je.isValidElement(m.title)?m.jsx||m.title:je.createElement(je.Fragment,null,ze||m.icon||m.promise?je.createElement("div",{"data-icon":"",className:oe(L==null?void 0:L.icon,(s=m==null?void 0:m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ye():null,m.type!=="loading"?m.icon||(j==null?void 0:j[ze])||U9(ze):null):null,je.createElement("div",{"data-content":"",className:oe(L==null?void 0:L.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},je.createElement("div",{"data-title":"",className:oe(L==null?void 0:L.title,(a=m==null?void 0:m.classNames)==null?void 0:a.title)},m.title),m.description?je.createElement("div",{"data-description":"",className:oe(G,O,L==null?void 0:L.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},m.description):null),je.isValidElement(m.cancel)?m.cancel:m.cancel&&fx(m.cancel)?je.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||I,onClick:Ee=>{var X,be;fx(m.cancel)&&Ne&&((be=(X=m.cancel).onClick)==null||be.call(X,Ee),q())},className:oe(L==null?void 0:L.cancelButton,(u=m==null?void 0:m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,je.isValidElement(m.action)?m.action:m.action&&fx(m.action)?je.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||R,onClick:Ee=>{var X,be;fx(m.action)&&(Ee.defaultPrevented||((be=(X=m.action).onClick)==null||be.call(X,Ee),q()))},className:oe(L==null?void 0:L.actionButton,(d=m==null?void 0:m.classNames)==null?void 0:d.actionButton)},m.action.label):null))};function fP(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}var cV=n=>{let{invert:e,position:t="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:m=eV,toastOptions:g,dir:v=fP(),gap:y=iV,loadingIcon:w,icons:x,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:S,cn:A=aV}=n,[T,N]=je.useState([]),P=je.useMemo(()=>Array.from(new Set([t].concat(T.filter($=>$.position).map($=>$.position)))),[T,t]),[D,I]=je.useState([]),[R,k]=je.useState(!1),[G,K]=je.useState(!1),[J,Q]=je.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=je.useRef(null),se=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=je.useRef(null),j=je.useRef(!1),W=je.useCallback($=>{var oe;(oe=T.find(Se=>Se.id===$.id))!=null&&oe.delete||Li.dismiss($.id),N(Se=>Se.filter(({id:ne})=>ne!==$.id))},[T]);return je.useEffect(()=>Li.subscribe($=>{if($.dismiss){N(oe=>oe.map(Se=>Se.id===$.id?{...Se,delete:!0}:Se));return}setTimeout(()=>{x3.flushSync(()=>{N(oe=>{let Se=oe.findIndex(ne=>ne.id===$.id);return Se!==-1?[...oe.slice(0,Se),{...oe[Se],...$},...oe.slice(Se+1)]:[$,...oe]})})})}),[]),je.useEffect(()=>{if(c!=="system"){Q(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:$})=>{Q($?"dark":"light")})},[c]),je.useEffect(()=>{T.length<=1&&k(!1)},[T]),je.useEffect(()=>{let $=oe=>{var Se,ne;r.every(we=>oe[we]||oe.code===we)&&(k(!0),(Se=Y.current)==null||Se.focus()),oe.code==="Escape"&&(document.activeElement===Y.current||(ne=Y.current)!=null&&ne.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[r]),je.useEffect(()=>{if(Y.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,j.current=!1)}},[Y.current]),T.length?je.createElement("section",{"aria-label":`${b} ${se}`,tabIndex:-1},P.map(($,oe)=>{var Se;let[ne,we]=$.split("-");return je.createElement("ol",{key:$,dir:v==="auto"?fP():v,tabIndex:-1,ref:Y,className:o,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":ne,"data-x-position":we,style:{"--front-toast-height":`${((Se=D[0])==null?void 0:Se.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||tV,"--width":`${rV}px`,"--gap":`${y}px`,...f},onBlur:ve=>{j.current&&!ve.currentTarget.contains(ve.relatedTarget)&&(j.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||j.current||(j.current=!0,L.current=ve.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{G||k(!1)},onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},T.filter(ve=>!ve.position&&oe===0||ve.position===$).map((ve,le)=>{var ke,He;return je.createElement(lV,{key:ve.id,icons:x,index:le,toast:ve,defaultRichColors:u,duration:(ke=g==null?void 0:g.duration)!=null?ke:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:m,closeButton:(He=g==null?void 0:g.closeButton)!=null?He:s,interacting:G,position:$,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:W,toasts:T.filter(De=>De.position==ve.position),heights:D.filter(De=>De.position==ve.position),setHeights:I,expandByDefault:i,gap:y,loadingIcon:w,expanded:R,pauseWhenPageIsHidden:S,cn:A})}))})):null};const uV=({...n})=>{const{theme:e="system"}=j9();return l.jsx(cV,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var dV=pB.useId||(()=>{}),hV=0;function su(n){const[e,t]=C.useState(dV());return Gr(()=>{t(r=>r??String(hV++))},[n]),e?`radix-${e}`:""}const fV=["top","right","bottom","left"],Bl=Math.min,Oi=Math.max,y0=Math.round,px=Math.floor,Ll=n=>({x:n,y:n}),pV={left:"right",right:"left",bottom:"top",top:"bottom"},mV={start:"end",end:"start"};function xA(n,e,t){return Oi(n,Bl(e,t))}function pa(n,e){return typeof n=="function"?n(e):n}function ma(n){return n.split("-")[0]}function kh(n){return n.split("-")[1]}function yC(n){return n==="x"?"y":"x"}function wC(n){return n==="y"?"height":"width"}function kl(n){return["top","bottom"].includes(ma(n))?"y":"x"}function _C(n){return yC(kl(n))}function gV(n,e,t){t===void 0&&(t=!1);const r=kh(n),i=_C(n),s=wC(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=w0(o)),[o,w0(o)]}function xV(n){const e=w0(n);return[vA(n),e,vA(e)]}function vA(n){return n.replace(/start|end/g,e=>mV[e])}function vV(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function yV(n,e,t,r){const i=kh(n);let s=vV(ma(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(vA)))),s}function w0(n){return n.replace(/left|right|bottom|top/g,e=>pV[e])}function wV(n){return{top:0,right:0,bottom:0,left:0,...n}}function uk(n){return typeof n!="number"?wV(n):{top:n,right:n,bottom:n,left:n}}function _0(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function pP(n,e,t){let{reference:r,floating:i}=n;const s=kl(e),o=_C(e),a=wC(o),c=ma(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,m=r[a]/2-i[a]/2;let g;switch(c){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-i.width,y:f};break;default:g={x:r.x,y:r.y}}switch(kh(e)){case"start":g[o]-=m*(t&&u?-1:1);break;case"end":g[o]+=m*(t&&u?-1:1);break}return g}const _V=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:d,y:f}=pP(u,r,c),m=r,g={},v=0;for(let y=0;y<a.length;y++){const{name:w,fn:x}=a[y],{x:b,y:S,data:A,reset:T}=await x({x:d,y:f,initialPlacement:r,placement:m,strategy:i,middlewareData:g,rects:u,platform:o,elements:{reference:n,floating:e}});d=b??d,f=S??f,g={...g,[w]:{...g[w],...A}},T&&v<=50&&(v++,typeof T=="object"&&(T.placement&&(m=T.placement),T.rects&&(u=T.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):T.rects),{x:d,y:f}=pP(u,m,c)),y=-1)}return{x:d,y:f,placement:m,strategy:i,middlewareData:g}};async function zp(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=n,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=pa(e,n),v=uk(g),w=a[m?f==="floating"?"reference":"floating":f],x=_0(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(w)))==null||t?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},T=_0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:S,strategy:c}):b);return{top:(x.top-T.top+v.top)/A.y,bottom:(T.bottom-x.bottom+v.bottom)/A.y,left:(x.left-T.left+v.left)/A.x,right:(T.right-x.right+v.right)/A.x}}const bV=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:d=0}=pa(n,e)||{};if(u==null)return{};const f=uk(d),m={x:t,y:r},g=_C(i),v=wC(g),y=await o.getDimensions(u),w=g==="y",x=w?"top":"left",b=w?"bottom":"right",S=w?"clientHeight":"clientWidth",A=s.reference[v]+s.reference[g]-m[g]-s.floating[v],T=m[g]-s.reference[g],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=N?N[S]:0;(!P||!await(o.isElement==null?void 0:o.isElement(N)))&&(P=a.floating[S]||s.floating[v]);const D=A/2-T/2,I=P/2-y[v]/2-1,R=Bl(f[x],I),k=Bl(f[b],I),G=R,K=P-y[v]-k,J=P/2-y[v]/2+D,Q=xA(G,J,K),Y=!c.arrow&&kh(i)!=null&&J!==Q&&s.reference[v]/2-(J<G?R:k)-y[v]/2<0,se=Y?J<G?J-G:J-K:0;return{[g]:m[g]+se,data:{[g]:Q,centerOffset:J-Q-se,...Y&&{alignmentOffset:se}},reset:Y}}}),SV=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...w}=pa(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const x=ma(i),b=kl(a),S=ma(a)===a,A=await(c.isRTL==null?void 0:c.isRTL(u.floating)),T=m||(S||!y?[w0(a)]:xV(a)),N=v!=="none";!m&&N&&T.push(...yV(a,y,v,A));const P=[a,...T],D=await zp(e,w),I=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&I.push(D[x]),f){const J=gV(i,o,A);I.push(D[J[0]],D[J[1]])}if(R=[...R,{placement:i,overflows:I}],!I.every(J=>J<=0)){var k,G;const J=(((k=s.flip)==null?void 0:k.index)||0)+1,Q=P[J];if(Q)return{data:{index:J,overflows:R},reset:{placement:Q}};let Y=(G=R.filter(se=>se.overflows[0]<=0).sort((se,L)=>se.overflows[1]-L.overflows[1])[0])==null?void 0:G.placement;if(!Y)switch(g){case"bestFit":{var K;const se=(K=R.filter(L=>{if(N){const j=kl(L.placement);return j===b||j==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(j=>j>0).reduce((j,W)=>j+W,0)]).sort((L,j)=>L[1]-j[1])[0])==null?void 0:K[0];se&&(Y=se);break}case"initialPlacement":Y=a;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};function mP(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function gP(n){return fV.some(e=>n[e]>=0)}const AV=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=pa(n,e);switch(r){case"referenceHidden":{const s=await zp(e,{...i,elementContext:"reference"}),o=mP(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:gP(o)}}}case"escaped":{const s=await zp(e,{...i,altBoundary:!0}),o=mP(s,t.floating);return{data:{escapedOffsets:o,escaped:gP(o)}}}default:return{}}}}};async function EV(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ma(t),a=kh(t),c=kl(t)==="y",u=["left","top"].includes(o)?-1:1,d=s&&c?-1:1,f=pa(e,n);let{mainAxis:m,crossAxis:g,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(g=a==="end"?v*-1:v),c?{x:g*d,y:m*u}:{x:m*u,y:g*d}}const CV=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await EV(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},MV=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x,y:b}=w;return{x,y:b}}},...c}=pa(n,e),u={x:t,y:r},d=await zp(e,c),f=kl(ma(i)),m=yC(f);let g=u[m],v=u[f];if(s){const w=m==="y"?"top":"left",x=m==="y"?"bottom":"right",b=g+d[w],S=g-d[x];g=xA(b,g,S)}if(o){const w=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=v+d[w],S=v-d[x];v=xA(b,v,S)}const y=a.fn({...e,[m]:g,[f]:v});return{...y,data:{x:y.x-t,y:y.y-r,enabled:{[m]:s,[f]:o}}}}}},TV=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=pa(n,e),d={x:t,y:r},f=kl(i),m=yC(f);let g=d[m],v=d[f];const y=pa(a,e),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const S=m==="y"?"height":"width",A=s.reference[m]-s.floating[S]+w.mainAxis,T=s.reference[m]+s.reference[S]-w.mainAxis;g<A?g=A:g>T&&(g=T)}if(u){var x,b;const S=m==="y"?"width":"height",A=["top","left"].includes(ma(i)),T=s.reference[f]-s.floating[S]+(A&&((x=o.offset)==null?void 0:x[f])||0)+(A?0:w.crossAxis),N=s.reference[f]+s.reference[S]+(A?0:((b=o.offset)==null?void 0:b[f])||0)-(A?w.crossAxis:0);v<T?v=T:v>N&&(v=N)}return{[m]:g,[f]:v}}}},NV=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:c=()=>{},...u}=pa(n,e),d=await zp(e,u),f=ma(i),m=kh(i),g=kl(i)==="y",{width:v,height:y}=s.floating;let w,x;f==="top"||f==="bottom"?(w=f,x=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,w=m==="end"?"top":"bottom");const b=y-d.top-d.bottom,S=v-d.left-d.right,A=Bl(y-d[w],b),T=Bl(v-d[x],S),N=!e.middlewareData.shift;let P=A,D=T;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(D=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=b),N&&!m){const R=Oi(d.left,0),k=Oi(d.right,0),G=Oi(d.top,0),K=Oi(d.bottom,0);g?D=v-2*(R!==0||k!==0?R+k:Oi(d.left,d.right)):P=y-2*(G!==0||K!==0?G+K:Oi(d.top,d.bottom))}await c({...e,availableWidth:D,availableHeight:P});const I=await o.getDimensions(a.floating);return v!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function Zy(){return typeof window<"u"}function Oh(n){return dk(n)?(n.nodeName||"").toLowerCase():"#document"}function Hi(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ao(n){var e;return(e=(dk(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function dk(n){return Zy()?n instanceof Node||n instanceof Hi(n).Node:!1}function Us(n){return Zy()?n instanceof Element||n instanceof Hi(n).Element:!1}function wo(n){return Zy()?n instanceof HTMLElement||n instanceof Hi(n).HTMLElement:!1}function xP(n){return!Zy()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Hi(n).ShadowRoot}function ym(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=zs(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function RV(n){return["table","td","th"].includes(Oh(n))}function ew(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function bC(n){const e=SC(),t=Us(n)?zs(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function PV(n){let e=Ol(n);for(;wo(e)&&!mh(e);){if(bC(e))return e;if(ew(e))return null;e=Ol(e)}return null}function SC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function mh(n){return["html","body","#document"].includes(Oh(n))}function zs(n){return Hi(n).getComputedStyle(n)}function tw(n){return Us(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ol(n){if(Oh(n)==="html")return n;const e=n.assignedSlot||n.parentNode||xP(n)&&n.host||Ao(n);return xP(e)?e.host:e}function hk(n){const e=Ol(n);return mh(e)?n.ownerDocument?n.ownerDocument.body:n.body:wo(e)&&ym(e)?e:hk(e)}function Hp(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=hk(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=Hi(i);if(s){const a=yA(o);return e.concat(o,o.visualViewport||[],ym(i)?i:[],a&&t?Hp(a):[])}return e.concat(i,Hp(i,[],t))}function yA(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function fk(n){const e=zs(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=wo(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=y0(t)!==s||y0(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function AC(n){return Us(n)?n:n.contextElement}function Hd(n){const e=AC(n);if(!wo(e))return Ll(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=fk(e);let o=(s?y0(t.width):t.width)/r,a=(s?y0(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const IV=Ll(0);function pk(n){const e=Hi(n);return!SC()||!e.visualViewport?IV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function DV(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Hi(n)?!1:e}function ou(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=AC(n);let o=Ll(1);e&&(r?Us(r)&&(o=Hd(r)):o=Hd(n));const a=DV(s,t,r)?pk(s):Ll(0);let c=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const m=Hi(s),g=r&&Us(r)?Hi(r):r;let v=m,y=yA(v);for(;y&&r&&g!==v;){const w=Hd(y),x=y.getBoundingClientRect(),b=zs(y),S=x.left+(y.clientLeft+parseFloat(b.paddingLeft))*w.x,A=x.top+(y.clientTop+parseFloat(b.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=S,u+=A,v=Hi(y),y=yA(v)}}return _0({width:d,height:f,x:c,y:u})}function BV(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=Ao(r),a=e?ew(e.floating):!1;if(r===o||a&&s)return t;let c={scrollLeft:0,scrollTop:0},u=Ll(1);const d=Ll(0),f=wo(r);if((f||!f&&!s)&&((Oh(r)!=="body"||ym(o))&&(c=tw(r)),wo(r))){const m=ou(r);u=Hd(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-c.scrollLeft*u.x+d.x,y:t.y*u.y-c.scrollTop*u.y+d.y}}function LV(n){return Array.from(n.getClientRects())}function wA(n,e){const t=tw(n).scrollLeft;return e?e.left+t:ou(Ao(n)).left+t}function kV(n){const e=Ao(n),t=tw(n),r=n.ownerDocument.body,i=Oi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Oi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+wA(n);const a=-t.scrollTop;return zs(r).direction==="rtl"&&(o+=Oi(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function OV(n,e){const t=Hi(n),r=Ao(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const u=SC();(!u||u&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}function FV(n,e){const t=ou(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=wo(n)?Hd(n):Ll(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:o,height:a,x:c,y:u}}function vP(n,e,t){let r;if(e==="viewport")r=OV(n,t);else if(e==="document")r=kV(Ao(n));else if(Us(e))r=FV(e,t);else{const i=pk(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return _0(r)}function mk(n,e){const t=Ol(n);return t===e||!Us(t)||mh(t)?!1:zs(t).position==="fixed"||mk(t,e)}function jV(n,e){const t=e.get(n);if(t)return t;let r=Hp(n,[],!1).filter(a=>Us(a)&&Oh(a)!=="body"),i=null;const s=zs(n).position==="fixed";let o=s?Ol(n):n;for(;Us(o)&&!mh(o);){const a=zs(o),c=bC(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ym(o)&&!c&&mk(n,o))?r=r.filter(d=>d!==o):i=a,o=Ol(o)}return e.set(n,r),r}function UV(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?ew(e)?[]:jV(e,this._c):[].concat(t),r],a=o[0],c=o.reduce((u,d)=>{const f=vP(e,d,i);return u.top=Oi(f.top,u.top),u.right=Bl(f.right,u.right),u.bottom=Bl(f.bottom,u.bottom),u.left=Oi(f.left,u.left),u},vP(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function zV(n){const{width:e,height:t}=fk(n);return{width:e,height:t}}function HV(n,e,t){const r=wo(e),i=Ao(e),s=t==="fixed",o=ou(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=Ll(0);if(r||!r&&!s)if((Oh(e)!=="body"||ym(i))&&(a=tw(e)),r){const g=ou(e,!0,s,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else i&&(c.x=wA(i));let u=0,d=0;if(i&&!r&&!s){const g=i.getBoundingClientRect();d=g.top+a.scrollTop,u=g.left+a.scrollLeft-wA(i,g)}const f=o.left+a.scrollLeft-c.x-u,m=o.top+a.scrollTop-c.y-d;return{x:f,y:m,width:o.width,height:o.height}}function Wb(n){return zs(n).position==="static"}function yP(n,e){if(!wo(n)||zs(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Ao(n)===t&&(t=t.ownerDocument.body),t}function gk(n,e){const t=Hi(n);if(ew(n))return t;if(!wo(n)){let i=Ol(n);for(;i&&!mh(i);){if(Us(i)&&!Wb(i))return i;i=Ol(i)}return t}let r=yP(n,e);for(;r&&RV(r)&&Wb(r);)r=yP(r,e);return r&&mh(r)&&Wb(r)&&!bC(r)?t:r||PV(n)||t}const GV=async function(n){const e=this.getOffsetParent||gk,t=this.getDimensions,r=await t(n.floating);return{reference:HV(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function VV(n){return zs(n).direction==="rtl"}const WV={convertOffsetParentRelativeRectToViewportRelativeRect:BV,getDocumentElement:Ao,getClippingRect:UV,getOffsetParent:gk,getElementRects:GV,getClientRects:LV,getDimensions:zV,getScale:Hd,isElement:Us,isRTL:VV};function XV(n,e){let t=null,r;const i=Ao(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const{left:u,top:d,width:f,height:m}=n.getBoundingClientRect();if(a||e(),!f||!m)return;const g=px(d),v=px(i.clientWidth-(u+f)),y=px(i.clientHeight-(d+m)),w=px(u),b={rootMargin:-g+"px "+-v+"px "+-y+"px "+-w+"px",threshold:Oi(0,Bl(1,c))||1};let S=!0;function A(T){const N=T[0].intersectionRatio;if(N!==c){if(!S)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{t=new IntersectionObserver(A,{...b,root:i.ownerDocument})}catch{t=new IntersectionObserver(A,b)}t.observe(n)}return o(!0),s}function KV(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=AC(n),d=i||s?[...u?Hp(u):[],...Hp(e)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",t,{passive:!0}),s&&x.addEventListener("resize",t)});const f=u&&a?XV(u,t):null;let m=-1,g=null;o&&(g=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=g)==null||S.observe(e)})),t()}),u&&!c&&g.observe(u),g.observe(e));let v,y=c?ou(n):null;c&&w();function w(){const x=ou(n);y&&(x.x!==y.x||x.y!==y.y||x.width!==y.width||x.height!==y.height)&&t(),y=x,v=requestAnimationFrame(w)}return t(),()=>{var x;d.forEach(b=>{i&&b.removeEventListener("scroll",t),s&&b.removeEventListener("resize",t)}),f==null||f(),(x=g)==null||x.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const JV=CV,YV=MV,$V=SV,qV=NV,QV=AV,wP=bV,ZV=TV,eW=(n,e,t)=>{const r=new Map,i={platform:WV,...t},s={...i.platform,_c:r};return _V(n,e,{...i,platform:s})};var Iv=typeof document<"u"?C.useLayoutEffect:C.useEffect;function b0(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!b0(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!b0(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function xk(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function _P(n,e){const t=xk(n);return Math.round(e*t)/t}function Xb(n){const e=C.useRef(n);return Iv(()=>{e.current=n}),e}function tW(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=n,[d,f]=C.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=C.useState(r);b0(m,r)||g(r);const[v,y]=C.useState(null),[w,x]=C.useState(null),b=C.useCallback(L=>{L!==N.current&&(N.current=L,y(L))},[]),S=C.useCallback(L=>{L!==P.current&&(P.current=L,x(L))},[]),A=s||v,T=o||w,N=C.useRef(null),P=C.useRef(null),D=C.useRef(d),I=c!=null,R=Xb(c),k=Xb(i),G=Xb(u),K=C.useCallback(()=>{if(!N.current||!P.current)return;const L={placement:e,strategy:t,middleware:m};k.current&&(L.platform=k.current),eW(N.current,P.current,L).then(j=>{const W={...j,isPositioned:G.current!==!1};J.current&&!b0(D.current,W)&&(D.current=W,wu.flushSync(()=>{f(W)}))})},[m,e,t,k,G]);Iv(()=>{u===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[u]);const J=C.useRef(!1);Iv(()=>(J.current=!0,()=>{J.current=!1}),[]),Iv(()=>{if(A&&(N.current=A),T&&(P.current=T),A&&T){if(R.current)return R.current(A,T,K);K()}},[A,T,K,R,I]);const Q=C.useMemo(()=>({reference:N,floating:P,setReference:b,setFloating:S}),[b,S]),Y=C.useMemo(()=>({reference:A,floating:T}),[A,T]),se=C.useMemo(()=>{const L={position:t,left:0,top:0};if(!Y.floating)return L;const j=_P(Y.floating,d.x),W=_P(Y.floating,d.y);return a?{...L,transform:"translate("+j+"px, "+W+"px)",...xk(Y.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:j,top:W}},[t,a,Y.floating,d.x,d.y]);return C.useMemo(()=>({...d,update:K,refs:Q,elements:Y,floatingStyles:se}),[d,K,Q,Y,se])}const nW=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?wP({element:r.current,padding:i}).fn(t):{}:r?wP({element:r,padding:i}).fn(t):{}}}},rW=(n,e)=>({...JV(n),options:[n,e]}),iW=(n,e)=>({...YV(n),options:[n,e]}),sW=(n,e)=>({...ZV(n),options:[n,e]}),oW=(n,e)=>({...$V(n),options:[n,e]}),aW=(n,e)=>({...qV(n),options:[n,e]}),lW=(n,e)=>({...QV(n),options:[n,e]}),cW=(n,e)=>({...nW(n),options:[n,e]});var uW="Arrow",vk=C.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return l.jsx(Nt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});vk.displayName=uW;var dW=vk;function hW(n,e=[]){let t=[];function r(s,o){const a=C.createContext(o),c=t.length;t=[...t,o];function u(f){const{scope:m,children:g,...v}=f,y=(m==null?void 0:m[n][c])||a,w=C.useMemo(()=>v,Object.values(v));return l.jsx(y.Provider,{value:w,children:g})}function d(f,m){const g=(m==null?void 0:m[n][c])||a,v=C.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=t.map(o=>C.createContext(o));return function(a){const c=(a==null?void 0:a[n])||s;return C.useMemo(()=>({[`__scope${n}`]:{...a,[n]:c}}),[a,c])}};return i.scopeName=n,[r,fW(i,...e)]}function fW(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...a,...f}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function EC(n){const[e,t]=C.useState(void 0);return Gr(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var CC="Popper",[yk,Fh]=hW(CC),[pW,wk]=yk(CC),_k=n=>{const{__scopePopper:e,children:t}=n,[r,i]=C.useState(null);return l.jsx(pW,{scope:e,anchor:r,onAnchorChange:i,children:t})};_k.displayName=CC;var bk="PopperAnchor",Sk=C.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=wk(bk,t),o=C.useRef(null),a=pn(e,o);return C.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(Nt.div,{...i,ref:a})});Sk.displayName=bk;var MC="PopperContent",[mW,gW]=yk(MC),Ak=C.forwardRef((n,e)=>{var le,ke,He,De,st,qe;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:v,...y}=n,w=wk(MC,t),[x,b]=C.useState(null),S=pn(e,We=>b(We)),[A,T]=C.useState(null),N=EC(A),P=(N==null?void 0:N.width)??0,D=(N==null?void 0:N.height)??0,I=r+(s!=="center"?"-"+s:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],G=k.length>0,K={padding:R,boundary:k.filter(vW),altBoundary:G},{refs:J,floatingStyles:Q,placement:Y,isPositioned:se,middlewareData:L}=tW({strategy:"fixed",placement:I,whileElementsMounted:(...We)=>KV(...We,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[rW({mainAxis:i+D,alignmentAxis:o}),c&&iW({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?sW():void 0,...K}),c&&oW({...K}),aW({...K,apply:({elements:We,rects:U,availableWidth:Oe,availableHeight:Ce})=>{const{width:Pe,height:Ae}=U.reference,ze=We.floating.style;ze.setProperty("--radix-popper-available-width",`${Oe}px`),ze.setProperty("--radix-popper-available-height",`${Ce}px`),ze.setProperty("--radix-popper-anchor-width",`${Pe}px`),ze.setProperty("--radix-popper-anchor-height",`${Ae}px`)}}),A&&cW({element:A,padding:a}),yW({arrowWidth:P,arrowHeight:D}),m&&lW({strategy:"referenceHidden",...K})]}),[j,W]=Mk(Y),$=Hr(v);Gr(()=>{se&&($==null||$())},[se,$]);const oe=(le=L.arrow)==null?void 0:le.x,Se=(ke=L.arrow)==null?void 0:ke.y,ne=((He=L.arrow)==null?void 0:He.centerOffset)!==0,[we,ve]=C.useState();return Gr(()=>{x&&ve(window.getComputedStyle(x).zIndex)},[x]),l.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:se?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[(De=L.transformOrigin)==null?void 0:De.x,(st=L.transformOrigin)==null?void 0:st.y].join(" "),...((qe=L.hide)==null?void 0:qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:l.jsx(mW,{scope:t,placedSide:j,onArrowChange:T,arrowX:oe,arrowY:Se,shouldHideArrow:ne,children:l.jsx(Nt.div,{"data-side":j,"data-align":W,...y,ref:S,style:{...y.style,animation:se?void 0:"none"}})})})});Ak.displayName=MC;var Ek="PopperArrow",xW={top:"bottom",right:"left",bottom:"top",left:"right"},Ck=C.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=gW(Ek,r),o=xW[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(dW,{...i,ref:t,style:{...i.style,display:"block"}})})});Ck.displayName=Ek;function vW(n){return n!==null}var yW=n=>({name:"transformOrigin",options:n,fn(e){var w,x,b;const{placement:t,rects:r,middlewareData:i}=e,o=((w=i.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:n.arrowWidth,c=o?0:n.arrowHeight,[u,d]=Mk(t),f={start:"0%",center:"50%",end:"100%"}[d],m=(((x=i.arrow)==null?void 0:x.x)??0)+a/2,g=(((b=i.arrow)==null?void 0:b.y)??0)+c/2;let v="",y="";return u==="bottom"?(v=o?f:`${m}px`,y=`${-c}px`):u==="top"?(v=o?f:`${m}px`,y=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,y=o?f:`${g}px`):u==="left"&&(v=`${r.floating.width+c}px`,y=o?f:`${g}px`),{data:{x:v,y}}}});function Mk(n){const[e,t="center"]=n.split("-");return[e,t]}var Tk=_k,TC=Sk,NC=Ak,RC=Ck,[nw,_he]=Sa("Tooltip",[Fh]),PC=Fh(),Nk="TooltipProvider",wW=700,bP="tooltip.open",[_W,Rk]=nw(Nk),Pk=n=>{const{__scopeTooltip:e,delayDuration:t=wW,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=n,[o,a]=C.useState(!0),c=C.useRef(!1),u=C.useRef(0);return C.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),l.jsx(_W,{scope:e,isOpenDelayed:o,delayDuration:t,onOpen:C.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:C.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:C.useCallback(d=>{c.current=d},[]),disableHoverableContent:i,children:s})};Pk.displayName=Nk;var Ik="Tooltip",[bhe,rw]=nw(Ik),_A="TooltipTrigger",bW=C.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=rw(_A,t),s=Rk(_A,t),o=PC(t),a=C.useRef(null),c=pn(e,a,i.onTriggerChange),u=C.useRef(!1),d=C.useRef(!1),f=C.useCallback(()=>u.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(TC,{asChild:!0,...o,children:l.jsx(Nt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:$e(n.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:$e(n.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:$e(n.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:$e(n.onFocus,()=>{u.current||i.onOpen()}),onBlur:$e(n.onBlur,i.onClose),onClick:$e(n.onClick,i.onClose)})})});bW.displayName=_A;var SW="TooltipPortal",[She,AW]=nw(SW,{forceMount:void 0}),gh="TooltipContent",Dk=C.forwardRef((n,e)=>{const t=AW(gh,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,o=rw(gh,n.__scopeTooltip);return l.jsx(So,{present:r||o.open,children:o.disableHoverableContent?l.jsx(Bk,{side:i,...s,ref:e}):l.jsx(EW,{side:i,...s,ref:e})})}),EW=C.forwardRef((n,e)=>{const t=rw(gh,n.__scopeTooltip),r=Rk(gh,n.__scopeTooltip),i=C.useRef(null),s=pn(e,i),[o,a]=C.useState(null),{trigger:c,onClose:u}=t,d=i.current,{onPointerInTransitChange:f}=r,m=C.useCallback(()=>{a(null),f(!1)},[f]),g=C.useCallback((v,y)=>{const w=v.currentTarget,x={x:v.clientX,y:v.clientY},b=NW(x,w.getBoundingClientRect()),S=RW(x,b),A=PW(y.getBoundingClientRect()),T=DW([...S,...A]);a(T),f(!0)},[f]);return C.useEffect(()=>()=>m(),[m]),C.useEffect(()=>{if(c&&d){const v=w=>g(w,d),y=w=>g(w,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",y)}}},[c,d,g,m]),C.useEffect(()=>{if(o){const v=y=>{const w=y.target,x={x:y.clientX,y:y.clientY},b=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),S=!IW(x,o);b?m():S&&(m(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,o,u,m]),l.jsx(Bk,{...n,ref:s})}),[CW,MW]=nw(Ik,{isInside:!1}),Bk=C.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,c=rw(gh,t),u=PC(t),{onClose:d}=c;return C.useEffect(()=>(document.addEventListener(bP,d),()=>document.removeEventListener(bP,d)),[d]),C.useEffect(()=>{if(c.trigger){const f=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(xm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(NC,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(w3,{children:r}),l.jsx(CW,{scope:t,isInside:!0,children:l.jsx(u8,{id:c.contentId,role:"tooltip",children:i||r})})]})})});Dk.displayName=gh;var Lk="TooltipArrow",TW=C.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=PC(t);return MW(Lk,t).isInside?null:l.jsx(RC,{...i,...r,ref:e})});TW.displayName=Lk;function NW(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function RW(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function PW(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function IW(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,c=e[s].y,u=e[o].x,d=e[o].y;c>r!=d>r&&t<(u-a)*(r-c)/(d-c)+a&&(i=!i)}return i}function DW(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),BW(e)}function BW(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var LW=Pk,kk=Dk;const kW=LW,OW=C.forwardRef(({className:n,sideOffset:e=4,...t},r)=>l.jsx(kk,{ref:r,sideOffset:e,className:jt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));OW.displayName=kk.displayName;var iw=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},sw=typeof window>"u"||"Deno"in globalThis;function Cs(){}function FW(n,e){return typeof n=="function"?n(e):n}function jW(n){return typeof n=="number"&&n>=0&&n!==1/0}function UW(n,e){return Math.max(n+(e||0)-Date.now(),0)}function SP(n,e){return typeof n=="function"?n(e):n}function zW(n,e){return typeof n=="function"?n(e):n}function AP(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=n;if(o){if(r){if(e.queryHash!==IC(o,e.options))return!1}else if(!Vp(e.queryKey,o))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function EP(n,e){const{exact:t,status:r,predicate:i,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(Gp(e.options.mutationKey)!==Gp(s))return!1}else if(!Vp(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function IC(n,e){return((e==null?void 0:e.queryKeyHashFn)||Gp)(n)}function Gp(n){return JSON.stringify(n,(e,t)=>bA(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function Vp(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!Vp(n[t],e[t])):!1}function Ok(n,e){if(n===e)return n;const t=CP(n)&&CP(e);if(t||bA(n)&&bA(e)){const r=t?n:Object.keys(n),i=r.length,s=t?e:Object.keys(e),o=s.length,a=t?[]:{};let c=0;for(let u=0;u<o;u++){const d=t?u:s[u];(!t&&r.includes(d)||t)&&n[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=Ok(n[d],e[d]),a[d]===n[d]&&n[d]!==void 0&&c++)}return i===o&&c===i?n:a}return e}function CP(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function bA(n){if(!MP(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!MP(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function MP(n){return Object.prototype.toString.call(n)==="[object Object]"}function HW(n){return new Promise(e=>{setTimeout(e,n)})}function GW(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?Ok(n,e):e}function VW(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function WW(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var DC=Symbol();function Fk(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===DC?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Hc,ll,qd,$D,XW=($D=class extends iw{constructor(){super();mn(this,Hc);mn(this,ll);mn(this,qd);Vt(this,qd,e=>{if(!sw&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Te(this,ll)||this.setEventListener(Te(this,qd))}onUnsubscribe(){var e;this.hasListeners()||((e=Te(this,ll))==null||e.call(this),Vt(this,ll,void 0))}setEventListener(e){var t;Vt(this,qd,e),(t=Te(this,ll))==null||t.call(this),Vt(this,ll,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Te(this,Hc)!==e&&(Vt(this,Hc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Te(this,Hc)=="boolean"?Te(this,Hc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Hc=new WeakMap,ll=new WeakMap,qd=new WeakMap,$D),jk=new XW,Qd,cl,Zd,qD,KW=(qD=class extends iw{constructor(){super();mn(this,Qd,!0);mn(this,cl);mn(this,Zd);Vt(this,Zd,e=>{if(!sw&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){Te(this,cl)||this.setEventListener(Te(this,Zd))}onUnsubscribe(){var e;this.hasListeners()||((e=Te(this,cl))==null||e.call(this),Vt(this,cl,void 0))}setEventListener(e){var t;Vt(this,Zd,e),(t=Te(this,cl))==null||t.call(this),Vt(this,cl,e(this.setOnline.bind(this)))}setOnline(e){Te(this,Qd)!==e&&(Vt(this,Qd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Te(this,Qd)}},Qd=new WeakMap,cl=new WeakMap,Zd=new WeakMap,qD),S0=new KW;function JW(){let n,e;const t=new Promise((i,s)=>{n=i,e=s});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}function YW(n){return Math.min(1e3*2**n,3e4)}function Uk(n){return(n??"online")==="online"?S0.isOnline():!0}var zk=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Kb(n){return n instanceof zk}function Hk(n){let e=!1,t=0,r=!1,i;const s=JW(),o=y=>{var w;r||(m(new zk(y)),(w=n.abort)==null||w.call(n))},a=()=>{e=!0},c=()=>{e=!1},u=()=>jk.isFocused()&&(n.networkMode==="always"||S0.isOnline())&&n.canRun(),d=()=>Uk(n.networkMode)&&n.canRun(),f=y=>{var w;r||(r=!0,(w=n.onSuccess)==null||w.call(n,y),i==null||i(),s.resolve(y))},m=y=>{var w;r||(r=!0,(w=n.onError)==null||w.call(n,y),i==null||i(),s.reject(y))},g=()=>new Promise(y=>{var w;i=x=>{(r||u())&&y(x)},(w=n.onPause)==null||w.call(n)}).then(()=>{var y;i=void 0,r||(y=n.onContinue)==null||y.call(n)}),v=()=>{if(r)return;let y;const w=t===0?n.initialPromise:void 0;try{y=w??n.fn()}catch(x){y=Promise.reject(x)}Promise.resolve(y).then(f).catch(x=>{var N;if(r)return;const b=n.retry??(sw?0:3),S=n.retryDelay??YW,A=typeof S=="function"?S(t,x):S,T=b===!0||typeof b=="number"&&t<b||typeof b=="function"&&b(t,x);if(e||!T){m(x);return}t++,(N=n.onFail)==null||N.call(n,t,x),HW(A).then(()=>u()?void 0:g()).then(()=>{e?m(x):v()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?v():g().then(v),s)}}function $W(){let n=[],e=0,t=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?n.push(a):i(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&i(()=>{r(()=>{a.forEach(c=>{t(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{s(()=>{a(...c)})},schedule:s,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Zr=$W(),Gc,QD,Gk=(QD=class{constructor(){mn(this,Gc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),jW(this.gcTime)&&Vt(this,Gc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(sw?1/0:5*60*1e3))}clearGcTimeout(){Te(this,Gc)&&(clearTimeout(Te(this,Gc)),Vt(this,Gc,void 0))}},Gc=new WeakMap,QD),eh,th,ss,Lr,um,Vc,Ts,Uo,ZD,qW=(ZD=class extends Gk{constructor(e){super();mn(this,Ts);mn(this,eh);mn(this,th);mn(this,ss);mn(this,Lr);mn(this,um);mn(this,Vc);Vt(this,Vc,!1),Vt(this,um,e.defaultOptions),this.setOptions(e.options),this.observers=[],Vt(this,ss,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Vt(this,eh,ZW(this.options)),this.state=e.state??Te(this,eh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Te(this,Lr))==null?void 0:e.promise}setOptions(e){this.options={...Te(this,um),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Te(this,ss).remove(this)}setData(e,t){const r=GW(this.state.data,e,this.options);return Nr(this,Ts,Uo).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){Nr(this,Ts,Uo).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,i;const t=(r=Te(this,Lr))==null?void 0:r.promise;return(i=Te(this,Lr))==null||i.cancel(e),t?t.then(Cs).catch(Cs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Te(this,eh))}isActive(){return this.observers.some(e=>zW(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===DC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!UW(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=Te(this,Lr))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=Te(this,Lr))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Te(this,ss).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Te(this,Lr)&&(Te(this,Vc)?Te(this,Lr).cancel({revert:!0}):Te(this,Lr).cancelRetry()),this.scheduleGc()),Te(this,ss).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Nr(this,Ts,Uo).call(this,{type:"invalidate"})}fetch(e,t){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(Te(this,Lr))return Te(this,Lr).continueRetry(),Te(this,Lr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Vt(this,Vc,!0),r.signal)})},s=()=>{const f=Fk(this.options,t),m={queryKey:this.queryKey,meta:this.meta};return i(m),Vt(this,Vc,!1),this.options.persister?this.options.persister(f,m,this):f(m)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(c=this.options.behavior)==null||c.onFetch(o,this),Vt(this,th,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Nr(this,Ts,Uo).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=f=>{var m,g,v,y;Kb(f)&&f.silent||Nr(this,Ts,Uo).call(this,{type:"error",error:f}),Kb(f)||((g=(m=Te(this,ss).config).onError)==null||g.call(m,f,this),(y=(v=Te(this,ss).config).onSettled)==null||y.call(v,this.state.data,f,this)),this.scheduleGc()};return Vt(this,Lr,Hk({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var m,g,v,y;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){a(w);return}(g=(m=Te(this,ss).config).onSuccess)==null||g.call(m,f,this),(y=(v=Te(this,ss).config).onSettled)==null||y.call(v,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,m)=>{Nr(this,Ts,Uo).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Nr(this,Ts,Uo).call(this,{type:"pause"})},onContinue:()=>{Nr(this,Ts,Uo).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Te(this,Lr).start()}},eh=new WeakMap,th=new WeakMap,ss=new WeakMap,Lr=new WeakMap,um=new WeakMap,Vc=new WeakMap,Ts=new WeakSet,Uo=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...QW(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Kb(i)&&i.revert&&Te(this,th)?{...Te(this,th),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Zr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Te(this,ss).notify({query:this,type:"updated",action:e})})},ZD);function QW(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Uk(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function ZW(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var oo,eB,e7=(eB=class extends iw{constructor(e={}){super();mn(this,oo);this.config=e,Vt(this,oo,new Map)}build(e,t,r){const i=t.queryKey,s=t.queryHash??IC(i,t);let o=this.get(s);return o||(o=new qW({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){Te(this,oo).has(e.queryHash)||(Te(this,oo).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Te(this,oo).get(e.queryHash);t&&(e.destroy(),t===e&&Te(this,oo).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Te(this,oo).get(e)}getAll(){return[...Te(this,oo).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>AP(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>AP(e,r)):t}notify(e){Zr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Zr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},oo=new WeakMap,eB),ao,qr,Wc,lo,qa,tB,t7=(tB=class extends Gk{constructor(e){super();mn(this,lo);mn(this,ao);mn(this,qr);mn(this,Wc);this.mutationId=e.mutationId,Vt(this,qr,e.mutationCache),Vt(this,ao,[]),this.state=e.state||n7(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Te(this,ao).includes(e)||(Te(this,ao).push(e),this.clearGcTimeout(),Te(this,qr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Vt(this,ao,Te(this,ao).filter(t=>t!==e)),this.scheduleGc(),Te(this,qr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Te(this,ao).length||(this.state.status==="pending"?this.scheduleGc():Te(this,qr).remove(this))}continue(){var e;return((e=Te(this,Wc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,c,u,d,f,m,g,v,y,w,x,b,S,A,T,N,P;Vt(this,Wc,Hk({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(D,I)=>{Nr(this,lo,qa).call(this,{type:"failed",failureCount:D,error:I})},onPause:()=>{Nr(this,lo,qa).call(this,{type:"pause"})},onContinue:()=>{Nr(this,lo,qa).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Te(this,qr).canRun(this)}));const t=this.state.status==="pending",r=!Te(this,Wc).canStart();try{if(!t){Nr(this,lo,qa).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=Te(this,qr).config).onMutate)==null?void 0:s.call(i,e,this));const I=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));I!==this.state.context&&Nr(this,lo,qa).call(this,{type:"pending",context:I,variables:e,isPaused:r})}const D=await Te(this,Wc).start();return await((u=(c=Te(this,qr).config).onSuccess)==null?void 0:u.call(c,D,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,D,e,this.state.context)),await((g=(m=Te(this,qr).config).onSettled)==null?void 0:g.call(m,D,null,this.state.variables,this.state.context,this)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,D,null,e,this.state.context)),Nr(this,lo,qa).call(this,{type:"success",data:D}),D}catch(D){try{throw await((x=(w=Te(this,qr).config).onError)==null?void 0:x.call(w,D,e,this.state.context,this)),await((S=(b=this.options).onError)==null?void 0:S.call(b,D,e,this.state.context)),await((T=(A=Te(this,qr).config).onSettled)==null?void 0:T.call(A,void 0,D,this.state.variables,this.state.context,this)),await((P=(N=this.options).onSettled)==null?void 0:P.call(N,void 0,D,e,this.state.context)),D}finally{Nr(this,lo,qa).call(this,{type:"error",error:D})}}finally{Te(this,qr).runNext(this)}}},ao=new WeakMap,qr=new WeakMap,Wc=new WeakMap,lo=new WeakSet,qa=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Zr.batch(()=>{Te(this,ao).forEach(r=>{r.onMutationUpdate(e)}),Te(this,qr).notify({mutation:this,type:"updated",action:e})})},tB);function n7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Bi,dm,nB,r7=(nB=class extends iw{constructor(e={}){super();mn(this,Bi);mn(this,dm);this.config=e,Vt(this,Bi,new Map),Vt(this,dm,Date.now())}build(e,t,r){const i=new t7({mutationCache:this,mutationId:++Kg(this,dm)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){const t=mx(e),r=Te(this,Bi).get(t)??[];r.push(e),Te(this,Bi).set(t,r),this.notify({type:"added",mutation:e})}remove(e){var r;const t=mx(e);if(Te(this,Bi).has(t)){const i=(r=Te(this,Bi).get(t))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?Te(this,Bi).delete(t):Te(this,Bi).set(t,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const t=(r=Te(this,Bi).get(mx(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!t||t===e}runNext(e){var r;const t=(r=Te(this,Bi).get(mx(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(t==null?void 0:t.continue())??Promise.resolve()}clear(){Zr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Te(this,Bi).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(r=>EP(t,r))}findAll(e={}){return this.getAll().filter(t=>EP(e,t))}notify(e){Zr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Zr.batch(()=>Promise.all(e.map(t=>t.continue().catch(Cs))))}},Bi=new WeakMap,dm=new WeakMap,nB);function mx(n){var e;return((e=n.options.scope)==null?void 0:e.id)??String(n.mutationId)}function TP(n){return{onFetch:(e,t)=>{var d,f,m,g,v;const r=e.options,i=(m=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,s=((g=e.state.data)==null?void 0:g.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const w=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},x=Fk(e.options,e.fetchOptions),b=async(S,A,T)=>{if(y)return Promise.reject();if(A==null&&S.pages.length)return Promise.resolve(S);const N={queryKey:e.queryKey,pageParam:A,direction:T?"backward":"forward",meta:e.options.meta};w(N);const P=await x(N),{maxPages:D}=e.options,I=T?WW:VW;return{pages:I(S.pages,P,D),pageParams:I(S.pageParams,A,D)}};if(i&&s.length){const S=i==="backward",A=S?i7:NP,T={pages:s,pageParams:o},N=A(r,T);a=await b(T,N,S)}else{const S=n??s.length;do{const A=c===0?o[0]??r.initialPageParam:NP(r,a);if(c>0&&A==null)break;a=await b(a,A),c++}while(c<S)}return a};e.options.persister?e.fetchFn=()=>{var y,w;return(w=(y=e.options).persister)==null?void 0:w.call(y,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=u}}}function NP(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function i7(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var Fn,ul,dl,nh,rh,hl,ih,sh,rB,s7=(rB=class{constructor(n={}){mn(this,Fn);mn(this,ul);mn(this,dl);mn(this,nh);mn(this,rh);mn(this,hl);mn(this,ih);mn(this,sh);Vt(this,Fn,n.queryCache||new e7),Vt(this,ul,n.mutationCache||new r7),Vt(this,dl,n.defaultOptions||{}),Vt(this,nh,new Map),Vt(this,rh,new Map),Vt(this,hl,0)}mount(){Kg(this,hl)._++,Te(this,hl)===1&&(Vt(this,ih,jk.subscribe(async n=>{n&&(await this.resumePausedMutations(),Te(this,Fn).onFocus())})),Vt(this,sh,S0.subscribe(async n=>{n&&(await this.resumePausedMutations(),Te(this,Fn).onOnline())})))}unmount(){var n,e;Kg(this,hl)._--,Te(this,hl)===0&&((n=Te(this,ih))==null||n.call(this),Vt(this,ih,void 0),(e=Te(this,sh))==null||e.call(this),Vt(this,sh,void 0))}isFetching(n){return Te(this,Fn).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Te(this,ul).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Te(this,Fn).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const t=this.defaultQueryOptions(n),r=Te(this,Fn).build(this,t);return n.revalidateIfStale&&r.isStaleByTime(SP(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(n){return Te(this,Fn).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=Te(this,Fn).get(r.queryHash),s=i==null?void 0:i.state.data,o=FW(e,s);if(o!==void 0)return Te(this,Fn).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return Zr.batch(()=>Te(this,Fn).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Te(this,Fn).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=Te(this,Fn);Zr.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=Te(this,Fn),r={type:"active",...n};return Zr.batch(()=>(t.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(n={},e={}){const t={revert:!0,...e},r=Zr.batch(()=>Te(this,Fn).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(Cs).catch(Cs)}invalidateQueries(n={},e={}){return Zr.batch(()=>{if(Te(this,Fn).findAll(n).forEach(r=>{r.invalidate()}),n.refetchType==="none")return Promise.resolve();const t={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(n={},e){const t={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Zr.batch(()=>Te(this,Fn).findAll(n).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,t);return t.throwOnError||(s=s.catch(Cs)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Cs)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=Te(this,Fn).build(this,e);return t.isStaleByTime(SP(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Cs).catch(Cs)}fetchInfiniteQuery(n){return n.behavior=TP(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Cs).catch(Cs)}ensureInfiniteQueryData(n){return n.behavior=TP(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return S0.isOnline()?Te(this,ul).resumePausedMutations():Promise.resolve()}getQueryCache(){return Te(this,Fn)}getMutationCache(){return Te(this,ul)}getDefaultOptions(){return Te(this,dl)}setDefaultOptions(n){Vt(this,dl,n)}setQueryDefaults(n,e){Te(this,nh).set(Gp(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Te(this,nh).values()];let t={};return e.forEach(r=>{Vp(n,r.queryKey)&&(t={...t,...r.defaultOptions})}),t}setMutationDefaults(n,e){Te(this,rh).set(Gp(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Te(this,rh).values()];let t={};return e.forEach(r=>{Vp(n,r.mutationKey)&&(t={...t,...r.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Te(this,dl).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=IC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===DC&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Te(this,dl).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Te(this,Fn).clear(),Te(this,ul).clear()}},Fn=new WeakMap,ul=new WeakMap,dl=new WeakMap,nh=new WeakMap,rh=new WeakMap,hl=new WeakMap,ih=new WeakMap,sh=new WeakMap,rB),o7=C.createContext(void 0),a7=({client:n,children:e})=>(C.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),l.jsx(o7.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wp(){return Wp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Wp.apply(this,arguments)}var ml;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ml||(ml={}));const RP="popstate";function l7(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return SA("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:A0(i)}return u7(e,t,null,n)}function Xn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Vk(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function c7(){return Math.random().toString(36).substr(2,8)}function PP(n,e){return{usr:n.state,key:n.key,idx:e}}function SA(n,e,t,r){return t===void 0&&(t=null),Wp({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?jh(e):e,{state:t,key:e&&e.key||r||c7()})}function A0(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function jh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function u7(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ml.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Wp({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=ml.Pop;let w=d(),x=w==null?null:w-u;u=w,c&&c({action:a,location:y.location,delta:x})}function m(w,x){a=ml.Push;let b=SA(y.location,w,x);u=d()+1;let S=PP(b,u),A=y.createHref(b);try{o.pushState(S,"",A)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(A)}s&&c&&c({action:a,location:y.location,delta:1})}function g(w,x){a=ml.Replace;let b=SA(y.location,w,x);u=d();let S=PP(b,u),A=y.createHref(b);o.replaceState(S,"",A),s&&c&&c({action:a,location:y.location,delta:0})}function v(w){let x=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof w=="string"?w:A0(w);return b=b.replace(/ $/,"%20"),Xn(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let y={get action(){return a},get location(){return n(i,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(RP,f),c=w,()=>{i.removeEventListener(RP,f),c=null}},createHref(w){return e(i,w)},createURL:v,encodeLocation(w){let x=v(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:g,go(w){return o.go(w)}};return y}var IP;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(IP||(IP={}));function d7(n,e,t){return t===void 0&&(t="/"),h7(n,e,t,!1)}function h7(n,e,t,r){let i=typeof e=="string"?jh(e):e,s=BC(i.pathname||"/",t);if(s==null)return null;let o=Wk(n);f7(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=A7(s);a=b7(o[c],u,r)}return a}function Wk(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Xn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=El([r,c.relativePath]),d=t.concat(c);s.children&&s.children.length>0&&(Xn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Wk(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:w7(u,s.index),routesMeta:d})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of Xk(s.path))i(s,o,c)}),e}function Xk(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Xk(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>n.startsWith("/")&&c===""?"/":c)}function f7(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:_7(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const p7=/^:[\w-]+$/,m7=3,g7=2,x7=1,v7=10,y7=-2,DP=n=>n==="*";function w7(n,e){let t=n.split("/"),r=t.length;return t.some(DP)&&(r+=y7),e&&(r+=g7),t.filter(i=>!DP(i)).reduce((i,s)=>i+(p7.test(s)?m7:s===""?x7:v7),r)}function _7(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function b7(n,e,t){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=BP({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&t&&!r[r.length-1].route.index&&(f=BP({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:El([s,f.pathname]),pathnameBase:T7(El([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=El([s,f.pathnameBase]))}return o}function BP(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=S7(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let y=a[f]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const v=a[f];return g&&!v?u[m]=void 0:u[m]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:n}}function S7(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Vk(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function A7(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vk(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function BC(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function E7(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?jh(n):n;return{pathname:t?t.startsWith("/")?t:C7(t,e):e,search:N7(r),hash:R7(i)}}function C7(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Jb(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function M7(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function LC(n,e){let t=M7(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function kC(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=jh(n):(i=Wp({},n),Xn(!i.pathname||!i.pathname.includes("?"),Jb("?","pathname","search",i)),Xn(!i.pathname||!i.pathname.includes("#"),Jb("#","pathname","hash",i)),Xn(!i.search||!i.search.includes("#"),Jb("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}a=f>=0?e[f]:"/"}let c=E7(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const El=n=>n.join("/").replace(/\/\/+/g,"/"),T7=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),N7=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,R7=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function P7(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Kk=["post","put","patch","delete"];new Set(Kk);const I7=["get",...Kk];new Set(I7);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xp(){return Xp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Xp.apply(this,arguments)}const OC=C.createContext(null),D7=C.createContext(null),Vl=C.createContext(null),ow=C.createContext(null),Aa=C.createContext({outlet:null,matches:[],isDataRoute:!1}),Jk=C.createContext(null);function B7(n,e){let{relative:t}=e===void 0?{}:e;Uh()||Xn(!1);let{basename:r,navigator:i}=C.useContext(Vl),{hash:s,pathname:o,search:a}=$k(n,{relative:t}),c=o;return r!=="/"&&(c=o==="/"?r:El([r,o])),i.createHref({pathname:c,search:a,hash:s})}function Uh(){return C.useContext(ow)!=null}function Wl(){return Uh()||Xn(!1),C.useContext(ow).location}function Yk(n){C.useContext(Vl).static||C.useLayoutEffect(n)}function _u(){let{isDataRoute:n}=C.useContext(Aa);return n?Y7():L7()}function L7(){Uh()||Xn(!1);let n=C.useContext(OC),{basename:e,future:t,navigator:r}=C.useContext(Vl),{matches:i}=C.useContext(Aa),{pathname:s}=Wl(),o=JSON.stringify(LC(i,t.v7_relativeSplatPath)),a=C.useRef(!1);return Yk(()=>{a.current=!0}),C.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=kC(u,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:El([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,n])}const k7=C.createContext(null);function O7(n){let e=C.useContext(Aa).outlet;return e&&C.createElement(k7.Provider,{value:n},e)}function $k(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=C.useContext(Vl),{matches:i}=C.useContext(Aa),{pathname:s}=Wl(),o=JSON.stringify(LC(i,r.v7_relativeSplatPath));return C.useMemo(()=>kC(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function F7(n,e){return j7(n,e)}function j7(n,e,t,r){Uh()||Xn(!1);let{navigator:i}=C.useContext(Vl),{matches:s}=C.useContext(Aa),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Wl(),d;if(e){var f;let w=typeof e=="string"?jh(e):e;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||Xn(!1),d=w}else d=u;let m=d.pathname||"/",g=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=d7(n,{pathname:g}),y=V7(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:El([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:El([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,t,r);return e&&y?C.createElement(ow.Provider,{value:{location:Xp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ml.Pop}},y):y}function U7(){let n=J7(),e=P7(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:i},t):null,null)}const z7=C.createElement(U7,null);class H7 extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?C.createElement(Aa.Provider,{value:this.props.routeContext},C.createElement(Jk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G7(n){let{routeContext:e,match:t,children:r}=n,i=C.useContext(OC);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(Aa.Provider,{value:e},r)}function V7(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Xn(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:g}=t,v=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let g,v=!1,y=null,w=null;t&&(g=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||z7,c&&(u<0&&m===0?(v=!0,w=null):u===m&&(v=!0,w=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,m+1)),b=()=>{let S;return g?S=y:v?S=w:f.route.Component?S=C.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=d,C.createElement(G7,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:t!=null},children:S})};return t&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?C.createElement(H7,{location:t.location,revalidation:t.revalidation,component:y,error:g,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var qk=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(qk||{}),E0=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(E0||{});function W7(n){let e=C.useContext(OC);return e||Xn(!1),e}function X7(n){let e=C.useContext(D7);return e||Xn(!1),e}function K7(n){let e=C.useContext(Aa);return e||Xn(!1),e}function Qk(n){let e=K7(),t=e.matches[e.matches.length-1];return t.route.id||Xn(!1),t.route.id}function J7(){var n;let e=C.useContext(Jk),t=X7(E0.UseRouteError),r=Qk(E0.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Y7(){let{router:n}=W7(qk.UseNavigateStable),e=Qk(E0.UseNavigateStable),t=C.useRef(!1);return Yk(()=>{t.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Xp({fromRouteId:e},s)))},[n,e])}function $7(n){let{to:e,replace:t,state:r,relative:i}=n;Uh()||Xn(!1);let{future:s,static:o}=C.useContext(Vl),{matches:a}=C.useContext(Aa),{pathname:c}=Wl(),u=_u(),d=kC(e,LC(a,s.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return C.useEffect(()=>u(JSON.parse(f),{replace:t,state:r,relative:i}),[u,f,i,t,r]),null}function q7(n){return O7(n.context)}function er(n){Xn(!1)}function Q7(n){let{basename:e="/",children:t=null,location:r,navigationType:i=ml.Pop,navigator:s,static:o=!1,future:a}=n;Uh()&&Xn(!1);let c=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:c,navigator:s,static:o,future:Xp({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof r=="string"&&(r=jh(r));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:v="default"}=r,y=C.useMemo(()=>{let w=BC(d,c);return w==null?null:{location:{pathname:w,search:f,hash:m,state:g,key:v},navigationType:i}},[c,d,f,m,g,v,i]);return y==null?null:C.createElement(Vl.Provider,{value:u},C.createElement(ow.Provider,{children:t,value:y}))}function Z7(n){let{children:e,location:t}=n;return F7(AA(e),t)}new Promise(()=>{});function AA(n,e){e===void 0&&(e=[]);let t=[];return C.Children.forEach(n,(r,i)=>{if(!C.isValidElement(r))return;let s=[...e,i];if(r.type===C.Fragment){t.push.apply(t,AA(r.props.children,s));return}r.type!==er&&Xn(!1),!r.props.index||!r.props.children||Xn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=AA(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function EA(){return EA=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},EA.apply(this,arguments)}function eX(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function tX(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function nX(n,e){return n.button===0&&(!e||e==="_self")&&!tX(n)}const rX=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],iX="6";try{window.__reactRouterVersion=iX}catch{}const sX="startTransition",LP=pB[sX];function oX(n){let{basename:e,children:t,future:r,window:i}=n,s=C.useRef();s.current==null&&(s.current=l7({window:i,v5Compat:!0}));let o=s.current,[a,c]=C.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=C.useCallback(f=>{u&&LP?LP(()=>c(f)):c(f)},[c,u]);return C.useLayoutEffect(()=>o.listen(d),[o,d]),C.createElement(Q7,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}const aX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vt=C.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,m=eX(e,rX),{basename:g}=C.useContext(Vl),v,y=!1;if(typeof u=="string"&&lX.test(u)&&(v=u,aX))try{let S=new URL(window.location.href),A=u.startsWith("//")?new URL(S.protocol+u):new URL(u),T=BC(A.pathname,g);A.origin===S.origin&&T!=null?u=T+A.search+A.hash:y=!0}catch{}let w=B7(u,{relative:i}),x=cX(u,{replace:o,state:a,target:c,preventScrollReset:d,relative:i,viewTransition:f});function b(S){r&&r(S),S.defaultPrevented||x(S)}return C.createElement("a",EA({},m,{href:v||w,onClick:y||s?r:b,ref:t,target:c}))});var kP;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(kP||(kP={}));var OP;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(OP||(OP={}));function cX(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,c=_u(),u=Wl(),d=$k(n,{relative:o});return C.useCallback(f=>{if(nX(f,t)){f.preventDefault();let m=r!==void 0?r:A0(u)===A0(d);c(n,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,c,d,r,i,t,n,s,o,a])}const uX=Yy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Re=C.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const o=r?iu:"button";return l.jsx(o,{className:jt(uX({variant:e,size:t,className:n})),ref:s,...i})});Re.displayName="Button";const dX=()=>{};var FP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},hX=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},eO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let m=(a&15)<<2|u>>6,g=u&63;c||(g=64,o||(m=64)),r.push(t[d],t[f],t[m],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Zk(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):hX(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const u=i<n.length?t[n.charAt(i)]:64;++i;const f=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new fX;const m=s<<2|a>>4;if(r.push(m),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class fX extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pX=function(n){const e=Zk(n);return eO.encodeByteArray(e,!0)},tO=function(n){return pX(n).replace(/\./g,"")},nO=function(n){try{return eO.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gX=()=>mX().__FIREBASE_DEFAULTS__,xX=()=>{if(typeof process>"u"||typeof FP>"u")return;const n=FP.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vX=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&nO(n[1]);return e&&JSON.parse(e)},FC=()=>{try{return dX()||gX()||xX()||vX()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},yX=n=>{var e,t;return(t=(e=FC())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},rO=()=>{var n;return(n=FC())===null||n===void 0?void 0:n.config},iO=n=>{var e;return(e=FC())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wX{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(n){return n.endsWith(".cloudworkstations.dev")}async function _X(n){return(await fetch(n,{credentials:"include"})).ok}const hp={};function bX(){const n={prod:[],emulator:[]};for(const e of Object.keys(hp))hp[e]?n.emulator.push(e):n.prod.push(e);return n}function SX(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let jP=!1;function AX(n,e){if(typeof window>"u"||typeof document>"u"||!jC(window.location.host)||hp[n]===e||hp[n]||jP)return;hp[n]=e;function t(m){return`__firebase__banner__${m}`}const r="__firebase__banner",s=bX().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{jP=!0,o()},m}function d(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=SX(r),g=t("text"),v=document.getElementById(g)||document.createElement("span"),y=t("learnmore"),w=document.getElementById(y)||document.createElement("a"),x=t("preprendIcon"),b=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const S=m.element;a(S),d(w,y);const A=u();c(b,x),S.append(b,v,w,A),document.body.appendChild(S)}s?(v.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EX(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ri())}function CX(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MX(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function TX(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NX(){const n=ri();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function RX(){try{return typeof indexedDB=="object"}catch{return!1}}function PX(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IX="FirebaseError";class Xl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=IX,Object.setPrototypeOf(this,Xl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wm.prototype.create)}}class wm{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?DX(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Xl(i,a,r)}}function DX(n,e){return n.replace(BX,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const BX=/\{\$([^}]+)}/g;function LX(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function xh(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(UP(s)&&UP(o)){if(!xh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function UP(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Jf(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Yf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function kX(n,e){const t=new OX(n,e);return t.subscribe.bind(t)}class OX{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");FX(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Yb),i.error===void 0&&(i.error=Yb),i.complete===void 0&&(i.complete=Yb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FX(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Yb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(n){return n&&n._delegate?n._delegate:n}class vh{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jX=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new wX;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zX(e))try{this.getOrInitializeService({instanceIdentifier:Cc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Cc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cc){return this.instances.has(e)}getOptions(e=Cc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UX(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Cc){return this.component?this.component.multipleInstances?e:Cc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function UX(n){return n===Cc?void 0:n}function zX(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HX{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jX(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(yn||(yn={}));const GX={debug:yn.DEBUG,verbose:yn.VERBOSE,info:yn.INFO,warn:yn.WARN,error:yn.ERROR,silent:yn.SILENT},VX=yn.INFO,WX={[yn.DEBUG]:"log",[yn.VERBOSE]:"log",[yn.INFO]:"info",[yn.WARN]:"warn",[yn.ERROR]:"error"},XX=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=WX[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sO{constructor(e){this.name=e,this._logLevel=VX,this._logHandler=XX,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GX[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yn.DEBUG,...e),this._logHandler(this,yn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yn.VERBOSE,...e),this._logHandler(this,yn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yn.INFO,...e),this._logHandler(this,yn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yn.WARN,...e),this._logHandler(this,yn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yn.ERROR,...e),this._logHandler(this,yn.ERROR,...e)}}const KX=(n,e)=>e.some(t=>n instanceof t);let zP,HP;function JX(){return zP||(zP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YX(){return HP||(HP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oO=new WeakMap,CA=new WeakMap,aO=new WeakMap,$b=new WeakMap,UC=new WeakMap;function $X(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Cl(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&oO.set(t,n)}).catch(()=>{}),UC.set(e,n),e}function qX(n){if(CA.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});CA.set(n,e)}let MA={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return CA.get(n);if(e==="objectStoreNames")return n.objectStoreNames||aO.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Cl(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function QX(n){MA=n(MA)}function ZX(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(qb(this),e,...t);return aO.set(r,e.sort?e.sort():[e]),Cl(r)}:YX().includes(n)?function(...e){return n.apply(qb(this),e),Cl(oO.get(this))}:function(...e){return Cl(n.apply(qb(this),e))}}function eK(n){return typeof n=="function"?ZX(n):(n instanceof IDBTransaction&&qX(n),KX(n,JX())?new Proxy(n,MA):n)}function Cl(n){if(n instanceof IDBRequest)return $X(n);if($b.has(n))return $b.get(n);const e=eK(n);return e!==n&&($b.set(n,e),UC.set(e,n)),e}const qb=n=>UC.get(n);function tK(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Cl(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Cl(o.result),c.oldVersion,c.newVersion,Cl(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const nK=["get","getKey","getAll","getAllKeys","count"],rK=["put","add","delete","clear"],Qb=new Map;function GP(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Qb.get(e))return Qb.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=rK.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nK.includes(t)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[t](...a),i&&c.done]))[0]};return Qb.set(e,s),s}QX(n=>({...n,get:(e,t,r)=>GP(e,t)||n.get(e,t,r),has:(e,t)=>!!GP(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(sK(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function sK(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const TA="@firebase/app",VP="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new sO("@firebase/app"),oK="@firebase/app-compat",aK="@firebase/analytics-compat",lK="@firebase/analytics",cK="@firebase/app-check-compat",uK="@firebase/app-check",dK="@firebase/auth",hK="@firebase/auth-compat",fK="@firebase/database",pK="@firebase/data-connect",mK="@firebase/database-compat",gK="@firebase/functions",xK="@firebase/functions-compat",vK="@firebase/installations",yK="@firebase/installations-compat",wK="@firebase/messaging",_K="@firebase/messaging-compat",bK="@firebase/performance",SK="@firebase/performance-compat",AK="@firebase/remote-config",EK="@firebase/remote-config-compat",CK="@firebase/storage",MK="@firebase/storage-compat",TK="@firebase/firestore",NK="@firebase/ai",RK="@firebase/firestore-compat",PK="firebase",IK="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="[DEFAULT]",DK={[TA]:"fire-core",[oK]:"fire-core-compat",[lK]:"fire-analytics",[aK]:"fire-analytics-compat",[uK]:"fire-app-check",[cK]:"fire-app-check-compat",[dK]:"fire-auth",[hK]:"fire-auth-compat",[fK]:"fire-rtdb",[pK]:"fire-data-connect",[mK]:"fire-rtdb-compat",[gK]:"fire-fn",[xK]:"fire-fn-compat",[vK]:"fire-iid",[yK]:"fire-iid-compat",[wK]:"fire-fcm",[_K]:"fire-fcm-compat",[bK]:"fire-perf",[SK]:"fire-perf-compat",[AK]:"fire-rc",[EK]:"fire-rc-compat",[CK]:"fire-gcs",[MK]:"fire-gcs-compat",[TK]:"fire-fst",[RK]:"fire-fst-compat",[NK]:"fire-vertex","fire-js":"fire-js",[PK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=new Map,BK=new Map,RA=new Map;function WP(n,e){try{n.container.addComponent(e)}catch(t){ga.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Kp(n){const e=n.name;if(RA.has(e))return ga.debug(`There were multiple attempts to register component ${e}.`),!1;RA.set(e,n);for(const t of C0.values())WP(t,n);for(const t of BK.values())WP(t,n);return!0}function lO(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Is(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ml=new wm("app","Firebase",LK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kK{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ml.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=IK;function cO(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:NA,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ml.create("bad-app-name",{appName:String(i)});if(t||(t=rO()),!t)throw Ml.create("no-options");const s=C0.get(i);if(s){if(xh(t,s.options)&&xh(r,s.config))return s;throw Ml.create("duplicate-app",{appName:i})}const o=new HX(i);for(const c of RA.values())o.addComponent(c);const a=new kK(t,r,o);return C0.set(i,a),a}function OK(n=NA){const e=C0.get(n);if(!e&&n===NA&&rO())return cO();if(!e)throw Ml.create("no-app",{appName:n});return e}function Gd(n,e,t){var r;let i=(r=DK[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ga.warn(a.join(" "));return}Kp(new vh(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FK="firebase-heartbeat-database",jK=1,Jp="firebase-heartbeat-store";let Zb=null;function uO(){return Zb||(Zb=tK(FK,jK,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Jp)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ml.create("idb-open",{originalErrorMessage:n.message})})),Zb}async function UK(n){try{const t=(await uO()).transaction(Jp),r=await t.objectStore(Jp).get(dO(n));return await t.done,r}catch(e){if(e instanceof Xl)ga.warn(e.message);else{const t=Ml.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ga.warn(t.message)}}}async function XP(n,e){try{const r=(await uO()).transaction(Jp,"readwrite");await r.objectStore(Jp).put(e,dO(n)),await r.done}catch(t){if(t instanceof Xl)ga.warn(t.message);else{const r=Ml.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ga.warn(r.message)}}}function dO(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zK=1024,HK=30;class GK{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new WK(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=KP();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>HK){const o=XK(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ga.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=KP(),{heartbeatsToSend:r,unsentEntries:i}=VK(this._heartbeatsCache.heartbeats),s=tO(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return ga.warn(t),""}}}function KP(){return new Date().toISOString().substring(0,10)}function VK(n,e=zK){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),JP(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),JP(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class WK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RX()?PX().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await UK(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return XP(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return XP(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function JP(n){return tO(JSON.stringify({version:2,heartbeats:n})).length}function XK(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KK(n){Kp(new vh("platform-logger",e=>new iK(e),"PRIVATE")),Kp(new vh("heartbeat",e=>new GK(e),"PRIVATE")),Gd(TA,VP,n),Gd(TA,VP,"esm2017"),Gd("fire-js","")}KK("");var uo=function(){return uo=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},uo.apply(this,arguments)};function Sm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function JK(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}function hO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YK=hO,fO=new wm("auth","Firebase",hO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=new sO("@firebase/auth");function $K(n,...e){M0.logLevel<=yn.WARN&&M0.warn(`Auth (${bm}): ${n}`,...e)}function Dv(n,...e){M0.logLevel<=yn.ERROR&&M0.error(`Auth (${bm}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(n,...e){throw zC(n,...e)}function po(n,...e){return zC(n,...e)}function pO(n,e,t){const r=Object.assign(Object.assign({},YK()),{[e]:t});return new wm("auth","Firebase",r).create(e,{appName:n.name})}function ta(n){return pO(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zC(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return fO.create(n,...e)}function Tt(n,e,...t){if(!n)throw zC(e,...t)}function $o(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Dv(e),new Error(e)}function xa(n,e){n||$o(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function qK(){return YP()==="http:"||YP()==="https:"}function YP(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qK()||MX()||"connection"in navigator)?navigator.onLine:!0}function ZK(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,t){this.shortDelay=e,this.longDelay=t,xa(t>e,"Short delay should be less than long delay!"),this.isMobile=EX()||TX()}get(){return QK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(n,e){xa(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$o("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$o("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$o("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tJ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nJ=new Am(3e4,6e4);function Kl(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ca(n,e,t,r,i={}){return gO(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=_m(Object.assign({key:n.config.apiKey},o)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:e,headers:c},s);return CX()||(u.referrerPolicy="no-referrer"),n.emulatorConfig&&jC(n.emulatorConfig.host)&&(u.credentials="include"),mO.fetch()(await xO(n,n.config.apiHost,t,a),u)})}async function gO(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},eJ),e);try{const i=new iJ(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw gx(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw gx(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw gx(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw gx(n,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw pO(n,d,u);Hs(n,d)}}catch(i){if(i instanceof Xl)throw i;Hs(n,"network-request-failed",{message:String(i)})}}async function Em(n,e,t,r,i={}){const s=await Ca(n,e,t,r,i);return"mfaPendingCredential"in s&&Hs(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function xO(n,e,t,r){const i=`${e}${t}?${r}`,s=n,o=s.config.emulator?HC(n.config,i):`${n.config.apiScheme}://${i}`;return tJ.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function rJ(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iJ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(po(this.auth,"network-request-failed")),nJ.get())})}}function gx(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=po(n,e,r);return i.customData._tokenResponse=t,i}function $P(n){return n!==void 0&&n.enterprise!==void 0}class sJ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rJ(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oJ(n,e){return Ca(n,"GET","/v2/recaptchaConfig",Kl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aJ(n,e){return Ca(n,"POST","/v1/accounts:delete",e)}async function T0(n,e){return Ca(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lJ(n,e=!1){const t=Ea(n),r=await t.getIdToken(e),i=GC(r);Tt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:fp(eS(i.auth_time)),issuedAtTime:fp(eS(i.iat)),expirationTime:fp(eS(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function eS(n){return Number(n)*1e3}function GC(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Dv("JWT malformed, contained fewer than 3 sections"),null;try{const i=nO(t);return i?JSON.parse(i):(Dv("Failed to decode base64 JWT payload"),null)}catch(i){return Dv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function qP(n){const e=GC(n);return Tt(e,"internal-error"),Tt(typeof e.exp<"u","internal-error"),Tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Xl&&cJ(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function cJ({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fp(this.lastLoginAt),this.creationTime=fp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N0(n){var e;const t=n.auth,r=await n.getIdToken(),i=await yh(n,T0(t,{idToken:r}));Tt(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?vO(s.providerUserInfo):[],a=hJ(n.providerData,o),c=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!(a!=null&&a.length),d=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new IA(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,f)}async function dJ(n){const e=Ea(n);await N0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hJ(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vO(n){return n.map(e=>{var{providerId:t}=e,r=Sm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fJ(n,e){const t=await gO(n,{},async()=>{const r=_m({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await xO(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",mO.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function pJ(n,e){return Ca(n,"POST","/v2/accounts:revokeToken",Kl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tt(e.idToken,"internal-error"),Tt(typeof e.idToken<"u","internal-error"),Tt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Tt(e.length!==0,"internal-error");const t=qP(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await fJ(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Vd;return r&&(Tt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Tt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Tt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vd,this.toJSON())}_performRefresh(){return $o("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(n,e){Tt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Bs{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Sm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new IA(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await yh(this,this.stsTokenManager.getToken(this.auth,e));return Tt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lJ(this,e)}reload(){return dJ(this)}_assign(e){this!==e&&(Tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Bs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await N0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Is(this.auth.app))return Promise.reject(ta(this.auth));const e=await this.getIdToken();return await yh(this,aJ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,u,d;const f=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,g=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=t.photoURL)!==null&&o!==void 0?o:void 0,y=(a=t.tenantId)!==null&&a!==void 0?a:void 0,w=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,x=(u=t.createdAt)!==null&&u!==void 0?u:void 0,b=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:S,emailVerified:A,isAnonymous:T,providerData:N,stsTokenManager:P}=t;Tt(S&&P,e,"internal-error");const D=Vd.fromJSON(this.name,P);Tt(typeof S=="string",e,"internal-error"),za(f,e.name),za(m,e.name),Tt(typeof A=="boolean",e,"internal-error"),Tt(typeof T=="boolean",e,"internal-error"),za(g,e.name),za(v,e.name),za(y,e.name),za(w,e.name),za(x,e.name),za(b,e.name);const I=new Bs({uid:S,auth:e,email:m,emailVerified:A,displayName:f,isAnonymous:T,photoURL:v,phoneNumber:g,tenantId:y,stsTokenManager:D,createdAt:x,lastLoginAt:b});return N&&Array.isArray(N)&&(I.providerData=N.map(R=>Object.assign({},R))),w&&(I._redirectEventId=w),I}static async _fromIdTokenResponse(e,t,r=!1){const i=new Vd;i.updateFromServerResponse(t);const s=new Bs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await N0(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Tt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?vO(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Vd;a.updateFromIdToken(r);const c=new Bs({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new IA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=new Map;function qo(n){xa(n instanceof Function,"Expected a class definition");let e=QP.get(n);return e?(xa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,QP.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yO.type="NONE";const ZP=yO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(n,e,t){return`firebase:${n}:${e}:${t}`}class Wd{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Bv(this.userKey,i.apiKey,s),this.fullPersistenceKey=Bv("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await T0(this.auth,{idToken:e}).catch(()=>{});return t?Bs._fromGetAccountInfoResponse(this.auth,t,e):null}return Bs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Wd(qo(ZP),e,r);const i=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||qo(ZP);const o=Bv(r,e.config.apiKey,e.name);let a=null;for(const u of t)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const m=await T0(e,{idToken:d}).catch(()=>{});if(!m)break;f=await Bs._fromGetAccountInfoResponse(e,m,d)}else f=Bs._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Wd(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Wd(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EO(e))return"Blackberry";if(CO(e))return"Webos";if(_O(e))return"Safari";if((e.includes("chrome/")||bO(e))&&!e.includes("edge/"))return"Chrome";if(AO(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wO(n=ri()){return/firefox\//i.test(n)}function _O(n=ri()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bO(n=ri()){return/crios\//i.test(n)}function SO(n=ri()){return/iemobile/i.test(n)}function AO(n=ri()){return/android/i.test(n)}function EO(n=ri()){return/blackberry/i.test(n)}function CO(n=ri()){return/webos/i.test(n)}function VC(n=ri()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function mJ(n=ri()){var e;return VC(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gJ(){return NX()&&document.documentMode===10}function MO(n=ri()){return VC(n)||AO(n)||CO(n)||EO(n)||/windows phone/i.test(n)||SO(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(n,e=[]){let t;switch(n){case"Browser":t=e2(ri());break;case"Worker":t=`${e2(ri())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bm}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vJ(n,e={}){return Ca(n,"GET","/v2/passwordPolicy",Kl(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yJ=6;class wJ{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:yJ,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _J{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t2(this),this.idTokenSubscription=new t2(this),this.beforeStateQueue=new xJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qo(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Wd.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await T0(this,{idToken:e}),r=await Bs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Is(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await N0(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Is(this.app))return Promise.reject(ta(this));const t=e?Ea(e):null;return t&&Tt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Is(this.app)?Promise.reject(ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Is(this.app)?Promise.reject(ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vJ(this),t=new wJ(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wm("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await pJ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&qo(e)||this._popupRedirectResolver;Tt(t,this,"argument-error"),this.redirectPersistenceManager=await Wd.create(this,[qo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(t);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Is(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&$K(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function bu(n){return Ea(n)}class t2{constructor(e){this.auth=e,this.observer=null,this.addObserver=kX(t=>this.observer=t)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bJ(n){aw=n}function NO(n){return aw.loadJS(n)}function SJ(){return aw.recaptchaEnterpriseScript}function AJ(){return aw.gapiScript}function EJ(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class CJ{constructor(){this.enterprise=new MJ}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class MJ{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const TJ="recaptcha-enterprise",RO="NO_RECAPTCHA";class NJ{constructor(e){this.type=TJ,this.auth=bu(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{oJ(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new sJ(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){const c=window.grecaptcha;$P(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(RO)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CJ().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&$P(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=SJ();c.length!==0&&(c+=a),NO(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function n2(n,e,t,r=!1,i=!1){const s=new NJ(n);let o;if(i)o=RO;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}const a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function DA(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await n2(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await n2(n,e,t,t==="getOobCode");return r(n,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RJ(n,e){const t=lO(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(xh(s,e??{}))return i;Hs(i,"already-initialized")}return t.initialize({options:e})}function PJ(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(qo);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function IJ(n,e,t){const r=bu(n);Tt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=PO(e),{host:o,port:a}=DJ(e),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Tt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Tt(xh(u,r.config.emulator)&&xh(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,jC(o)?(_X(`${s}//${o}${c}`),AX("Auth",!0)):BJ()}function PO(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function DJ(n){const e=PO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:r2(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:r2(o)}}}function r2(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function BJ(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return $o("not implemented")}_getIdTokenResponse(e){return $o("not implemented")}_linkToIdToken(e,t){return $o("not implemented")}_getReauthenticationResolver(e){return $o("not implemented")}}async function LJ(n,e){return Ca(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kJ(n,e){return Em(n,"POST","/v1/accounts:signInWithPassword",Kl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OJ(n,e){return Em(n,"POST","/v1/accounts:signInWithEmailLink",Kl(n,e))}async function FJ(n,e){return Em(n,"POST","/v1/accounts:signInWithEmailLink",Kl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends WC{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Yp(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Yp(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return DA(e,t,"signInWithPassword",kJ);case"emailLink":return OJ(e,{email:this._email,oobCode:this._password});default:Hs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return DA(e,r,"signUpPassword",LJ);case"emailLink":return FJ(e,{idToken:t,email:this._email,oobCode:this._password});default:Hs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xd(n,e){return Em(n,"POST","/v1/accounts:signInWithIdp",Kl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jJ="http://localhost";class au extends WC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new au(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=Sm(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new au(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Xd(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Xd(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xd(e,t)}buildRequest(){const e={requestUri:jJ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_m(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UJ(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zJ(n){const e=Jf(Yf(n)).link,t=e?Jf(Yf(e)).deep_link_id:null,r=Jf(Yf(n)).deep_link_id;return(r?Jf(Yf(r)).link:null)||r||t||e||n}class XC{constructor(e){var t,r,i,s,o,a;const c=Jf(Yf(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=UJ((i=c.mode)!==null&&i!==void 0?i:null);Tt(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=zJ(e);try{return new XC(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this.providerId=zh.PROVIDER_ID}static credential(e,t){return Yp._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=XC.parseLink(t);return Tt(r,"argument-error"),Yp._fromEmailAndCode(e,r.code,r.tenantId)}}zh.PROVIDER_ID="password";zh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm extends IO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl extends Cm{constructor(){super("facebook.com")}static credential(e){return au._fromParams({providerId:rl.PROVIDER_ID,signInMethod:rl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rl.credentialFromTaggedObject(e)}static credentialFromError(e){return rl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rl.credential(e.oauthAccessToken)}catch{return null}}}rl.FACEBOOK_SIGN_IN_METHOD="facebook.com";rl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends Cm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return au._fromParams({providerId:il.PROVIDER_ID,signInMethod:il.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return il.credentialFromTaggedObject(e)}static credentialFromError(e){return il.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return il.credential(t,r)}catch{return null}}}il.GOOGLE_SIGN_IN_METHOD="google.com";il.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends Cm{constructor(){super("github.com")}static credential(e){return au._fromParams({providerId:sl.PROVIDER_ID,signInMethod:sl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sl.credentialFromTaggedObject(e)}static credentialFromError(e){return sl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sl.credential(e.oauthAccessToken)}catch{return null}}}sl.GITHUB_SIGN_IN_METHOD="github.com";sl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends Cm{constructor(){super("twitter.com")}static credential(e,t){return au._fromParams({providerId:ol.PROVIDER_ID,signInMethod:ol.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ol.credentialFromTaggedObject(e)}static credentialFromError(e){return ol.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ol.credential(t,r)}catch{return null}}}ol.TWITTER_SIGN_IN_METHOD="twitter.com";ol.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HJ(n,e){return Em(n,"POST","/v1/accounts:signUp",Kl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Bs._fromIdTokenResponse(e,r,i),o=i2(r);return new lu({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=i2(r);return new lu({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function i2(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0 extends Xl{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,R0.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new R0(e,t,r,i)}}function DO(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?R0._fromErrorAndOperation(n,s,e,r):s})}async function GJ(n,e,t=!1){const r=await yh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return lu._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VJ(n,e,t=!1){const{auth:r}=n;if(Is(r.app))return Promise.reject(ta(r));const i="reauthenticate";try{const s=await yh(n,DO(r,i,e,n),t);Tt(s.idToken,r,"internal-error");const o=GC(s.idToken);Tt(o,r,"internal-error");const{sub:a}=o;return Tt(n.uid===a,r,"user-mismatch"),lu._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Hs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(n,e,t=!1){if(Is(n.app))return Promise.reject(ta(n));const r="signIn",i=await DO(n,r,e),s=await lu._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function WJ(n,e){return BO(bu(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(n){const e=bu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function XJ(n,e,t){if(Is(n.app))return Promise.reject(ta(n));const r=bu(n),o=await DA(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HJ).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&LO(n),c}),a=await lu._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function KJ(n,e,t){return Is(n.app)?Promise.reject(ta(n)):WJ(Ea(n),zh.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&LO(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JJ(n,e){return Ca(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YJ(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Ea(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=await yh(r,JJ(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function $J(n,e,t,r){return Ea(n).onIdTokenChanged(e,t,r)}function qJ(n,e,t){return Ea(n).beforeAuthStateChanged(e,t)}function QJ(n,e,t,r){return Ea(n).onAuthStateChanged(e,t,r)}const P0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(P0,"1"),this.storage.removeItem(P0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZJ=1e3,eY=10;class OO extends kO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);gJ()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,eY):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},ZJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}OO.type="LOCAL";const tY=OO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO extends kO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}FO.type="SESSION";const jO=FO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nY(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new lw(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(t.origin,s)),c=await nY(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=KC("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(){return window}function iY(n){mo().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(){return typeof mo().WorkerGlobalScope<"u"&&typeof mo().importScripts=="function"}async function sY(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oY(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function aY(){return UO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO="firebaseLocalStorageDb",lY=1,I0="firebaseLocalStorage",HO="fbase_key";class Mm{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function cw(n,e){return n.transaction([I0],e?"readwrite":"readonly").objectStore(I0)}function cY(){const n=indexedDB.deleteDatabase(zO);return new Mm(n).toPromise()}function BA(){const n=indexedDB.open(zO,lY);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(I0,{keyPath:HO})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(I0)?e(r):(r.close(),await cY(),e(await BA()))})})}async function s2(n,e,t){const r=cw(n,!0).put({[HO]:e,value:t});return new Mm(r).toPromise()}async function uY(n,e){const t=cw(n,!1).get(e),r=await new Mm(t).toPromise();return r===void 0?null:r.value}function o2(n,e){const t=cw(n,!0).delete(e);return new Mm(t).toPromise()}const dY=800,hY=3;class GO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await BA(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>hY)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lw._getInstance(aY()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await sY(),!this.activeServiceWorker)return;this.sender=new rY(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await BA();return await s2(e,P0,"1"),await o2(e,P0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>s2(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>uY(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>o2(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=cw(i,!1).getAll();return new Mm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GO.type="LOCAL";const fY=GO;new Am(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pY(n,e){return e?qo(e):(Tt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC extends WC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function mY(n){return BO(n.auth,new JC(n),n.bypassAuthState)}function gY(n){const{auth:e,user:t}=n;return Tt(t,e,"internal-error"),VJ(t,new JC(n),n.bypassAuthState)}async function xY(n){const{auth:e,user:t}=n;return Tt(t,e,"internal-error"),GJ(t,new JC(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mY;case"linkViaPopup":case"linkViaRedirect":return xY;case"reauthViaPopup":case"reauthViaRedirect":return gY;default:Hs(this.auth,"internal-error")}}resolve(e){xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vY=new Am(2e3,1e4);class Rd extends VO{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Rd.currentPopupAction&&Rd.currentPopupAction.cancel(),Rd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Tt(e,this.auth,"internal-error"),e}async onExecution(){xa(this.filter.length===1,"Popup operations only handle one event");const e=KC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(po(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(po(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(po(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vY.get())};e()}}Rd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yY="pendingRedirect",Lv=new Map;class wY extends VO{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Lv.get(this.auth._key());if(!e){try{const r=await _Y(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Lv.set(this.auth._key(),e)}return this.bypassAuthState||Lv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _Y(n,e){const t=AY(e),r=SY(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function bY(n,e){Lv.set(n._key(),e)}function SY(n){return qo(n._redirectPersistence)}function AY(n){return Bv(yY,n.config.apiKey,n.name)}async function EY(n,e,t=!1){if(Is(n.app))return Promise.reject(ta(n));const r=bu(n),i=pY(r,e),o=await new wY(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CY=10*60*1e3;class MY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TY(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!WO(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(po(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CY&&this.cachedEventUids.clear(),this.cachedEventUids.has(a2(e))}saveEventToCache(e){this.cachedEventUids.add(a2(e)),this.lastProcessedEventTime=Date.now()}}function a2(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function WO({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TY(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WO(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NY(n,e={}){return Ca(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PY=/^https?/;async function IY(n){if(n.config.emulator)return;const{authorizedDomains:e}=await NY(n);for(const t of e)try{if(DY(t))return}catch{}Hs(n,"unauthorized-domain")}function DY(n){const e=PA(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!PY.test(t))return!1;if(RY.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BY=new Am(3e4,6e4);function l2(){const n=mo().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function LY(n){return new Promise((e,t)=>{var r,i,s;function o(){l2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{l2(),t(po(n,"network-request-failed"))},timeout:BY.get()})}if(!((i=(r=mo().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=mo().gapi)===null||s===void 0)&&s.load)o();else{const a=EJ("iframefcb");return mo()[a]=()=>{gapi.load?o():t(po(n,"network-request-failed"))},NO(`${AJ()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw kv=null,e})}let kv=null;function kY(n){return kv=kv||LY(n),kv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OY=new Am(5e3,15e3),FY="__/auth/iframe",jY="emulator/auth/iframe",UY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HY(n){const e=n.config;Tt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?HC(e,jY):`https://${n.config.authDomain}/${FY}`,r={apiKey:e.apiKey,appName:n.name,v:bm},i=zY.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${_m(r).slice(1)}`}async function GY(n){const e=await kY(n),t=mo().gapi;return Tt(t,n,"internal-error"),e.open({where:document.body,url:HY(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UY,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=po(n,"network-request-failed"),a=mo().setTimeout(()=>{s(o)},OY.get());function c(){mo().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WY=500,XY=600,KY="_blank",JY="http://localhost";class c2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YY(n,e,t,r=WY,i=XY){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},VY),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ri().toLowerCase();t&&(a=bO(u)?KY:t),wO(u)&&(e=e||JY,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[g,v])=>`${m}${g}=${v},`,"");if(mJ(u)&&a!=="_self")return $Y(e||"",a),new c2(null);const f=window.open(e||"",a,d);Tt(f,n,"popup-blocked");try{f.focus()}catch{}return new c2(f)}function $Y(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qY="__/auth/handler",QY="emulator/auth/handler",ZY=encodeURIComponent("fac");async function u2(n,e,t,r,i,s){Tt(n.config.authDomain,n,"auth-domain-config-required"),Tt(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:bm,eventId:i};if(e instanceof IO){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",LX(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Cm){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const c=await n._getAppCheckToken(),u=c?`#${ZY}=${encodeURIComponent(c)}`:"";return`${e$(n)}?${_m(a).slice(1)}${u}`}function e$({config:n}){return n.emulator?HC(n,QY):`https://${n.authDomain}/${qY}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="webStorageSupport";class t${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jO,this._completeRedirectFn=EY,this._overrideRedirectResult=bY}async _openPopup(e,t,r,i){var s;xa((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await u2(e,t,r,PA(),i);return YY(e,o,KC())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await u2(e,t,r,PA(),i);return iY(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(xa(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await GY(e),r=new MY(e);return t.register("authEvent",i=>(Tt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(tS,{type:tS},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[tS];o!==void 0&&t(!!o),Hs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=IY(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return MO()||_O()||VC()}}const n$=t$;var d2="@firebase/auth",h2="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s$(n){Kp(new vh("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Tt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TO(n)},u=new _J(r,i,s,c);return PJ(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Kp(new vh("auth-internal",e=>{const t=bu(e.getProvider("auth").getImmediate());return(r=>new r$(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gd(d2,h2,i$(n)),Gd(d2,h2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$=5*60,a$=iO("authIdTokenMaxAge")||o$;let f2=null;const l$=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>a$)return;const i=t==null?void 0:t.token;f2!==i&&(f2=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function c$(n=OK()){const e=lO(n,"auth");if(e.isInitialized())return e.getImmediate();const t=RJ(n,{popupRedirectResolver:n$,persistence:[fY,tY,jO]}),r=iO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=l$(s.toString());qJ(t,o,()=>o(t.currentUser)),$J(t,a=>o(a))}}const i=yX("auth");return i&&IJ(t,`http://${i}`),t}function u$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}bJ({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=po("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",u$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s$("Browser");var d$="firebase",h$="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gd(d$,h$,"app");const f$={apiKey:"AIzaSyCncBPAu0aA5lMvo_yI12IvmAJmYexYVVY",authDomain:"ammaconstruction-db736.firebaseapp.com",projectId:"ammaconstruction-db736",storageBucket:"ammaconstruction-db736.firebasestorage.app",messagingSenderId:"950078485562",appId:"1:950078485562:web:c188df385c250a84ffb103"},XO=cO(f$);console.log(" Firebase initialized:",XO.name);const YC=c$(XO),KO=C.createContext({currentUser:null,loading:!0});function Jl(){return C.useContext(KO)}function p$({children:n}){const[e,t]=C.useState(null),[r,i]=C.useState(!0);C.useEffect(()=>QJ(YC,a=>{t(a),i(!1)}),[]);const s={currentUser:e,loading:r};return l.jsx(KO.Provider,{value:s,children:!r&&n})}var m$=C.createContext(void 0);function Tm(n){const e=C.useContext(m$);return n||e||"ltr"}var nS=0;function JO(){C.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??p2()),document.body.insertAdjacentElement("beforeend",n[1]??p2()),nS++,()=>{nS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),nS--}},[])}function p2(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var rS="focusScope.autoFocusOnMount",iS="focusScope.autoFocusOnUnmount",m2={bubbles:!1,cancelable:!0},g$="FocusScope",$C=C.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=n,[a,c]=C.useState(null),u=Hr(i),d=Hr(s),f=C.useRef(null),m=pn(e,y=>c(y)),g=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let y=function(S){if(g.paused||!a)return;const A=S.target;a.contains(A)?f.current=A:Qa(f.current,{select:!0})},w=function(S){if(g.paused||!a)return;const A=S.relatedTarget;A!==null&&(a.contains(A)||Qa(f.current,{select:!0}))},x=function(S){if(document.activeElement===document.body)for(const T of S)T.removedNodes.length>0&&Qa(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const b=new MutationObserver(x);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),b.disconnect()}}},[r,a,g.paused]),C.useEffect(()=>{if(a){x2.add(g);const y=document.activeElement;if(!a.contains(y)){const x=new CustomEvent(rS,m2);a.addEventListener(rS,u),a.dispatchEvent(x),x.defaultPrevented||(x$(b$(YO(a)),{select:!0}),document.activeElement===y&&Qa(a))}return()=>{a.removeEventListener(rS,u),setTimeout(()=>{const x=new CustomEvent(iS,m2);a.addEventListener(iS,d),a.dispatchEvent(x),x.defaultPrevented||Qa(y??document.body,{select:!0}),a.removeEventListener(iS,d),x2.remove(g)},0)}}},[a,u,d,g]);const v=C.useCallback(y=>{if(!t&&!r||g.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(w&&x){const b=y.currentTarget,[S,A]=v$(b);S&&A?!y.shiftKey&&x===A?(y.preventDefault(),t&&Qa(S,{select:!0})):y.shiftKey&&x===S&&(y.preventDefault(),t&&Qa(A,{select:!0})):x===b&&y.preventDefault()}},[t,r,g.paused]);return l.jsx(Nt.div,{tabIndex:-1,...o,ref:m,onKeyDown:v})});$C.displayName=g$;function x$(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Qa(r,{select:e}),document.activeElement!==t)return}function v$(n){const e=YO(n),t=g2(e,n),r=g2(e.reverse(),n);return[t,r]}function YO(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function g2(n,e){for(const t of n)if(!y$(t,{upTo:e}))return t}function y$(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function w$(n){return n instanceof HTMLInputElement&&"select"in n}function Qa(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&w$(n)&&e&&n.select()}}var x2=_$();function _$(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=v2(n,e),n.unshift(e)},remove(e){var t;n=v2(n,e),(t=n[0])==null||t.resume()}}}function v2(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function b$(n){return n.filter(e=>e.tagName!=="A")}function S$(n,e=[]){let t=[];function r(s,o){const a=C.createContext(o),c=t.length;t=[...t,o];function u(f){const{scope:m,children:g,...v}=f,y=(m==null?void 0:m[n][c])||a,w=C.useMemo(()=>v,Object.values(v));return l.jsx(y.Provider,{value:w,children:g})}function d(f,m){const g=(m==null?void 0:m[n][c])||a,v=C.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=t.map(o=>C.createContext(o));return function(a){const c=(a==null?void 0:a[n])||s;return C.useMemo(()=>({[`__scope${n}`]:{...a,[n]:c}}),[a,c])}};return i.scopeName=n,[r,A$(i,...e)]}function A$(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...a,...f}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var sS="rovingFocusGroup.onEntryFocus",E$={bubbles:!1,cancelable:!0},uw="RovingFocusGroup",[LA,$O,C$]=Wy(uw),[M$,Hh]=S$(uw,[C$]),[T$,N$]=M$(uw),qO=C.forwardRef((n,e)=>l.jsx(LA.Provider,{scope:n.__scopeRovingFocusGroup,children:l.jsx(LA.Slot,{scope:n.__scopeRovingFocusGroup,children:l.jsx(R$,{...n,ref:e})})}));qO.displayName=uw;var R$=C.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=n,m=C.useRef(null),g=pn(e,m),v=Tm(s),[y=null,w]=Il({prop:o,defaultProp:a,onChange:c}),[x,b]=C.useState(!1),S=Hr(u),A=$O(t),T=C.useRef(!1),[N,P]=C.useState(0);return C.useEffect(()=>{const D=m.current;if(D)return D.addEventListener(sS,S),()=>D.removeEventListener(sS,S)},[S]),l.jsx(T$,{scope:t,orientation:r,dir:v,loop:i,currentTabStopId:y,onItemFocus:C.useCallback(D=>w(D),[w]),onItemShiftTab:C.useCallback(()=>b(!0),[]),onFocusableItemAdd:C.useCallback(()=>P(D=>D+1),[]),onFocusableItemRemove:C.useCallback(()=>P(D=>D-1),[]),children:l.jsx(Nt.div,{tabIndex:x||N===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...n.style},onMouseDown:$e(n.onMouseDown,()=>{T.current=!0}),onFocus:$e(n.onFocus,D=>{const I=!T.current;if(D.target===D.currentTarget&&I&&!x){const R=new CustomEvent(sS,E$);if(D.currentTarget.dispatchEvent(R),!R.defaultPrevented){const k=A().filter(Y=>Y.focusable),G=k.find(Y=>Y.active),K=k.find(Y=>Y.id===y),Q=[G,K,...k].filter(Boolean).map(Y=>Y.ref.current);eF(Q,d)}}T.current=!1}),onBlur:$e(n.onBlur,()=>b(!1))})})}),QO="RovingFocusGroupItem",ZO=C.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,...o}=n,a=su(),c=s||a,u=N$(QO,t),d=u.currentTabStopId===c,f=$O(t),{onFocusableItemAdd:m,onFocusableItemRemove:g}=u;return C.useEffect(()=>{if(r)return m(),()=>g()},[r,m,g]),l.jsx(LA.ItemSlot,{scope:t,id:c,focusable:r,active:i,children:l.jsx(Nt.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:$e(n.onMouseDown,v=>{r?u.onItemFocus(c):v.preventDefault()}),onFocus:$e(n.onFocus,()=>u.onItemFocus(c)),onKeyDown:$e(n.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=D$(v,u.orientation,u.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let x=f().filter(b=>b.focusable).map(b=>b.ref.current);if(y==="last")x.reverse();else if(y==="prev"||y==="next"){y==="prev"&&x.reverse();const b=x.indexOf(v.currentTarget);x=u.loop?B$(x,b+1):x.slice(b+1)}setTimeout(()=>eF(x))}})})})});ZO.displayName=QO;var P$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function I$(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function D$(n,e,t){const r=I$(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return P$[r]}function eF(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function B$(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var qC=qO,QC=ZO,L$=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Wu=new WeakMap,xx=new WeakMap,vx={},oS=0,tF=function(n){return n&&(n.host||tF(n.parentNode))},k$=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=tF(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},O$=function(n,e,t,r){var i=k$(e,Array.isArray(n)?n:[n]);vx[t]||(vx[t]=new WeakMap);var s=vx[t],o=[],a=new Set,c=new Set(i),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))d(m);else try{var g=m.getAttribute(r),v=g!==null&&g!=="false",y=(Wu.get(m)||0)+1,w=(s.get(m)||0)+1;Wu.set(m,y),s.set(m,w),o.push(m),y===1&&v&&xx.set(m,!0),w===1&&m.setAttribute(t,"true"),v||m.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return d(e),a.clear(),oS++,function(){o.forEach(function(f){var m=Wu.get(f)-1,g=s.get(f)-1;Wu.set(f,m),s.set(f,g),m||(xx.has(f)||f.removeAttribute(r),xx.delete(f)),g||f.removeAttribute(t)}),oS--,oS||(Wu=new WeakMap,Wu=new WeakMap,xx=new WeakMap,vx={})}},nF=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=L$(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),O$(r,i,t,"aria-hidden")):function(){return null}},Ov="right-scroll-bar-position",Fv="width-before-scroll-bar",F$="with-scroll-bars-hidden",j$="--removed-body-scroll-bar-size";function aS(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function U$(n,e){var t=C.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var z$=typeof window<"u"?C.useLayoutEffect:C.useEffect,y2=new WeakMap;function H$(n,e){var t=U$(null,function(r){return n.forEach(function(i){return aS(i,r)})});return z$(function(){var r=y2.get(t);if(r){var i=new Set(r),s=new Set(n),o=t.current;i.forEach(function(a){s.has(a)||aS(a,null)}),s.forEach(function(a){i.has(a)||aS(a,o)})}y2.set(t,n)},[n]),t}function G$(n){return n}function V$(n,e){e===void 0&&(e=G$);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,r);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){r=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),t={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),t}}}};return i}function W$(n){n===void 0&&(n={});var e=V$(null);return e.options=uo({async:!0,ssr:!1},n),e}var rF=function(n){var e=n.sideCar,t=Sm(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,uo({},t))};rF.isSideCarExport=!0;function X$(n,e){return n.useMedium(e),rF}var iF=W$(),lS=function(){},dw=C.forwardRef(function(n,e){var t=C.useRef(null),r=C.useState({onScrollCapture:lS,onWheelCapture:lS,onTouchMoveCapture:lS}),i=r[0],s=r[1],o=n.forwardProps,a=n.children,c=n.className,u=n.removeScrollBar,d=n.enabled,f=n.shards,m=n.sideCar,g=n.noIsolation,v=n.inert,y=n.allowPinchZoom,w=n.as,x=w===void 0?"div":w,b=n.gapMode,S=Sm(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=m,T=H$([t,e]),N=uo(uo({},S),i);return C.createElement(C.Fragment,null,d&&C.createElement(A,{sideCar:iF,removeScrollBar:u,shards:f,noIsolation:g,inert:v,setCallbacks:s,allowPinchZoom:!!y,lockRef:t,gapMode:b}),o?C.cloneElement(C.Children.only(a),uo(uo({},N),{ref:T})):C.createElement(x,uo({},N,{className:c,ref:T}),a))});dw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dw.classNames={fullWidth:Fv,zeroRight:Ov};var K$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function J$(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=K$();return e&&n.setAttribute("nonce",e),n}function Y$(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function $$(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var q$=function(){var n=0,e=null;return{add:function(t){n==0&&(e=J$())&&(Y$(e,t),$$(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Q$=function(){var n=q$();return function(e,t){C.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},sF=function(){var n=Q$(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},Z$={left:0,top:0,right:0,gap:0},cS=function(n){return parseInt(n||"",10)||0},eq=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[cS(t),cS(r),cS(i)]},tq=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Z$;var e=eq(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},nq=sF(),Kd="data-scroll-locked",rq=function(n,e,t,r){var i=n.left,s=n.top,o=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(F$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Kd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ov,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Fv,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ov," .").concat(Ov,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Fv," .").concat(Fv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Kd,`] {
    `).concat(j$,": ").concat(a,`px;
  }
`)},w2=function(){var n=parseInt(document.body.getAttribute(Kd)||"0",10);return isFinite(n)?n:0},iq=function(){C.useEffect(function(){return document.body.setAttribute(Kd,(w2()+1).toString()),function(){var n=w2()-1;n<=0?document.body.removeAttribute(Kd):document.body.setAttribute(Kd,n.toString())}},[])},sq=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;iq();var s=C.useMemo(function(){return tq(i)},[i]);return C.createElement(nq,{styles:rq(s,!e,i,t?"":"!important")})},kA=!1;if(typeof window<"u")try{var yx=Object.defineProperty({},"passive",{get:function(){return kA=!0,!0}});window.addEventListener("test",yx,yx),window.removeEventListener("test",yx,yx)}catch{kA=!1}var Xu=kA?{passive:!1}:!1,oq=function(n){return n.tagName==="TEXTAREA"},oF=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!oq(n)&&t[e]==="visible")},aq=function(n){return oF(n,"overflowY")},lq=function(n){return oF(n,"overflowX")},_2=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=aF(n,r);if(i){var s=lF(n,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},cq=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},uq=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},aF=function(n,e){return n==="v"?aq(e):lq(e)},lF=function(n,e){return n==="v"?cq(e):uq(e)},dq=function(n,e){return n==="h"&&e==="rtl"?-1:1},hq=function(n,e,t,r,i){var s=dq(n,window.getComputedStyle(e).direction),o=s*r,a=t.target,c=e.contains(a),u=!1,d=o>0,f=0,m=0;do{var g=lF(n,a),v=g[0],y=g[1],w=g[2],x=y-w-s*v;(v||x)&&aF(n,a)&&(f+=x,m+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(m)<1||!i))&&(u=!0),u},wx=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},b2=function(n){return[n.deltaX,n.deltaY]},S2=function(n){return n&&"current"in n?n.current:n},fq=function(n,e){return n[0]===e[0]&&n[1]===e[1]},pq=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},mq=0,Ku=[];function gq(n){var e=C.useRef([]),t=C.useRef([0,0]),r=C.useRef(),i=C.useState(mq++)[0],s=C.useState(sF)[0],o=C.useRef(n);C.useEffect(function(){o.current=n},[n]),C.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var y=JK([n.lockRef.current],(n.shards||[]).map(S2),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=C.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var x=wx(y),b=t.current,S="deltaX"in y?y.deltaX:b[0]-x[0],A="deltaY"in y?y.deltaY:b[1]-x[1],T,N=y.target,P=Math.abs(S)>Math.abs(A)?"h":"v";if("touches"in y&&P==="h"&&N.type==="range")return!1;var D=_2(P,N);if(!D)return!0;if(D?T=P:(T=P==="v"?"h":"v",D=_2(P,N)),!D)return!1;if(!r.current&&"changedTouches"in y&&(S||A)&&(r.current=T),!T)return!0;var I=r.current||T;return hq(I,w,y,I==="h"?S:A,!0)},[]),c=C.useCallback(function(y){var w=y;if(!(!Ku.length||Ku[Ku.length-1]!==s)){var x="deltaY"in w?b2(w):wx(w),b=e.current.filter(function(T){return T.name===w.type&&(T.target===w.target||w.target===T.shadowParent)&&fq(T.delta,x)})[0];if(b&&b.should){w.cancelable&&w.preventDefault();return}if(!b){var S=(o.current.shards||[]).map(S2).filter(Boolean).filter(function(T){return T.contains(w.target)}),A=S.length>0?a(w,S[0]):!o.current.noIsolation;A&&w.cancelable&&w.preventDefault()}}},[]),u=C.useCallback(function(y,w,x,b){var S={name:y,delta:w,target:x,should:b,shadowParent:xq(x)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(A){return A!==S})},1)},[]),d=C.useCallback(function(y){t.current=wx(y),r.current=void 0},[]),f=C.useCallback(function(y){u(y.type,b2(y),y.target,a(y,n.lockRef.current))},[]),m=C.useCallback(function(y){u(y.type,wx(y),y.target,a(y,n.lockRef.current))},[]);C.useEffect(function(){return Ku.push(s),n.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Xu),document.addEventListener("touchmove",c,Xu),document.addEventListener("touchstart",d,Xu),function(){Ku=Ku.filter(function(y){return y!==s}),document.removeEventListener("wheel",c,Xu),document.removeEventListener("touchmove",c,Xu),document.removeEventListener("touchstart",d,Xu)}},[]);var g=n.removeScrollBar,v=n.inert;return C.createElement(C.Fragment,null,v?C.createElement(s,{styles:pq(i)}):null,g?C.createElement(sq,{gapMode:n.gapMode}):null)}function xq(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const vq=X$(iF,gq);var ZC=C.forwardRef(function(n,e){return C.createElement(dw,uo({},n,{ref:e,sideCar:vq}))});ZC.classNames=dw.classNames;var OA=["Enter"," "],yq=["ArrowDown","PageUp","Home"],cF=["ArrowUp","PageDown","End"],wq=[...yq,...cF],_q={ltr:[...OA,"ArrowRight"],rtl:[...OA,"ArrowLeft"]},bq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Nm="Menu",[$p,Sq,Aq]=Wy(Nm),[Su,uF]=Sa(Nm,[Aq,Fh,Hh]),hw=Fh(),dF=Hh(),[Eq,Au]=Su(Nm),[Cq,Rm]=Su(Nm),hF=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=n,a=hw(e),[c,u]=C.useState(null),d=C.useRef(!1),f=Hr(s),m=Tm(i);return C.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),l.jsx(Tk,{...a,children:l.jsx(Eq,{scope:e,open:t,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(Cq,{scope:e,onClose:C.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:r})})})};hF.displayName=Nm;var Mq="MenuAnchor",eM=C.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=hw(t);return l.jsx(TC,{...i,...r,ref:e})});eM.displayName=Mq;var tM="MenuPortal",[Tq,fF]=Su(tM,{forceMount:void 0}),pF=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:i}=n,s=Au(tM,e);return l.jsx(Tq,{scope:e,forceMount:t,children:l.jsx(So,{present:t||s.open,children:l.jsx(Xy,{asChild:!0,container:i,children:r})})})};pF.displayName=tM;var hs="MenuContent",[Nq,nM]=Su(hs),mF=C.forwardRef((n,e)=>{const t=fF(hs,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=Au(hs,n.__scopeMenu),o=Rm(hs,n.__scopeMenu);return l.jsx($p.Provider,{scope:n.__scopeMenu,children:l.jsx(So,{present:r||s.open,children:l.jsx($p.Slot,{scope:n.__scopeMenu,children:o.modal?l.jsx(Rq,{...i,ref:e}):l.jsx(Pq,{...i,ref:e})})})})}),Rq=C.forwardRef((n,e)=>{const t=Au(hs,n.__scopeMenu),r=C.useRef(null),i=pn(e,r);return C.useEffect(()=>{const s=r.current;if(s)return nF(s)},[]),l.jsx(rM,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:$e(n.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),Pq=C.forwardRef((n,e)=>{const t=Au(hs,n.__scopeMenu);return l.jsx(rM,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),rM=C.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,disableOutsideScroll:v,...y}=n,w=Au(hs,t),x=Rm(hs,t),b=hw(t),S=dF(t),A=Sq(t),[T,N]=C.useState(null),P=C.useRef(null),D=pn(e,P,w.onContentChange),I=C.useRef(0),R=C.useRef(""),k=C.useRef(0),G=C.useRef(null),K=C.useRef("right"),J=C.useRef(0),Q=v?ZC:C.Fragment,Y=v?{as:iu,allowPinchZoom:!0}:void 0,se=j=>{var le,ke;const W=R.current+j,$=A().filter(He=>!He.disabled),oe=document.activeElement,Se=(le=$.find(He=>He.ref.current===oe))==null?void 0:le.textValue,ne=$.map(He=>He.textValue),we=Gq(ne,W,Se),ve=(ke=$.find(He=>He.textValue===we))==null?void 0:ke.ref.current;(function He(De){R.current=De,window.clearTimeout(I.current),De!==""&&(I.current=window.setTimeout(()=>He(""),1e3))})(W),ve&&setTimeout(()=>ve.focus())};C.useEffect(()=>()=>window.clearTimeout(I.current),[]),JO();const L=C.useCallback(j=>{var $,oe;return K.current===(($=G.current)==null?void 0:$.side)&&Wq(j,(oe=G.current)==null?void 0:oe.area)},[]);return l.jsx(Nq,{scope:t,searchRef:R,onItemEnter:C.useCallback(j=>{L(j)&&j.preventDefault()},[L]),onItemLeave:C.useCallback(j=>{var W;L(j)||((W=P.current)==null||W.focus(),N(null))},[L]),onTriggerLeave:C.useCallback(j=>{L(j)&&j.preventDefault()},[L]),pointerGraceTimerRef:k,onPointerGraceIntentChange:C.useCallback(j=>{G.current=j},[]),children:l.jsx(Q,{...Y,children:l.jsx($C,{asChild:!0,trapped:i,onMountAutoFocus:$e(s,j=>{var W;j.preventDefault(),(W=P.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(xm,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,children:l.jsx(qC,{asChild:!0,...S,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:T,onCurrentTabStopIdChange:N,onEntryFocus:$e(c,j=>{x.isUsingKeyboardRef.current||j.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(NC,{role:"menu","aria-orientation":"vertical","data-state":PF(w.open),"data-radix-menu-content":"",dir:x.dir,...b,...y,ref:D,style:{outline:"none",...y.style},onKeyDown:$e(y.onKeyDown,j=>{const $=j.target.closest("[data-radix-menu-content]")===j.currentTarget,oe=j.ctrlKey||j.altKey||j.metaKey,Se=j.key.length===1;$&&(j.key==="Tab"&&j.preventDefault(),!oe&&Se&&se(j.key));const ne=P.current;if(j.target!==ne||!wq.includes(j.key))return;j.preventDefault();const ve=A().filter(le=>!le.disabled).map(le=>le.ref.current);cF.includes(j.key)&&ve.reverse(),zq(ve)}),onBlur:$e(n.onBlur,j=>{j.currentTarget.contains(j.target)||(window.clearTimeout(I.current),R.current="")}),onPointerMove:$e(n.onPointerMove,qp(j=>{const W=j.target,$=J.current!==j.clientX;if(j.currentTarget.contains(W)&&$){const oe=j.clientX>J.current?"right":"left";K.current=oe,J.current=j.clientX}}))})})})})})})});mF.displayName=hs;var Iq="MenuGroup",iM=C.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return l.jsx(Nt.div,{role:"group",...r,ref:e})});iM.displayName=Iq;var Dq="MenuLabel",gF=C.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return l.jsx(Nt.div,{...r,ref:e})});gF.displayName=Dq;var D0="MenuItem",A2="menu.itemSelect",fw=C.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...i}=n,s=C.useRef(null),o=Rm(D0,n.__scopeMenu),a=nM(D0,n.__scopeMenu),c=pn(e,s),u=C.useRef(!1),d=()=>{const f=s.current;if(!t&&f){const m=new CustomEvent(A2,{bubbles:!0,cancelable:!0});f.addEventListener(A2,g=>r==null?void 0:r(g),{once:!0}),hC(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return l.jsx(xF,{...i,ref:c,disabled:t,onClick:$e(n.onClick,d),onPointerDown:f=>{var m;(m=n.onPointerDown)==null||m.call(n,f),u.current=!0},onPointerUp:$e(n.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:$e(n.onKeyDown,f=>{const m=a.searchRef.current!=="";t||m&&f.key===" "||OA.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});fw.displayName=D0;var xF=C.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:i,...s}=n,o=nM(D0,t),a=dF(t),c=C.useRef(null),u=pn(e,c),[d,f]=C.useState(!1),[m,g]=C.useState("");return C.useEffect(()=>{const v=c.current;v&&g((v.textContent??"").trim())},[s.children]),l.jsx($p.ItemSlot,{scope:t,disabled:r,textValue:i??m,children:l.jsx(QC,{asChild:!0,...a,focusable:!r,children:l.jsx(Nt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:$e(n.onPointerMove,qp(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:$e(n.onPointerLeave,qp(v=>o.onItemLeave(v))),onFocus:$e(n.onFocus,()=>f(!0)),onBlur:$e(n.onBlur,()=>f(!1))})})})}),Bq="MenuCheckboxItem",vF=C.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...i}=n;return l.jsx(SF,{scope:n.__scopeMenu,checked:t,children:l.jsx(fw,{role:"menuitemcheckbox","aria-checked":B0(t)?"mixed":t,...i,ref:e,"data-state":oM(t),onSelect:$e(i.onSelect,()=>r==null?void 0:r(B0(t)?!0:!t),{checkForDefaultPrevented:!1})})})});vF.displayName=Bq;var yF="MenuRadioGroup",[Lq,kq]=Su(yF,{value:void 0,onValueChange:()=>{}}),wF=C.forwardRef((n,e)=>{const{value:t,onValueChange:r,...i}=n,s=Hr(r);return l.jsx(Lq,{scope:n.__scopeMenu,value:t,onValueChange:s,children:l.jsx(iM,{...i,ref:e})})});wF.displayName=yF;var _F="MenuRadioItem",bF=C.forwardRef((n,e)=>{const{value:t,...r}=n,i=kq(_F,n.__scopeMenu),s=t===i.value;return l.jsx(SF,{scope:n.__scopeMenu,checked:s,children:l.jsx(fw,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":oM(s),onSelect:$e(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,t)},{checkForDefaultPrevented:!1})})})});bF.displayName=_F;var sM="MenuItemIndicator",[SF,Oq]=Su(sM,{checked:!1}),AF=C.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...i}=n,s=Oq(sM,t);return l.jsx(So,{present:r||B0(s.checked)||s.checked===!0,children:l.jsx(Nt.span,{...i,ref:e,"data-state":oM(s.checked)})})});AF.displayName=sM;var Fq="MenuSeparator",EF=C.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return l.jsx(Nt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});EF.displayName=Fq;var jq="MenuArrow",CF=C.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=hw(t);return l.jsx(RC,{...i,...r,ref:e})});CF.displayName=jq;var Uq="MenuSub",[Ehe,MF]=Su(Uq),$f="MenuSubTrigger",TF=C.forwardRef((n,e)=>{const t=Au($f,n.__scopeMenu),r=Rm($f,n.__scopeMenu),i=MF($f,n.__scopeMenu),s=nM($f,n.__scopeMenu),o=C.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=s,u={__scopeMenu:n.__scopeMenu},d=C.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return C.useEffect(()=>d,[d]),C.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),c(null)}},[a,c]),l.jsx(eM,{asChild:!0,...u,children:l.jsx(xF,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":PF(t.open),...n,ref:Vy(e,i.onTriggerChange),onClick:f=>{var m;(m=n.onClick)==null||m.call(n,f),!(n.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:$e(n.onPointerMove,qp(f=>{s.onItemEnter(f),!f.defaultPrevented&&!n.disabled&&!t.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{t.onOpenChange(!0),d()},100))})),onPointerLeave:$e(n.onPointerLeave,qp(f=>{var g,v;d();const m=(g=t.content)==null?void 0:g.getBoundingClientRect();if(m){const y=(v=t.content)==null?void 0:v.dataset.side,w=y==="right",x=w?-5:5,b=m[w?"left":"right"],S=m[w?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:b,y:m.top},{x:S,y:m.top},{x:S,y:m.bottom},{x:b,y:m.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:$e(n.onKeyDown,f=>{var g;const m=s.searchRef.current!=="";n.disabled||m&&f.key===" "||_q[r.dir].includes(f.key)&&(t.onOpenChange(!0),(g=t.content)==null||g.focus(),f.preventDefault())})})})});TF.displayName=$f;var NF="MenuSubContent",RF=C.forwardRef((n,e)=>{const t=fF(hs,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=Au(hs,n.__scopeMenu),o=Rm(hs,n.__scopeMenu),a=MF(NF,n.__scopeMenu),c=C.useRef(null),u=pn(e,c);return l.jsx($p.Provider,{scope:n.__scopeMenu,children:l.jsx(So,{present:r||s.open,children:l.jsx($p.Slot,{scope:n.__scopeMenu,children:l.jsx(rM,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:$e(n.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:$e(n.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:$e(n.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),m=bq[o.dir].includes(d.key);f&&m&&(s.onOpenChange(!1),(g=a.trigger)==null||g.focus(),d.preventDefault())})})})})})});RF.displayName=NF;function PF(n){return n?"open":"closed"}function B0(n){return n==="indeterminate"}function oM(n){return B0(n)?"indeterminate":n?"checked":"unchecked"}function zq(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function Hq(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function Gq(n,e,t){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=Hq(n,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==t));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==t?c:void 0}function Vq(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,c=e[s].y,u=e[o].x,d=e[o].y;c>r!=d>r&&t<(u-a)*(r-c)/(d-c)+a&&(i=!i)}return i}function Wq(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return Vq(t,e)}function qp(n){return e=>e.pointerType==="mouse"?n(e):void 0}var Xq=hF,Kq=eM,Jq=pF,Yq=mF,$q=iM,qq=gF,Qq=fw,Zq=vF,eQ=wF,tQ=bF,nQ=AF,rQ=EF,iQ=CF,sQ=TF,oQ=RF,aM="DropdownMenu",[aQ,Che]=Sa(aM,[uF]),oi=uF(),[lQ,IF]=aQ(aM),DF=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=n,c=oi(e),u=C.useRef(null),[d=!1,f]=Il({prop:i,defaultProp:s,onChange:o});return l.jsx(lQ,{scope:e,triggerId:su(),triggerRef:u,contentId:su(),open:d,onOpenChange:f,onOpenToggle:C.useCallback(()=>f(m=>!m),[f]),modal:a,children:l.jsx(Xq,{...c,open:d,onOpenChange:f,dir:r,modal:a,children:t})})};DF.displayName=aM;var BF="DropdownMenuTrigger",LF=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...i}=n,s=IF(BF,t),o=oi(t);return l.jsx(Kq,{asChild:!0,...o,children:l.jsx(Nt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Vy(e,s.triggerRef),onPointerDown:$e(n.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:$e(n.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});LF.displayName=BF;var cQ="DropdownMenuPortal",kF=n=>{const{__scopeDropdownMenu:e,...t}=n,r=oi(e);return l.jsx(Jq,{...r,...t})};kF.displayName=cQ;var OF="DropdownMenuContent",FF=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=IF(OF,t),s=oi(t),o=C.useRef(!1);return l.jsx(Yq,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:$e(n.onCloseAutoFocus,a=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:$e(n.onInteractOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});FF.displayName=OF;var uQ="DropdownMenuGroup",dQ=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=oi(t);return l.jsx($q,{...i,...r,ref:e})});dQ.displayName=uQ;var hQ="DropdownMenuLabel",jF=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=oi(t);return l.jsx(qq,{...i,...r,ref:e})});jF.displayName=hQ;var fQ="DropdownMenuItem",UF=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=oi(t);return l.jsx(Qq,{...i,...r,ref:e})});UF.displayName=fQ;var pQ="DropdownMenuCheckboxItem",zF=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=oi(t);return l.jsx(Zq,{...i,...r,ref:e})});zF.displayName=pQ;var mQ="DropdownMenuRadioGroup",gQ=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=oi(t);return l.jsx(eQ,{...i,...r,ref:e})});gQ.displayName=mQ;var xQ="DropdownMenuRadioItem",HF=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=oi(t);return l.jsx(tQ,{...i,...r,ref:e})});HF.displayName=xQ;var vQ="DropdownMenuItemIndicator",GF=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=oi(t);return l.jsx(nQ,{...i,...r,ref:e})});GF.displayName=vQ;var yQ="DropdownMenuSeparator",VF=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=oi(t);return l.jsx(rQ,{...i,...r,ref:e})});VF.displayName=yQ;var wQ="DropdownMenuArrow",_Q=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=oi(t);return l.jsx(iQ,{...i,...r,ref:e})});_Q.displayName=wQ;var bQ="DropdownMenuSubTrigger",WF=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=oi(t);return l.jsx(sQ,{...i,...r,ref:e})});WF.displayName=bQ;var SQ="DropdownMenuSubContent",XF=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=oi(t);return l.jsx(oQ,{...i,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XF.displayName=SQ;var AQ=DF,EQ=LF,CQ=kF,KF=FF,JF=jF,YF=UF,$F=zF,qF=HF,QF=GF,ZF=VF,ej=WF,tj=XF;const MQ=AQ,TQ=EQ,NQ=C.forwardRef(({className:n,inset:e,children:t,...r},i)=>l.jsxs(ej,{ref:i,className:jt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",n),...r,children:[t,l.jsx(D8,{className:"ml-auto h-4 w-4"})]}));NQ.displayName=ej.displayName;const RQ=C.forwardRef(({className:n,...e},t)=>l.jsx(tj,{ref:t,className:jt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));RQ.displayName=tj.displayName;const nj=C.forwardRef(({className:n,sideOffset:e=4,...t},r)=>l.jsx(CQ,{children:l.jsx(KF,{ref:r,sideOffset:e,className:jt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));nj.displayName=KF.displayName;const jv=C.forwardRef(({className:n,inset:e,...t},r)=>l.jsx(YF,{ref:r,className:jt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",n),...t}));jv.displayName=YF.displayName;const PQ=C.forwardRef(({className:n,children:e,checked:t,...r},i)=>l.jsxs($F,{ref:i,className:jt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(QF,{children:l.jsx($y,{className:"h-4 w-4"})})}),e]}));PQ.displayName=$F.displayName;const IQ=C.forwardRef(({className:n,children:e,...t},r)=>l.jsxs(qF,{ref:r,className:jt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(QF,{children:l.jsx(J3,{className:"h-2 w-2 fill-current"})})}),e]}));IQ.displayName=qF.displayName;const DQ=C.forwardRef(({className:n,inset:e,...t},r)=>l.jsx(JF,{ref:r,className:jt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));DQ.displayName=JF.displayName;const FA=C.forwardRef(({className:n,...e},t)=>l.jsx(ZF,{ref:t,className:jt("-mx-1 my-1 h-px bg-muted",n),...e}));FA.displayName=ZF.displayName;const jr=()=>{const[n,e]=C.useState(!1),{currentUser:t}=Jl(),r=_u(),i={name:t==null?void 0:t.displayName,email:t==null?void 0:t.email},s=()=>{console.log("Logout clicked"),r("/login")};return l.jsx("nav",{className:"fixed top-0 w-full bg-white/80 backdrop-blur-md border-b border-gray-200 z-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs(vt,{to:"/",className:"flex items-center space-x-2",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:l.jsx(Ci,{className:"h-6 w-6 text-white"})}),l.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"IdeaLaunch"})]}),l.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[l.jsx(vt,{to:"/services",className:"text-gray-700 hover:text-blue-600 transition-colors",children:"Services"}),l.jsx(vt,{to:"/mvp-workflow",className:"text-gray-700 hover:text-blue-600 transition-colors",children:"MVP Builder"}),l.jsx(vt,{to:"/templates",className:"text-gray-700 hover:text-blue-600 transition-colors",children:"Templates"}),l.jsx(vt,{to:"/pricing",className:"text-gray-700 hover:text-blue-600 transition-colors",children:"Pricing"}),l.jsx(vt,{to:"/about",className:"text-gray-700 hover:text-blue-600 transition-colors",children:"About"}),l.jsx(vt,{to:"/portfolio",className:"text-gray-700 hover:text-blue-600 transition-colors",children:"Portfolio"}),l.jsx(vt,{to:"/dashboard",className:"text-gray-700 hover:text-blue-600 transition-colors",children:"My Projects"})]}),l.jsx("div",{className:"hidden md:flex items-center space-x-4",children:l.jsxs(MQ,{children:[l.jsx(TQ,{asChild:!0,children:l.jsxs(Re,{variant:"ghost",className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:l.jsx(Pv,{className:"h-4 w-4 text-white"})}),l.jsx("span",{className:"text-gray-700",children:i.name}),l.jsx(qy,{className:"h-4 w-4 text-gray-500"})]})}),l.jsxs(nj,{align:"end",className:"w-56",children:[l.jsxs("div",{className:"px-2 py-1.5",children:[l.jsx("p",{className:"text-sm font-medium",children:i.name}),l.jsx("p",{className:"text-xs text-gray-500",children:i.email})]}),l.jsx(FA,{}),l.jsx(jv,{asChild:!0,children:l.jsxs(vt,{to:"/dashboard",className:"flex items-center",children:[l.jsx(Pv,{className:"h-4 w-4 mr-2"}),"My Projects"]})}),l.jsxs(jv,{children:[l.jsx(Up,{className:"h-4 w-4 mr-2"}),"Account Settings"]}),l.jsx(FA,{}),l.jsxs(jv,{onClick:s,className:"text-red-600",children:[l.jsx(lP,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})}),l.jsx("div",{className:"md:hidden",children:l.jsx(Re,{variant:"ghost",size:"sm",onClick:()=>e(!n),children:n?l.jsx(Z3,{className:"h-5 w-5"}):l.jsx(z8,{className:"h-5 w-5"})})})]}),n&&l.jsx("div",{className:"md:hidden bg-white border-t border-gray-200",children:l.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[l.jsx(vt,{to:"/services",className:"block px-3 py-2 text-gray-700 hover:text-blue-600 transition-colors",onClick:()=>e(!1),children:"Services"}),l.jsx(vt,{to:"/mvp-workflow",className:"block px-3 py-2 text-gray-700 hover:text-blue-600 transition-colors",onClick:()=>e(!1),children:"MVP Builder"}),l.jsx(vt,{to:"/templates",className:"block px-3 py-2 text-gray-700 hover:text-blue-600 transition-colors",onClick:()=>e(!1),children:"Templates"}),l.jsx(vt,{to:"/pricing",className:"block px-3 py-2 text-gray-700 hover:text-blue-600 transition-colors",onClick:()=>e(!1),children:"Pricing"}),l.jsx(vt,{to:"/about",className:"block px-3 py-2 text-gray-700 hover:text-blue-600 transition-colors",onClick:()=>e(!1),children:"About"}),l.jsx(vt,{to:"/dashboard",className:"block px-3 py-2 text-gray-700 hover:text-blue-600 transition-colors",onClick:()=>e(!1),children:"My Projects"}),l.jsx("div",{className:"pt-4 pb-3 border-t border-gray-200",children:l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"px-3 py-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:i.name}),l.jsx("p",{className:"text-xs text-gray-500",children:i.email})]}),l.jsx(vt,{to:"/dashboard",onClick:()=>e(!1),children:l.jsxs(Re,{variant:"ghost",className:"w-full justify-start mb-2",children:[l.jsx(Pv,{className:"h-4 w-4 mr-2"}),"My Projects"]})}),l.jsxs(Re,{variant:"ghost",className:"w-full justify-start mb-2",children:[l.jsx(Up,{className:"h-4 w-4 mr-2"}),"Account Settings"]}),l.jsxs(Re,{variant:"ghost",className:"w-full justify-start text-red-600",onClick:s,children:[l.jsx(lP,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})})]})})]})})},Ur=()=>l.jsx("footer",{className:"bg-gray-900 text-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:l.jsx(Ci,{className:"h-6 w-6 text-white"})}),l.jsx("span",{className:"text-2xl font-bold",children:"IdeaLaunch"})]}),l.jsx("p",{className:"text-gray-300 text-sm",children:"Transforming ideas into reality through MVP development, business websites, and immersive 3D experiences."}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx(Q8,{className:"h-5 w-5 text-gray-400 hover:text-blue-400 cursor-pointer transition-colors"}),l.jsx(j8,{className:"h-5 w-5 text-gray-400 hover:text-blue-400 cursor-pointer transition-colors"}),l.jsx(O8,{className:"h-5 w-5 text-gray-400 hover:text-blue-400 cursor-pointer transition-colors"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Services"}),l.jsxs("ul",{className:"space-y-2 text-gray-300",children:[l.jsx("li",{children:l.jsx(vt,{to:"/mvp",className:"hover:text-white transition-colors",children:"MVP Development"})}),l.jsx("li",{children:l.jsx(vt,{to:"/websites",className:"hover:text-white transition-colors",children:"Business Websites"})}),l.jsx("li",{children:l.jsx(vt,{to:"/3d-brands",className:"hover:text-white transition-colors",children:"3D Brand Experiences"})}),l.jsx("li",{children:l.jsx(vt,{to:"/domains",className:"hover:text-white transition-colors",children:"Domain Management"})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Company"}),l.jsxs("ul",{className:"space-y-2 text-gray-300",children:[l.jsx("li",{children:l.jsx(vt,{to:"/about",className:"hover:text-white transition-colors",children:"About Us"})}),l.jsx("li",{children:l.jsx(vt,{to:"/pricing",className:"hover:text-white transition-colors",children:"Pricing"})}),l.jsx("li",{children:l.jsx(vt,{to:"/testimonials",className:"hover:text-white transition-colors",children:"Testimonials"})}),l.jsx("li",{children:l.jsx(vt,{to:"/blog",className:"hover:text-white transition-colors",children:"Blog"})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Contact"}),l.jsxs("div",{className:"space-y-2 text-gray-300",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx($3,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:"hello@ideallaunch.com"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Q3,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:"+1 (555) 123-4567"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(q3,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:"San Francisco, CA"})]})]})]})]}),l.jsxs("div",{className:"border-t border-gray-800 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[l.jsx("p",{className:"text-gray-400 text-sm",children:" 2024 IdeaLaunch. All rights reserved."}),l.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[l.jsx(vt,{to:"/privacy",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Privacy Policy"}),l.jsx(vt,{to:"/terms",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Terms of Service"}),l.jsx(vt,{to:"/cookies",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Cookie Policy"})]})]})]})}),BQ=()=>l.jsx("section",{className:"pt-20 pb-32 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold text-gray-900 mb-6",children:["Turn Your Ideas Into",l.jsx("span",{className:"block bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Digital Reality"})]}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto mb-12",children:"From MVPs to immersive 3D experiences, we transform your concepts into stunning digital products that captivate users and drive results."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center mb-16",children:[l.jsx(vt,{to:"/mvp-workflow",children:l.jsxs(Re,{size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-4 text-lg font-semibold w-full sm:w-auto",children:[l.jsx(Ci,{className:"mr-2 h-5 w-5"}),"Start MVP Project",l.jsx(Sr,{className:"ml-2 h-5 w-5"})]})}),l.jsx(vt,{to:"/website-workflow",children:l.jsxs(Re,{size:"lg",variant:"outline",className:"border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white px-8 py-4 text-lg font-semibold w-full sm:w-auto",children:[l.jsx(js,{className:"mr-2 h-5 w-5"}),"Build Website"]})}),l.jsx(vt,{to:"/3d-workflow",children:l.jsxs(Re,{size:"lg",variant:"outline",className:"border-2 border-purple-600 text-purple-600 hover:bg-purple-600 hover:text-white px-8 py-4 text-lg font-semibold w-full sm:w-auto",children:[l.jsx(ha,{className:"mr-2 h-5 w-5"}),"3D Experience"]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[l.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-sm border border-gray-100",children:[l.jsx("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Ci,{className:"h-8 w-8 text-blue-600"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"MVP Development"}),l.jsx("p",{className:"text-gray-600",children:"Launch your startup idea quickly with our rapid MVP development process."})]}),l.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-sm border border-gray-100",children:[l.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(js,{className:"h-8 w-8 text-green-600"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Business Websites"}),l.jsx("p",{className:"text-gray-600",children:"Professional websites that convert visitors into customers."})]}),l.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-sm border border-gray-100",children:[l.jsx("div",{className:"bg-purple-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ha,{className:"h-8 w-8 text-purple-600"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"3D Experiences"}),l.jsx("p",{className:"text-gray-600",children:"Immersive 3D websites that showcase your brand uniquely."})]})]})]})})}),rt=C.forwardRef(({className:n,...e},t)=>l.jsx("div",{ref:t,className:jt("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));rt.displayName="Card";const Ot=C.forwardRef(({className:n,...e},t)=>l.jsx("div",{ref:t,className:jt("flex flex-col space-y-1.5 p-6",n),...e}));Ot.displayName="CardHeader";const Ft=C.forwardRef(({className:n,...e},t)=>l.jsx("h3",{ref:t,className:jt("text-2xl font-semibold leading-none tracking-tight",n),...e}));Ft.displayName="CardTitle";const Vr=C.forwardRef(({className:n,...e},t)=>l.jsx("p",{ref:t,className:jt("text-sm text-muted-foreground",n),...e}));Vr.displayName="CardDescription";const it=C.forwardRef(({className:n,...e},t)=>l.jsx("div",{ref:t,className:jt("p-6 pt-0",n),...e}));it.displayName="CardContent";const LQ=C.forwardRef(({className:n,...e},t)=>l.jsx("div",{ref:t,className:jt("flex items-center p-6 pt-0",n),...e}));LQ.displayName="CardFooter";const kQ=()=>{const n=[{icon:Ci,title:"MVP Development",description:"Transform your startup idea into a working product quickly and efficiently.",features:["Rapid prototyping","User feedback integration","Scalable architecture","Market validation"],price:"Starting at ",link:"/mvp-workflow",gradient:"from-blue-500 to-blue-600"},{icon:js,title:"Business Websites",description:"Professional websites that drive conversions and grow your business.",features:["Responsive design","SEO optimization","CMS integration","Analytics setup"],price:"Starting at ",link:"/website-workflow",gradient:"from-green-500 to-green-600"},{icon:ha,title:"3D Brand Experiences",description:"Immersive 3D websites that captivate users and showcase your brand.",features:["WebGL technology","Interactive 3D models","AR capabilities","Custom animations"],price:"Starting at ",link:"/3d-workflow",gradient:"from-purple-500 to-purple-600"}];return l.jsx("section",{className:"py-20 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Our Services"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Choose the perfect solution for your needs. From rapid MVP development to immersive 3D experiences, we've got you covered."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:n.map((e,t)=>{const r=e.icon;return l.jsxs(rt,{className:"relative overflow-hidden group hover:shadow-xl transition-all duration-300",children:[l.jsxs(Ot,{children:[l.jsx("div",{className:`bg-gradient-to-r ${e.gradient} w-16 h-16 rounded-full flex items-center justify-center mb-4`,children:l.jsx(r,{className:"h-8 w-8 text-white"})}),l.jsx(Ft,{className:"text-2xl font-bold",children:e.title}),l.jsx(Vr,{className:"text-gray-600 text-lg",children:e.description})]}),l.jsxs(it,{children:[l.jsx("ul",{className:"space-y-2 mb-6",children:e.features.map((i,s)=>l.jsxs("li",{className:"flex items-center text-gray-700",children:[l.jsx(Dl,{className:"h-4 w-4 text-yellow-500 mr-2 flex-shrink-0"}),i]},s))}),l.jsx("div",{className:"mb-6",children:l.jsx("span",{className:"text-2xl font-bold text-gray-900",children:e.price})}),l.jsx(vt,{to:e.link,children:l.jsxs(Re,{className:`w-full bg-gradient-to-r ${e.gradient} hover:opacity-90 text-white`,children:["Get Started",l.jsx(Sr,{className:"ml-2 h-4 w-4"})]})})]})]},t)})}),l.jsxs("div",{className:"mt-20 text-center",children:[l.jsx("p",{className:"text-gray-500 mb-8",children:"Trusted by 500+ businesses worldwide"}),l.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-12",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Qy,{className:"h-5 w-5 text-blue-600"}),l.jsx("span",{className:"text-gray-700",children:"500+ Happy Clients"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(v0,{className:"h-5 w-5 text-green-600"}),l.jsx("span",{className:"text-gray-700",children:"48hr Average Delivery"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Dl,{className:"h-5 w-5 text-yellow-500"}),l.jsx("span",{className:"text-gray-700",children:"4.9/5 Client Rating"})]})]})]})]})})},OQ=()=>{const n=[{icon:F8,title:"Submit Your Idea",description:"Share your product vision, target audience, and platform preferences through our structured form."},{icon:ph,title:"Demo Document",description:"Receive an auto-generated demo document with requirements summary and sample designs."},{icon:Ud,title:"Development",description:"Track progress through our dashboard with real-time updates and milestone completions."},{icon:Ci,title:"Launch",description:"Final delivery with deployment links and comprehensive documentation."}],e=[{icon:K8,title:"Select Niche",description:"Choose your industry and specify required features like eCommerce, booking, or portfolio."},{icon:xC,title:"Choose Template",description:"Browse our curated gallery and preview high-quality templates with live demos."},{icon:Up,title:"Configure Keys",description:"Provide API keys for payments, integrations, and domain configuration."},{icon:js,title:"Go Live",description:"Deploy your website with custom domain setup and SSL configuration."}];return l.jsx("section",{className:"py-20 bg-gradient-to-br from-gray-50 to-blue-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-6",children:"How It Works"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Two streamlined workflows designed to take your ideas from concept to reality with minimal friction."})]}),l.jsxs("div",{className:"mb-16",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4",children:"MVP Development Flow"}),l.jsx("p",{className:"text-lg text-gray-600",children:"Transform your product ideas into functional MVPs with our structured process"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((t,r)=>l.jsxs("div",{className:"relative",children:[l.jsx(rt,{className:"h-full bg-white/80 backdrop-blur-sm border-2 border-blue-100 hover:border-blue-300 transition-all duration-300 hover:shadow-lg",children:l.jsxs(it,{className:"p-6 text-center",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(t.icon,{className:"h-8 w-8 text-white"})}),l.jsxs("div",{className:"text-sm font-bold text-blue-600 mb-2",children:["STEP ",r+1]}),l.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:t.title}),l.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:t.description})]})}),r<n.length-1&&l.jsx("div",{className:"hidden lg:block absolute top-1/2 -right-3 transform -translate-y-1/2 z-10",children:l.jsx(Sr,{className:"h-6 w-6 text-blue-400"})})]},r))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4",children:"Website & 3D Brand Flow"}),l.jsx("p",{className:"text-lg text-gray-600",children:"Create stunning business websites and immersive 3D experiences with our template-driven approach"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((t,r)=>l.jsxs("div",{className:"relative",children:[l.jsx(rt,{className:"h-full bg-white/80 backdrop-blur-sm border-2 border-purple-100 hover:border-purple-300 transition-all duration-300 hover:shadow-lg",children:l.jsxs(it,{className:"p-6 text-center",children:[l.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(t.icon,{className:"h-8 w-8 text-white"})}),l.jsxs("div",{className:"text-sm font-bold text-purple-600 mb-2",children:["STEP ",r+1]}),l.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:t.title}),l.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:t.description})]})}),r<e.length-1&&l.jsx("div",{className:"hidden lg:block absolute top-1/2 -right-3 transform -translate-y-1/2 z-10",children:l.jsx(Sr,{className:"h-6 w-6 text-purple-400"})})]},r))})]}),l.jsx("div",{className:"text-center mt-16",children:l.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white",children:[l.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Ready to Get Started?"}),l.jsx("p",{className:"text-xl mb-6 opacity-90",children:"Choose your service and begin your journey today"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx("button",{className:"bg-white text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Start MVP Project"}),l.jsx("button",{className:"bg-transparent border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-colors",children:"Browse Templates"})]})]})})]})})},FQ=()=>{const[n,e]=C.useState(0),t=[{question:"How does the MVP development process work?",answer:"Our MVP development follows a structured 4-step process: 1) Submit your idea through our detailed form, 2) Receive an auto-generated demo document with requirements and mockups, 3) Track development progress with milestone updates, 4) Final delivery with deployment and documentation. Throughout the process, you'll have direct communication with our development team and can provide feedback at each milestone."},{question:"What's included in the website and 3D brand packages?",answer:"Our website packages include template selection, custom configuration, payment gateway integration, domain setup, SSL certificates, and ongoing support. 3D brand experiences additionally include WebGL optimization, interactive elements, brand storytelling features, and performance optimization for all devices. Both packages include deployment assistance and technical documentation."},{question:"How do milestone payments work?",answer:"Payments are divided into milestones based on project complexity. Typically: 30% upon project initiation, 40% at development completion, and 30% upon final delivery. For larger projects, we may have additional interim milestones. You only pay when each milestone is completed to your satisfaction, ensuring you're always protected."},{question:"Do you provide domain management services?",answer:"Yes! We offer comprehensive domain management including domain search and purchase, DNS configuration, SSL certificate installation, and ongoing technical support. You maintain full ownership of your domain while we handle all the technical complexities. We also provide white-label domain management for agencies."},{question:"What kind of support do you provide after launch?",answer:"We provide 30 days of free support after launch, including bug fixes, minor adjustments, and technical assistance. Extended support packages are available for ongoing maintenance, updates, and feature additions. We also offer training sessions to help you manage your platform independently."},{question:"How do you protect my ideas and data?",answer:"We take security seriously. All projects are covered by comprehensive NDAs before any work begins. Our development environment uses enterprise-grade security, encrypted communications, and secure code repositories. Your intellectual property remains yours throughout the entire process."},{question:"Can I make changes during development?",answer:"Absolutely! Our milestone-based approach allows for feedback and revisions at each stage. Minor adjustments are included in the project scope, while major changes may require scope adjustments. We maintain transparent communication about any scope changes and their impact on timeline and cost."},{question:"What technologies do you use?",answer:"We use modern, scalable technologies including React, Node.js, Next.js for web development, Three.js and WebGL for 3D experiences, and cloud infrastructure for reliable hosting. For mobile apps, we utilize React Native and Flutter. All our solutions are built with performance, security, and scalability in mind."}];return l.jsx("section",{className:"py-20 bg-white",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-6",children:"Frequently Asked Questions"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Everything you need to know about our services and process"})]}),l.jsx("div",{className:"space-y-4",children:t.map((r,i)=>l.jsx(rt,{className:"border border-gray-200 hover:border-blue-300 transition-colors duration-300",children:l.jsxs(it,{className:"p-0",children:[l.jsx("button",{className:"w-full text-left p-6 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset",onClick:()=>e(n===i?null:i),children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 pr-4",children:r.question}),n===i?l.jsx(K3,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}):l.jsx(qy,{className:"h-5 w-5 text-gray-400 flex-shrink-0"})]})}),n===i&&l.jsx("div",{className:"px-6 pb-6",children:l.jsx("div",{className:"border-t border-gray-100 pt-4",children:l.jsx("p",{className:"text-gray-600 leading-relaxed",children:r.answer})})})]})},i))}),l.jsxs("div",{className:"text-center mt-12",children:[l.jsx("p",{className:"text-gray-600 mb-4",children:"Still have questions? We're here to help!"}),l.jsx("button",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-3 rounded-lg font-semibold hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:"Contact Our Team"})]})]})})},jQ=()=>l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsx(jr,{}),l.jsxs("main",{children:[l.jsx(BQ,{}),l.jsx(kQ,{}),l.jsx(OQ,{}),l.jsx(FQ,{})]}),l.jsx(Ur,{})]}),UQ=()=>{const n=[{id:"mvp",icon:Ud,title:"MVP Development",subtitle:"Transform Ideas into Products",description:"Complete product development from concept to launch with our structured approach and milestone-based delivery system.",features:["Detailed requirement analysis and feasibility study","Auto-generated demo documents with wireframes","Real-time progress tracking dashboard","Milestone-based payment system","Expert development team across all platforms","Post-launch support and iteration planning"],pricing:{starting:"",timeline:"4-8 weeks",complexity:"Based on features and platform"},gradient:"from-blue-500 to-cyan-500",link:"/mvp-workflow",testimonial:{text:"IdeaLaunch turned my concept into a working product faster than I ever imagined possible.",author:"Sarah Chen, Startup Founder"}},{id:"websites",icon:js,title:"Business Websites",subtitle:"Professional Web Presence",description:"Template-driven websites with eCommerce, booking systems, and custom integrations tailored to your business needs.",features:["Curated template gallery with live previews","eCommerce platform integration (Shopify, WooCommerce)","Payment gateway setup (Stripe, Razorpay, PayPal)","Booking and appointment systems","SEO optimization and analytics setup","Complete domain and hosting management"],pricing:{starting:" ",timeline:"2-4 weeks",complexity:"Based on integrations and customizations"},gradient:"from-purple-500 to-pink-500",link:"/website-workflow",testimonial:{text:"My restaurant's online presence completely transformed. Orders increased 300% in the first month.",author:"Marco Rodriguez, Restaurant Owner"}},{id:"3d-brands",icon:ha,title:"3D Brand Experiences",subtitle:"Immersive Digital Storytelling",description:"Cutting-edge 3D websites that create unforgettable brand experiences using WebGL technology and interactive elements.",features:["Custom 3D modeling and animation","WebGL optimization for all devices","Interactive product showcases","Immersive brand storytelling","Performance optimization and loading strategies","Cross-platform compatibility testing"],pricing:{starting:" ",timeline:"6-10 weeks",complexity:"Based on 3D complexity and interactions"},gradient:"from-green-500 to-blue-500",link:"/3d-workflow",testimonial:{text:"Our 3D website became a conversation starter. Clients are amazed before they even see our products.",author:"Elena Vasquez, Fashion Designer"}}],e=[{icon:Y8,title:"Premium Domain Management",description:"End-to-end domain services including purchase, DNS, SSL, and ongoing management."},{icon:v0,title:"API Integration Services",description:"Connect your platform with CRM, payment systems, and third-party tools."},{icon:Qy,title:"White-Label Solutions",description:"Complete platform solutions for agencies and consultants to offer to their clients."}];return l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsx(jr,{}),l.jsxs("main",{className:"pt-20",children:[l.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["Our ",l.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Services"})]}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto",children:"Choose the perfect solution for your business. From MVP development to immersive 3D experiences, we have the expertise to bring your vision to life."})]})}),l.jsx("section",{className:"py-20",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"space-y-20",children:n.map((t,r)=>l.jsxs("div",{className:`flex flex-col ${r%2===1?"lg:flex-row-reverse":"lg:flex-row"} gap-12 items-center`,children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:`inline-flex p-3 rounded-2xl bg-gradient-to-r ${t.gradient} mb-6`,children:l.jsx(t.icon,{className:"h-8 w-8 text-white"})}),l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:t.title}),l.jsx("p",{className:"text-xl text-gray-600 mb-6",children:t.description}),l.jsx("ul",{className:"space-y-3 mb-8",children:t.features.map((i,s)=>l.jsxs("li",{className:"flex items-start space-x-3",children:[l.jsx(rr,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),l.jsx("span",{className:"text-gray-700",children:i})]},s))}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center md:text-left",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.pricing.starting}),l.jsx("div",{className:"text-sm text-gray-600",children:"Starting price"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"text-xl font-semibold text-gray-900 flex items-center justify-center md:justify-start",children:[l.jsx(fh,{className:"h-5 w-5 mr-2"}),t.pricing.timeline]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Typical timeline"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-medium text-gray-900",children:"Custom Quote"}),l.jsx("div",{className:"text-sm text-gray-600",children:t.pricing.complexity})]})]})}),l.jsxs("div",{className:"bg-white border-l-4 border-blue-500 p-4 mb-6",children:[l.jsxs("p",{className:"text-gray-700 italic",children:['"',t.testimonial.text,'"']}),l.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[" ",t.testimonial.author]})]}),l.jsx(vt,{to:t.link,children:l.jsxs(Re,{className:`bg-gradient-to-r ${t.gradient} hover:shadow-lg transition-all duration-300 text-lg px-8 py-3`,children:["Get Started with ",t.title,l.jsx(Sr,{className:"ml-2 h-5 w-5"})]})})]}),l.jsx("div",{className:"flex-1",children:l.jsx(rt,{className:"bg-gradient-to-br from-gray-50 to-gray-100 border-0 shadow-xl",children:l.jsx(it,{className:"p-8",children:l.jsxs("div",{className:`bg-gradient-to-r ${t.gradient} rounded-2xl p-8 text-white text-center`,children:[l.jsx(t.icon,{className:"h-20 w-20 mx-auto mb-6"}),l.jsx("h3",{className:"text-2xl font-bold mb-4",children:t.subtitle}),l.jsxs("div",{className:"space-y-2 text-white/90",children:[l.jsx("div",{children:" Professional Quality"}),l.jsx("div",{children:" On-Time Delivery"}),l.jsx("div",{children:" 100% Satisfaction"}),l.jsx("div",{children:" Post-Launch Support"})]})]})})})})]},t.id))})})}),l.jsx("section",{className:"py-20 bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Additional Services"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Comprehensive solutions to support your complete digital transformation"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map((t,r)=>l.jsxs(rt,{className:"text-center hover:shadow-lg transition-shadow duration-300",children:[l.jsxs(Ot,{children:[l.jsx("div",{className:"bg-blue-100 p-4 rounded-full w-16 h-16 mx-auto mb-4",children:l.jsx(t.icon,{className:"h-8 w-8 text-blue-600 mx-auto"})}),l.jsx(Ft,{className:"text-xl",children:t.title})]}),l.jsx(it,{children:l.jsx(Vr,{className:"text-gray-600",children:t.description})})]},r))})]})}),l.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-600",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Transform Your Ideas?"}),l.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Join hundreds of satisfied clients who have successfully launched their projects with IdeaLaunch."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(vt,{to:"/contact",children:l.jsx(Re,{size:"lg",className:"bg-white text-blue-600 hover:bg-gray-100 px-8 py-4 text-lg font-semibold",children:"Start Your Project"})}),l.jsx(vt,{to:"/portfolio",children:l.jsx(Re,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white hover:text-blue-600 px-8 py-4 text-lg font-semibold",children:"View Our Work"})})]})]})})]}),l.jsx(Ur,{})]})},zQ=Yy("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function In({className:n,variant:e,...t}){return l.jsx("div",{className:jt(zQ({variant:e}),n),...t})}const HQ=()=>{const n=[{id:"business",title:"Business Websites",templates:[{id:1,name:"Professional Services",category:"Business",rating:4.9,reviews:127,features:["Contact Forms","Service Pages","Testimonials"],preview:"https://example.com/demo1",price:" "},{id:2,name:"Restaurant & Food",category:"Food",rating:4.8,reviews:98,features:["Online Menu","Reservations","Gallery"],preview:"https://example.com/demo2",price:" "},{id:3,name:"E-commerce Store",category:"Retail",rating:4.9,reviews:156,features:["Product Catalog","Payment Gateway","Inventory"],preview:"https://example.com/demo3",price:" "}]},{id:"3d",title:"3D Brand Experiences",templates:[{id:4,name:"Fashion Portfolio",category:"3D Fashion",rating:5,reviews:43,features:["3D Models","Interactive Gallery","Brand Story"],preview:"https://example.com/demo4",price:" "},{id:5,name:"Coffee Experience",category:"3D Food",rating:4.9,reviews:67,features:["3D Visualization","Product Showcase","WebGL"],preview:"https://example.com/demo5",price:" "},{id:6,name:"Art Gallery",category:"3D Art",rating:4.8,reviews:34,features:["Virtual Gallery","3D Interactions","Artist Profile"],preview:"https://example.com/demo6",price:" "}]}];return l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsx(jr,{}),l.jsxs("main",{className:"pt-20",children:[l.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["Premium ",l.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Templates"})]}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Choose from our collection of professionally designed templates for business websites and immersive 3D experiences."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(Re,{size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",children:"Browse All Templates"}),l.jsx(Re,{size:"lg",variant:"outline",children:"View Live Demos"})]})]})}),l.jsx("section",{className:"py-20",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.map(e=>l.jsxs("div",{className:"mb-16",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:e.title}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.templates.map(t=>l.jsxs(rt,{className:"group hover:shadow-xl transition-all duration-300",children:[l.jsxs(Ot,{children:[l.jsx("div",{className:"aspect-video bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg mb-4 flex items-center justify-center",children:l.jsx("span",{className:"text-gray-500",children:"Template Preview"})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ft,{className:"text-xl",children:t.name}),l.jsx(In,{variant:"secondary",children:t.category})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Dl,{className:"h-4 w-4 text-yellow-500 fill-current"}),l.jsx("span",{className:"ml-1 text-sm font-medium",children:t.rating})]}),l.jsxs("span",{className:"text-sm text-gray-600",children:["(",t.reviews," reviews)"]})]})]}),l.jsx(it,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-2",children:"Features:"}),l.jsx("ul",{className:"space-y-1",children:t.features.map((r,i)=>l.jsxs("li",{className:"text-sm text-gray-600",children:[" ",r]},i))})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[l.jsx("span",{className:"text-2xl font-bold text-gray-900",children:t.price}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(Re,{size:"sm",variant:"outline",onClick:()=>window.open(t.preview,"_blank"),children:[l.jsx(fa,{className:"h-4 w-4 mr-2"}),"Preview"]}),l.jsx(vt,{to:e.id==="business"?"/website-workflow":e.id==="3d"?"/3d-workflow":"/",children:l.jsx(Re,{size:"sm",className:"bg-gradient-to-r from-blue-600 to-purple-600",children:"Use Template"})})]})]})]})})]},t.id))})]},e.id))})}),l.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-600",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Get Started?"}),l.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Choose your template and let us bring your vision to life."}),l.jsx(vt,{to:"/register",children:l.jsxs(Re,{size:"lg",className:"bg-white text-blue-600 hover:bg-gray-100 px-8 py-4 text-lg font-semibold",children:["Start Your Project Today",l.jsx(Sr,{className:"ml-2 h-5 w-5"})]})})]})})]}),l.jsx(Ur,{})]})},GQ=()=>{const n=[{name:"Business Website",price:"--",description:"Perfect for small businesses and professionals",timeline:"2-4 weeks",features:["Professional website design","Mobile responsive layout","Contact forms & integrations","SEO optimization","Domain setup assistance","3 months support","SSL certificate included","Basic analytics setup"],cta:"Start Website Project",popular:!1,link:"/website-workflow"},{name:"MVP Development",price:"--",description:"Transform your idea into a working product",timeline:"4-8 weeks",features:["Complete MVP development","Cross-platform compatibility","User authentication system","Database design & setup","API development","Progress tracking dashboard","Milestone-based delivery","6 months support","Deployment assistance","Post-launch iterations"],cta:"Start MVP Project",popular:!0,link:"/mvp-workflow"},{name:"3D Brand Experience",price:"--",description:"Immersive 3D websites that wow your audience",timeline:"6-10 weeks",features:["Custom 3D modeling","WebGL optimization","Interactive animations","Brand storytelling","Performance optimization","Cross-device compatibility","Advanced interactions","6 months support","Premium hosting setup","Ongoing maintenance"],cta:"Start 3D Project",popular:!1,link:"/3d-workflow"}],e=[{name:"Premium Domain Management",price:"$299",description:"Complete domain purchase and setup service"},{name:"eCommerce Integration",price:"$499",description:"Full online store with payment processing"},{name:"Advanced Analytics",price:"$199",description:"Comprehensive tracking and reporting"},{name:"Social Media Integration",price:"$149",description:"Connect all your social platforms"},{name:"Email Marketing Setup",price:"$249",description:"Newsletter and email automation"},{name:"Extended Support (12 months)",price:"$599",description:"Priority support for a full year"}];return l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsx(jr,{}),l.jsxs("main",{className:"pt-20",children:[l.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["Simple, ",l.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Transparent Pricing"})]}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto",children:"Choose the perfect plan for your project. No hidden fees, no surprises."})]})}),l.jsx("section",{className:"py-20",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:n.map((t,r)=>l.jsxs(rt,{className:`relative ${t.popular?"border-blue-500 border-2":""} hover:shadow-xl transition-all duration-300`,children:[t.popular&&l.jsx(In,{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white",children:"Most Popular"}),l.jsxs(Ot,{className:"text-center",children:[l.jsx(Ft,{className:"text-2xl font-bold",children:t.name}),l.jsx("div",{className:"mt-4",children:l.jsx("span",{className:"text-4xl font-bold text-gray-900",children:t.price})}),l.jsx(Vr,{className:"text-lg mt-2",children:t.description}),l.jsx("div",{className:"flex items-center justify-center mt-4 text-sm text-gray-600",children:l.jsxs("span",{children:[" ",t.timeline]})})]}),l.jsxs(it,{children:[l.jsx("ul",{className:"space-y-3 mb-8",children:t.features.map((i,s)=>l.jsxs("li",{className:"flex items-start space-x-3",children:[l.jsx($y,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),l.jsx("span",{className:"text-gray-700",children:i})]},s))}),l.jsx(vt,{to:t.link,className:"block",children:l.jsxs(Re,{className:`w-full ${t.popular?"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700":""}`,children:[t.cta,l.jsx(Sr,{className:"ml-2 h-4 w-4"})]})})]})]},t.name))})})}),l.jsx("section",{className:"py-20 bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Optional Add-ons"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Enhance your project with these additional services"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((t,r)=>l.jsxs(rt,{className:"hover:shadow-md transition-shadow duration-300",children:[l.jsx(Ot,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ft,{className:"text-lg",children:t.name}),l.jsx("span",{className:"text-xl font-bold text-blue-600",children:t.price})]})}),l.jsx(it,{children:l.jsx(Vr,{children:t.description})})]},r))})]})}),l.jsx("section",{className:"py-20",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 text-center mb-12",children:"Frequently Asked Questions"}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"What's included in the base price?"}),l.jsx("p",{className:"text-gray-600",children:"Each plan includes everything listed in the features section, plus our standard support and deployment assistance."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Do you offer payment plans?"}),l.jsx("p",{className:"text-gray-600",children:"Yes! We offer milestone-based payments to make it easier for you to manage your budget throughout the project."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"What happens after the project is complete?"}),l.jsx("p",{className:"text-gray-600",children:"You'll receive full ownership of your project, along with documentation and support during the included support period."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Can I upgrade my plan later?"}),l.jsx("p",{className:"text-gray-600",children:"Absolutely! You can add features or upgrade your plan at any time during the development process."})]})]})]})}),l.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-600",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Start Your Project?"}),l.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Join hundreds of satisfied clients who have transformed their ideas into reality."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(vt,{to:"/register",children:l.jsx(Re,{size:"lg",className:"bg-white text-blue-600 hover:bg-gray-100 px-8 py-4 text-lg font-semibold",children:"Get Started Today"})}),l.jsx(vt,{to:"/contact",children:l.jsx(Re,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white hover:text-blue-600 px-8 py-4 text-lg font-semibold",children:"Contact Sales"})})]})]})})]}),l.jsx(Ur,{})]})},VQ=()=>{const n=[{name:"Sarah Johnson",role:"CEO & Founder",bio:"Former tech lead at Google with 10+ years in product development.",image:"/placeholder.svg"},{name:"Mike Chen",role:"CTO",bio:"Full-stack architect specializing in scalable web applications.",image:"/placeholder.svg"},{name:"Emily Rodriguez",role:"Design Director",bio:"Award-winning designer with expertise in UX and 3D experiences.",image:"/placeholder.svg"},{name:"David Kumar",role:"Lead Developer",bio:"MVP specialist with experience launching 50+ successful products.",image:"/placeholder.svg"}],e=[{number:"500+",label:"Projects Completed"},{number:"98%",label:"Client Satisfaction"},{number:"50+",label:"Countries Served"},{number:"24/7",label:"Support Available"}],t=[{icon:q8,title:"Mission-Driven",description:"We exist to turn great ideas into successful digital products that make a real impact."},{icon:Qy,title:"Client-Focused",description:"Your success is our success. We work as an extension of your team to achieve your goals."},{icon:I8,title:"Quality First",description:"We maintain the highest standards in everything we do, from code quality to customer service."},{icon:js,title:"Global Reach",description:"Serving clients worldwide with localized support and culturally aware solutions."}];return l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsx(jr,{}),l.jsxs("main",{className:"pt-20",children:[l.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["About ",l.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"IdeaLaunch"})]}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto mb-8",children:"We're on a mission to democratize digital innovation by making high-quality development accessible to everyone."})]})})}),l.jsx("section",{className:"py-20",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Our Story"}),l.jsxs("div",{className:"space-y-4 text-lg text-gray-600",children:[l.jsx("p",{children:"IdeaLaunch was born from a simple observation: too many great ideas never see the light of day because of technical barriers and high development costs."}),l.jsx("p",{children:"Founded in 2020 by a team of experienced developers and designers, we set out to create a platform that could bridge the gap between imagination and implementation."}),l.jsx("p",{children:"Today, we've helped hundreds of entrepreneurs, businesses, and creatives transform their concepts into successful digital products that users love."})]})]}),l.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-purple-100 rounded-2xl p-8 text-center",children:l.jsx("div",{className:"space-y-8",children:e.map((r,i)=>l.jsxs("div",{children:[l.jsx("div",{className:"text-4xl font-bold text-gray-900",children:r.number}),l.jsx("div",{className:"text-gray-600",children:r.label})]},i))})})]})})}),l.jsx("section",{className:"py-20 bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Our Values"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"These principles guide everything we do and shape how we work with our clients."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((r,i)=>l.jsxs(rt,{className:"text-center hover:shadow-lg transition-shadow duration-300",children:[l.jsxs(Ot,{children:[l.jsx("div",{className:"bg-blue-100 p-4 rounded-full w-16 h-16 mx-auto mb-4",children:l.jsx(r.icon,{className:"h-8 w-8 text-blue-600 mx-auto"})}),l.jsx(Ft,{className:"text-xl",children:r.title})]}),l.jsx(it,{children:l.jsx(Vr,{className:"text-gray-600",children:r.description})})]},i))})]})}),l.jsx("section",{className:"py-20",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Meet Our Team"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"The passionate individuals behind IdeaLaunch who make your digital dreams a reality."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:n.map((r,i)=>l.jsxs(rt,{className:"text-center hover:shadow-lg transition-shadow duration-300",children:[l.jsxs(Ot,{children:[l.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full mx-auto mb-4 flex items-center justify-center",children:l.jsx("span",{className:"text-gray-500 text-sm",children:"Photo"})}),l.jsx(Ft,{className:"text-xl",children:r.name}),l.jsx(Vr,{className:"text-blue-600 font-semibold",children:r.role})]}),l.jsx(it,{children:l.jsx("p",{className:"text-gray-600 text-sm",children:r.bio})})]},i))})]})}),l.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-600",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Work With Us?"}),l.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Let's turn your idea into a successful digital product together."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(vt,{to:"/contact",children:l.jsxs(Re,{size:"lg",className:"bg-white text-blue-600 hover:bg-gray-100 px-8 py-4 text-lg font-semibold",children:["Get In Touch",l.jsx(Sr,{className:"ml-2 h-5 w-5"})]})}),l.jsx(vt,{to:"/services",children:l.jsx(Re,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white hover:text-blue-600 px-8 py-4 text-lg font-semibold",children:"View Our Services"})})]})]})})]}),l.jsx(Ur,{})]})},fn=C.forwardRef(({className:n,type:e,...t},r)=>l.jsx("input",{type:e,className:jt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));fn.displayName="Input";const yi=C.forwardRef(({className:n,...e},t)=>l.jsx("textarea",{className:jt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));yi.displayName="Textarea";var WQ="Label",rj=C.forwardRef((n,e)=>l.jsx(Nt.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));rj.displayName=WQ;var ij=rj;const XQ=Yy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ut=C.forwardRef(({className:n,...e},t)=>l.jsx(ij,{ref:t,className:jt(XQ(),n),...e}));ut.displayName=ij.displayName;function E2(n,[e,t]){return Math.min(t,Math.max(e,n))}function lM(n){const e=C.useRef({value:n,previous:n});return C.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var KQ=[" ","Enter","ArrowUp","ArrowDown"],JQ=[" ","Enter"],Pm="Select",[pw,mw,YQ]=Wy(Pm),[Gh,Mhe]=Sa(Pm,[YQ,Fh]),gw=Fh(),[$Q,Yl]=Gh(Pm),[qQ,QQ]=Gh(Pm),sj=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:g,form:v}=n,y=gw(e),[w,x]=C.useState(null),[b,S]=C.useState(null),[A,T]=C.useState(!1),N=Tm(u),[P=!1,D]=Il({prop:r,defaultProp:i,onChange:s}),[I,R]=Il({prop:o,defaultProp:a,onChange:c}),k=C.useRef(null),G=w?v||!!w.closest("form"):!0,[K,J]=C.useState(new Set),Q=Array.from(K).map(Y=>Y.props.value).join(";");return l.jsx(Tk,{...y,children:l.jsxs($Q,{required:g,scope:e,trigger:w,onTriggerChange:x,valueNode:b,onValueNodeChange:S,valueNodeHasChildren:A,onValueNodeHasChildrenChange:T,contentId:su(),value:I,onValueChange:R,open:P,onOpenChange:D,dir:N,triggerPointerDownPosRef:k,disabled:m,children:[l.jsx(pw.Provider,{scope:e,children:l.jsx(qQ,{scope:n.__scopeSelect,onNativeOptionAdd:C.useCallback(Y=>{J(se=>new Set(se).add(Y))},[]),onNativeOptionRemove:C.useCallback(Y=>{J(se=>{const L=new Set(se);return L.delete(Y),L})},[]),children:t})}),G?l.jsxs(Rj,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:I,onChange:Y=>R(Y.target.value),disabled:m,form:v,children:[I===void 0?l.jsx("option",{value:""}):null,Array.from(K)]},Q):null]})})};sj.displayName=Pm;var oj="SelectTrigger",aj=C.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,s=gw(t),o=Yl(oj,t),a=o.disabled||r,c=pn(e,o.onTriggerChange),u=mw(t),d=C.useRef("touch"),[f,m,g]=Pj(y=>{const w=u().filter(S=>!S.disabled),x=w.find(S=>S.value===o.value),b=Ij(w,y,x);b!==void 0&&o.onValueChange(b.value)}),v=y=>{a||(o.onOpenChange(!0),g()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return l.jsx(TC,{asChild:!0,...s,children:l.jsx(Nt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Nj(o.value)?"":void 0,...i,ref:c,onClick:$e(i.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&v(y)}),onPointerDown:$e(i.onPointerDown,y=>{d.current=y.pointerType;const w=y.target;w.hasPointerCapture(y.pointerId)&&w.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:$e(i.onKeyDown,y=>{const w=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(w&&y.key===" ")&&KQ.includes(y.key)&&(v(),y.preventDefault())})})})});aj.displayName=oj;var lj="SelectValue",cj=C.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:s,placeholder:o="",...a}=n,c=Yl(lj,t),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=pn(e,c.onValueNodeChange);return Gr(()=>{u(d)},[u,d]),l.jsx(Nt.span,{...a,ref:f,style:{pointerEvents:"none"},children:Nj(c.value)?l.jsx(l.Fragment,{children:o}):s})});cj.displayName=lj;var ZQ="SelectIcon",uj=C.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return l.jsx(Nt.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});uj.displayName=ZQ;var eZ="SelectPortal",dj=n=>l.jsx(Xy,{asChild:!0,...n});dj.displayName=eZ;var cu="SelectContent",hj=C.forwardRef((n,e)=>{const t=Yl(cu,n.__scopeSelect),[r,i]=C.useState();if(Gr(()=>{i(new DocumentFragment)},[]),!t.open){const s=r;return s?wu.createPortal(l.jsx(fj,{scope:n.__scopeSelect,children:l.jsx(pw.Slot,{scope:n.__scopeSelect,children:l.jsx("div",{children:n.children})})}),s):null}return l.jsx(pj,{...n,ref:e})});hj.displayName=cu;var As=10,[fj,$l]=Gh(cu),tZ="SelectContentImpl",pj=C.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:w,...x}=n,b=Yl(cu,t),[S,A]=C.useState(null),[T,N]=C.useState(null),P=pn(e,le=>A(le)),[D,I]=C.useState(null),[R,k]=C.useState(null),G=mw(t),[K,J]=C.useState(!1),Q=C.useRef(!1);C.useEffect(()=>{if(S)return nF(S)},[S]),JO();const Y=C.useCallback(le=>{const[ke,...He]=G().map(qe=>qe.ref.current),[De]=He.slice(-1),st=document.activeElement;for(const qe of le)if(qe===st||(qe==null||qe.scrollIntoView({block:"nearest"}),qe===ke&&T&&(T.scrollTop=0),qe===De&&T&&(T.scrollTop=T.scrollHeight),qe==null||qe.focus(),document.activeElement!==st))return},[G,T]),se=C.useCallback(()=>Y([D,S]),[Y,D,S]);C.useEffect(()=>{K&&se()},[K,se]);const{onOpenChange:L,triggerPointerDownPosRef:j}=b;C.useEffect(()=>{if(S){let le={x:0,y:0};const ke=De=>{var st,qe;le={x:Math.abs(Math.round(De.pageX)-(((st=j.current)==null?void 0:st.x)??0)),y:Math.abs(Math.round(De.pageY)-(((qe=j.current)==null?void 0:qe.y)??0))}},He=De=>{le.x<=10&&le.y<=10?De.preventDefault():S.contains(De.target)||L(!1),document.removeEventListener("pointermove",ke),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",ke),document.addEventListener("pointerup",He,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ke),document.removeEventListener("pointerup",He,{capture:!0})}}},[S,L,j]),C.useEffect(()=>{const le=()=>L(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[L]);const[W,$]=Pj(le=>{const ke=G().filter(st=>!st.disabled),He=ke.find(st=>st.ref.current===document.activeElement),De=Ij(ke,le,He);De&&setTimeout(()=>De.ref.current.focus())}),oe=C.useCallback((le,ke,He)=>{const De=!Q.current&&!He;(b.value!==void 0&&b.value===ke||De)&&(I(le),De&&(Q.current=!0))},[b.value]),Se=C.useCallback(()=>S==null?void 0:S.focus(),[S]),ne=C.useCallback((le,ke,He)=>{const De=!Q.current&&!He;(b.value!==void 0&&b.value===ke||De)&&k(le)},[b.value]),we=r==="popper"?jA:mj,ve=we===jA?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:w}:{};return l.jsx(fj,{scope:t,content:S,viewport:T,onViewportChange:N,itemRefCallback:oe,selectedItem:D,onItemLeave:Se,itemTextRefCallback:ne,focusSelectedItem:se,selectedItemText:R,position:r,isPositioned:K,searchRef:W,children:l.jsx(ZC,{as:iu,allowPinchZoom:!0,children:l.jsx($C,{asChild:!0,trapped:b.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:$e(i,le=>{var ke;(ke=b.trigger)==null||ke.focus({preventScroll:!0}),le.preventDefault()}),children:l.jsx(xm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:l.jsx(we,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:le=>le.preventDefault(),...x,...ve,onPlaced:()=>J(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:$e(x.onKeyDown,le=>{const ke=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!ke&&le.key.length===1&&$(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let De=G().filter(st=>!st.disabled).map(st=>st.ref.current);if(["ArrowUp","End"].includes(le.key)&&(De=De.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const st=le.target,qe=De.indexOf(st);De=De.slice(qe+1)}setTimeout(()=>Y(De)),le.preventDefault()}})})})})})})});pj.displayName=tZ;var nZ="SelectItemAlignedPosition",mj=C.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,s=Yl(cu,t),o=$l(cu,t),[a,c]=C.useState(null),[u,d]=C.useState(null),f=pn(e,P=>d(P)),m=mw(t),g=C.useRef(!1),v=C.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:x,focusSelectedItem:b}=o,S=C.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&u&&y&&w&&x){const P=s.trigger.getBoundingClientRect(),D=u.getBoundingClientRect(),I=s.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(s.dir!=="rtl"){const st=R.left-D.left,qe=I.left-st,We=P.left-qe,U=P.width+We,Oe=Math.max(U,D.width),Ce=window.innerWidth-As,Pe=E2(qe,[As,Math.max(As,Ce-Oe)]);a.style.minWidth=U+"px",a.style.left=Pe+"px"}else{const st=D.right-R.right,qe=window.innerWidth-I.right-st,We=window.innerWidth-P.right-qe,U=P.width+We,Oe=Math.max(U,D.width),Ce=window.innerWidth-As,Pe=E2(qe,[As,Math.max(As,Ce-Oe)]);a.style.minWidth=U+"px",a.style.right=Pe+"px"}const k=m(),G=window.innerHeight-As*2,K=y.scrollHeight,J=window.getComputedStyle(u),Q=parseInt(J.borderTopWidth,10),Y=parseInt(J.paddingTop,10),se=parseInt(J.borderBottomWidth,10),L=parseInt(J.paddingBottom,10),j=Q+Y+K+L+se,W=Math.min(w.offsetHeight*5,j),$=window.getComputedStyle(y),oe=parseInt($.paddingTop,10),Se=parseInt($.paddingBottom,10),ne=P.top+P.height/2-As,we=G-ne,ve=w.offsetHeight/2,le=w.offsetTop+ve,ke=Q+Y+le,He=j-ke;if(ke<=ne){const st=k.length>0&&w===k[k.length-1].ref.current;a.style.bottom="0px";const qe=u.clientHeight-y.offsetTop-y.offsetHeight,We=Math.max(we,ve+(st?Se:0)+qe+se),U=ke+We;a.style.height=U+"px"}else{const st=k.length>0&&w===k[0].ref.current;a.style.top="0px";const We=Math.max(ne,Q+y.offsetTop+(st?oe:0)+ve)+He;a.style.height=We+"px",y.scrollTop=ke-ne+y.offsetTop}a.style.margin=`${As}px 0`,a.style.minHeight=W+"px",a.style.maxHeight=G+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[m,s.trigger,s.valueNode,a,u,y,w,x,s.dir,r]);Gr(()=>S(),[S]);const[A,T]=C.useState();Gr(()=>{u&&T(window.getComputedStyle(u).zIndex)},[u]);const N=C.useCallback(P=>{P&&v.current===!0&&(S(),b==null||b(),v.current=!1)},[S,b]);return l.jsx(iZ,{scope:t,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:N,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:l.jsx(Nt.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});mj.displayName=nZ;var rZ="SelectPopperPosition",jA=C.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=As,...s}=n,o=gw(t);return l.jsx(NC,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});jA.displayName=rZ;var[iZ,cM]=Gh(cu,{}),UA="SelectViewport",gj=C.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,s=$l(UA,t),o=cM(UA,t),a=pn(e,s.onViewportChange),c=C.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(pw.Slot,{scope:t,children:l.jsx(Nt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:$e(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const v=window.innerHeight-As*2,y=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),x=Math.max(y,w);if(x<v){const b=x+g,S=Math.min(v,b),A=b-S;f.style.height=S+"px",f.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});gj.displayName=UA;var xj="SelectGroup",[sZ,oZ]=Gh(xj),aZ=C.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=su();return l.jsx(sZ,{scope:t,id:i,children:l.jsx(Nt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});aZ.displayName=xj;var vj="SelectLabel",yj=C.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=oZ(vj,t);return l.jsx(Nt.div,{id:i.id,...r,ref:e})});yj.displayName=vj;var L0="SelectItem",[lZ,wj]=Gh(L0),_j=C.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:s,...o}=n,a=Yl(L0,t),c=$l(L0,t),u=a.value===r,[d,f]=C.useState(s??""),[m,g]=C.useState(!1),v=pn(e,b=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,b,r,i)}),y=su(),w=C.useRef("touch"),x=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(lZ,{scope:t,value:r,disabled:i,textId:y,isSelected:u,onItemTextChange:C.useCallback(b=>{f(S=>S||((b==null?void 0:b.textContent)??"").trim())},[]),children:l.jsx(pw.ItemSlot,{scope:t,value:r,disabled:i,textValue:d,children:l.jsx(Nt.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:$e(o.onFocus,()=>g(!0)),onBlur:$e(o.onBlur,()=>g(!1)),onClick:$e(o.onClick,()=>{w.current!=="mouse"&&x()}),onPointerUp:$e(o.onPointerUp,()=>{w.current==="mouse"&&x()}),onPointerDown:$e(o.onPointerDown,b=>{w.current=b.pointerType}),onPointerMove:$e(o.onPointerMove,b=>{var S;w.current=b.pointerType,i?(S=c.onItemLeave)==null||S.call(c):w.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:$e(o.onPointerLeave,b=>{var S;b.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:$e(o.onKeyDown,b=>{var A;((A=c.searchRef)==null?void 0:A.current)!==""&&b.key===" "||(JQ.includes(b.key)&&x(),b.key===" "&&b.preventDefault())})})})})});_j.displayName=L0;var qf="SelectItemText",bj=C.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...s}=n,o=Yl(qf,t),a=$l(qf,t),c=wj(qf,t),u=QQ(qf,t),[d,f]=C.useState(null),m=pn(e,x=>f(x),c.onItemTextChange,x=>{var b;return(b=a.itemTextRefCallback)==null?void 0:b.call(a,x,c.value,c.disabled)}),g=d==null?void 0:d.textContent,v=C.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=u;return Gr(()=>(y(v),()=>w(v)),[y,w,v]),l.jsxs(l.Fragment,{children:[l.jsx(Nt.span,{id:c.textId,...s,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?wu.createPortal(s.children,o.valueNode):null]})});bj.displayName=qf;var Sj="SelectItemIndicator",Aj=C.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return wj(Sj,t).isSelected?l.jsx(Nt.span,{"aria-hidden":!0,...r,ref:e}):null});Aj.displayName=Sj;var zA="SelectScrollUpButton",Ej=C.forwardRef((n,e)=>{const t=$l(zA,n.__scopeSelect),r=cM(zA,n.__scopeSelect),[i,s]=C.useState(!1),o=pn(e,r.onScrollButtonChange);return Gr(()=>{if(t.viewport&&t.isPositioned){let a=function(){const u=c.scrollTop>0;s(u)};const c=t.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?l.jsx(Mj,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=t;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});Ej.displayName=zA;var HA="SelectScrollDownButton",Cj=C.forwardRef((n,e)=>{const t=$l(HA,n.__scopeSelect),r=cM(HA,n.__scopeSelect),[i,s]=C.useState(!1),o=pn(e,r.onScrollButtonChange);return Gr(()=>{if(t.viewport&&t.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=t.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?l.jsx(Mj,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=t;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});Cj.displayName=HA;var Mj=C.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,s=$l("SelectScrollButton",t),o=C.useRef(null),a=mw(t),c=C.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return C.useEffect(()=>()=>c(),[c]),Gr(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),l.jsx(Nt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:$e(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:$e(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:$e(i.onPointerLeave,()=>{c()})})}),cZ="SelectSeparator",Tj=C.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return l.jsx(Nt.div,{"aria-hidden":!0,...r,ref:e})});Tj.displayName=cZ;var GA="SelectArrow",uZ=C.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=gw(t),s=Yl(GA,t),o=$l(GA,t);return s.open&&o.position==="popper"?l.jsx(RC,{...i,...r,ref:e}):null});uZ.displayName=GA;function Nj(n){return n===""||n===void 0}var Rj=C.forwardRef((n,e)=>{const{value:t,...r}=n,i=C.useRef(null),s=pn(e,i),o=lM(t);return C.useEffect(()=>{const a=i.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(f)}},[o,t]),l.jsx(vm,{asChild:!0,children:l.jsx("select",{...r,ref:s,defaultValue:t})})});Rj.displayName="BubbleSelect";function Pj(n){const e=Hr(n),t=C.useRef(""),r=C.useRef(0),i=C.useCallback(o=>{const a=t.current+o;e(a),function c(u){t.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),s=C.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,s]}function Ij(n,e,t){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=dZ(n,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==t));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==t?c:void 0}function dZ(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var hZ=sj,Dj=aj,fZ=cj,pZ=uj,mZ=dj,Bj=hj,gZ=gj,Lj=yj,kj=_j,xZ=bj,vZ=Aj,Oj=Ej,Fj=Cj,jj=Tj;const na=hZ,ra=fZ,go=C.forwardRef(({className:n,children:e,...t},r)=>l.jsxs(Dj,{ref:r,className:jt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,l.jsx(pZ,{asChild:!0,children:l.jsx(qy,{className:"h-4 w-4 opacity-50"})})]}));go.displayName=Dj.displayName;const Uj=C.forwardRef(({className:n,...e},t)=>l.jsx(Oj,{ref:t,className:jt("flex cursor-default items-center justify-center py-1",n),...e,children:l.jsx(K3,{className:"h-4 w-4"})}));Uj.displayName=Oj.displayName;const zj=C.forwardRef(({className:n,...e},t)=>l.jsx(Fj,{ref:t,className:jt("flex cursor-default items-center justify-center py-1",n),...e,children:l.jsx(qy,{className:"h-4 w-4"})}));zj.displayName=Fj.displayName;const xo=C.forwardRef(({className:n,children:e,position:t="popper",...r},i)=>l.jsx(mZ,{children:l.jsxs(Bj,{ref:i,className:jt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[l.jsx(Uj,{}),l.jsx(gZ,{className:jt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(zj,{})]})}));xo.displayName=Bj.displayName;const yZ=C.forwardRef(({className:n,...e},t)=>l.jsx(Lj,{ref:t,className:jt("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));yZ.displayName=Lj.displayName;const hn=C.forwardRef(({className:n,children:e,...t},r)=>l.jsxs(kj,{ref:r,className:jt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(vZ,{children:l.jsx($y,{className:"h-4 w-4"})})}),l.jsx(xZ,{children:e})]}));hn.displayName=kj.displayName;const wZ=C.forwardRef(({className:n,...e},t)=>l.jsx(jj,{ref:t,className:jt("-mx-1 my-1 h-px bg-muted",n),...e}));wZ.displayName=jj.displayName;const _Z=()=>{const[n,e]=C.useState({name:"",email:"",company:"",service:"",budget:"",message:""}),t=o=>{e({...n,[o.target.name]:o.target.value})},r=(o,a)=>{e({...n,[o]:a})},i=o=>{o.preventDefault(),console.log("Form submitted:",n)},s=[{icon:$3,title:"Email Us",details:"hello@idealaunch.com",description:"Send us an email and we'll respond within 24 hours"},{icon:Q3,title:"Call Us",details:"+1 (555) 123-4567",description:"Speak directly with our team during business hours"},{icon:q3,title:"Visit Us",details:"San Francisco, CA",description:"Schedule a meeting at our headquarters"},{icon:fh,title:"Business Hours",details:"Mon-Fri 9AM-6PM PST",description:"We're here when you need us"}];return l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsx(jr,{}),l.jsxs("main",{className:"pt-20",children:[l.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["Get in ",l.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Touch"})]}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto",children:"Ready to transform your idea into reality? Let's discuss your project and how we can help you succeed."})]})}),l.jsx("section",{className:"py-20",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[l.jsxs(rt,{className:"shadow-xl",children:[l.jsxs(Ot,{children:[l.jsx(Ft,{className:"text-2xl",children:"Tell Us About Your Project"}),l.jsx(Vr,{children:"Fill out the form below and we'll get back to you within 24 hours with a custom proposal."})]}),l.jsx(it,{children:l.jsxs("form",{onSubmit:i,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"name",children:"Full Name *"}),l.jsx(fn,{id:"name",name:"name",value:n.name,onChange:t,required:!0,className:"mt-2"})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"email",children:"Email Address *"}),l.jsx(fn,{id:"email",name:"email",type:"email",value:n.email,onChange:t,required:!0,className:"mt-2"})]})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"company",children:"Company Name"}),l.jsx(fn,{id:"company",name:"company",value:n.company,onChange:t,className:"mt-2"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"service",children:"Service Interested In *"}),l.jsxs(na,{onValueChange:o=>r("service",o),children:[l.jsx(go,{className:"mt-2",children:l.jsx(ra,{placeholder:"Select a service"})}),l.jsxs(xo,{children:[l.jsx(hn,{value:"mvp",children:"MVP Development"}),l.jsx(hn,{value:"website",children:"Business Website"}),l.jsx(hn,{value:"3d",children:"3D Brand Experience"}),l.jsx(hn,{value:"consulting",children:"Consulting"}),l.jsx(hn,{value:"other",children:"Other"})]})]})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"budget",children:"Project Budget"}),l.jsxs(na,{onValueChange:o=>r("budget",o),children:[l.jsx(go,{className:"mt-2",children:l.jsx(ra,{placeholder:"Select budget range"})}),l.jsxs(xo,{children:[l.jsx(hn,{value:"under-5k",children:"Under $5,000"}),l.jsx(hn,{value:"5k-10k",children:"$5,000 - $10,000"}),l.jsx(hn,{value:"10k-25k",children:"$10,000 - $25,000"}),l.jsx(hn,{value:"25k-50k",children:"$25,000 - $50,000"}),l.jsx(hn,{value:"50k-plus",children:"$50,000+"})]})]})]})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"message",children:"Project Description *"}),l.jsx(yi,{id:"message",name:"message",value:n.message,onChange:t,placeholder:"Tell us about your project, goals, and timeline...",className:"mt-2 min-h-[120px]",required:!0})]}),l.jsx(Re,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",children:"Send Message"})]})})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Let's Start a Conversation"}),l.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"We're here to help bring your vision to life. Whether you have a specific project in mind or just want to explore possibilities, we'd love to hear from you."})]}),l.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.map((o,a)=>l.jsx(rt,{className:"hover:shadow-md transition-shadow duration-300",children:l.jsx(it,{className:"p-6",children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:l.jsx(o.icon,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:o.title}),l.jsx("p",{className:"text-lg text-gray-900 mb-1",children:o.details}),l.jsx("p",{className:"text-sm text-gray-600",children:o.description})]})]})})},a))}),l.jsx(rt,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:l.jsxs(it,{className:"p-6",children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Need Immediate Help?"}),l.jsx("p",{className:"mb-4",children:"For urgent inquiries or technical support, reach out to us directly and we'll respond immediately."}),l.jsx(Re,{variant:"outline",className:"border-white text-white hover:bg-white hover:text-blue-600",children:"Emergency Contact"})]})})]})]})})}),l.jsx("section",{className:"py-20 bg-gray-50",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 text-center mb-12",children:"Common Questions"}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"How quickly can you start my project?"}),l.jsx("p",{className:"text-gray-600",children:"Most projects can begin within 1-2 weeks of contract signing, depending on our current workload and project complexity."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Do you work with international clients?"}),l.jsx("p",{className:"text-gray-600",children:"Yes! We work with clients worldwide and have experience managing projects across different time zones."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"What information do you need to provide a quote?"}),l.jsx("p",{className:"text-gray-600",children:"We'll need details about your project scope, timeline, platform preferences, and any specific features you have in mind."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Do you provide ongoing support after launch?"}),l.jsx("p",{className:"text-gray-600",children:"Yes, all our packages include post-launch support, and we offer extended support packages for long-term partnerships."})]})]})]})})]}),l.jsx(Ur,{})]})},bZ=()=>{const n=[{id:1,title:"FoodieConnect - Restaurant Discovery App",category:"MVP Development",client:"TechStartup Inc.",timeline:"6 weeks",team:"4 developers",rating:5,description:"A comprehensive restaurant discovery platform with real-time reservations, reviews, and social features.",technologies:["React","Node.js","MongoDB","Stripe API"],features:["User Authentication","Real-time Booking","Payment Integration","Social Reviews"],results:"10,000+ downloads in first month, Featured on App Store",image:"/placeholder.svg",link:"https://foodieconnect-demo.com"},{id:2,title:"EcoLux - Sustainable Fashion Brand",category:"3D Brand Experience",client:"EcoLux Fashion",timeline:"8 weeks",team:"3D specialists",rating:4.9,description:"An immersive 3D website showcasing sustainable fashion with virtual try-on and interactive product visualization.",technologies:["Three.js","WebGL","React","GSAP"],features:["3D Product Viewer","Virtual Try-On","Sustainability Timeline","Interactive Catalog"],results:"300% increase in engagement, 85% boost in conversions",image:"/placeholder.svg",link:"https://ecolux-3d-demo.com"},{id:3,title:"HealthCare Plus - Medical Practice Website",category:"Business Website",client:"HealthCare Plus Clinic",timeline:"3 weeks",team:"2 developers",rating:4.8,description:"Professional medical practice website with appointment booking, patient portal, and telemedicine integration.",technologies:["WordPress","PHP","MySQL","Stripe"],features:["Appointment Booking","Patient Portal","Insurance Info","Telemedicine"],results:"50% reduction in phone bookings, Improved patient satisfaction",image:"/placeholder.svg",link:"https://healthcareplus-demo.com"},{id:4,title:"CryptoTracker - Portfolio Management App",category:"MVP Development",client:"CryptoTracker LLC",timeline:"10 weeks",team:"5 developers",rating:4.9,description:"Advanced cryptocurrency portfolio tracking with real-time analytics, price alerts, and trading insights.",technologies:["React Native","Node.js","Redis","WebSocket"],features:["Real-time Tracking","Price Alerts","Portfolio Analytics","Trading Signals"],results:"25,000+ active users, $500K+ in tracked portfolios",image:"/placeholder.svg",link:"https://cryptotracker-demo.com"},{id:5,title:"ArtisanCraft - Handmade Marketplace",category:"Business Website",client:"ArtisanCraft Collective",timeline:"4 weeks",team:"3 developers",rating:4.7,description:"E-commerce marketplace for handmade crafts with vendor management, custom product builder, and community features.",technologies:["Shopify","React","Node.js","PayPal API"],features:["Multi-vendor Support","Custom Product Builder","Community Forum","Seller Analytics"],results:"200+ vendors onboarded, $100K+ in first quarter sales",image:"/placeholder.svg",link:"https://artisancraft-demo.com"},{id:6,title:"LuxuryAutos - 3D Car Showroom",category:"3D Brand Experience",client:"LuxuryAutos Dealership",timeline:"12 weeks",team:"3D specialists",rating:5,description:"Immersive 3D car showroom with virtual test drives, 360 interior views, and real-time customization.",technologies:["Three.js","WebXR","React","Node.js"],features:["3D Car Configurator","Virtual Test Drive","360 Views","AR Integration"],results:"400% increase in showroom visits, 60% boost in test drive bookings",image:"/placeholder.svg",link:"https://luxuryautos-3d-demo.com"}],e=[{number:"--",label:"Projects Completed"},{number:"--%",label:"Client Satisfaction"},{number:"--",label:"Client Revenue Generated"},{number:"24/7",label:"Support & Maintenance"}],t=[{text:"IdeaLaunch transformed our vision into a stunning 3D experience that our customers absolutely love. The attention to detail and technical expertise is unmatched.",author:"Sarah Chen",role:"CEO, EcoLux Fashion",rating:5},{text:"The MVP they built for us exceeded all expectations. We went from idea to market in just 6 weeks, and the quality was outstanding.",author:"Michael Rodriguez",role:"Founder, FoodieConnect",rating:5},{text:"Our new website has completely transformed our business. Patient bookings increased by 50% and our online presence is now professional and modern.",author:"Dr. Emily Johnson",role:"Director, HealthCare Plus",rating:5}];return l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsx(jr,{}),l.jsxs("main",{className:"pt-20",children:[l.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["Our ",l.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Portfolio"})]}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Discover the amazing projects we've built for our clients. From MVPs to immersive 3D experiences, see how we turn ideas into successful digital products."}),l.jsx("div",{className:"mb-8",children:l.jsx(vt,{to:"/mvp-workflow",children:l.jsxs(Re,{size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-4 text-lg font-semibold",children:[l.jsx(Ci,{className:"mr-2 h-5 w-5"}),"Start Building Your MVP"]})})}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 max-w-4xl mx-auto",children:e.map((r,i)=>l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:r.number}),l.jsx("div",{className:"text-gray-600",children:r.label})]},i))})]})}),l.jsx("section",{className:"py-20",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:n.map(r=>l.jsxs(rt,{className:"group hover:shadow-xl transition-all duration-300",children:[l.jsxs(Ot,{children:[l.jsx("div",{className:"aspect-video bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg mb-4 flex items-center justify-center overflow-hidden",children:l.jsx("span",{className:"text-gray-500",children:"Project Preview"})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(In,{variant:"secondary",children:r.category}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Dl,{className:"h-4 w-4 text-yellow-500 fill-current"}),l.jsx("span",{className:"text-sm font-medium",children:r.rating})]})]}),l.jsx(Ft,{className:"text-xl",children:r.title}),l.jsx(Vr,{className:"text-gray-600",children:r.description})]}),l.jsx(it,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(X3,{className:"h-4 w-4 text-gray-500"}),l.jsx("span",{children:r.timeline})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Qy,{className:"h-4 w-4 text-gray-500"}),l.jsx("span",{children:r.team})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Technologies:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:r.technologies.map((i,s)=>l.jsx(In,{variant:"outline",className:"text-xs",children:i},s))})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Key Features:"}),l.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:r.features.slice(0,3).map((i,s)=>l.jsxs("li",{children:[" ",i]},s))})]}),l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[l.jsx("h4",{className:"font-semibold text-sm text-green-800 mb-1",children:"Results:"}),l.jsx("p",{className:"text-sm text-green-700",children:r.results})]}),l.jsxs("div",{className:"flex space-x-3 pt-4 border-t",children:[l.jsxs(Re,{variant:"outline",size:"sm",className:"flex-1",children:[l.jsx(hA,{className:"h-4 w-4 mr-2"}),"View Live"]}),l.jsx(vt,{to:"/contact",className:"flex-1",children:l.jsx(Re,{size:"sm",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600",children:"Start Similar Project"})})]})]})})]},r.id))})})}),l.jsx("section",{className:"py-20 bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"What Our Clients Say"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Don't just take our word for it - hear from the clients whose projects we've brought to life."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:t.map((r,i)=>l.jsx(rt,{className:"text-center",children:l.jsxs(it,{className:"p-6",children:[l.jsx("div",{className:"flex justify-center mb-4",children:[...Array(r.rating)].map((s,o)=>l.jsx(Dl,{className:"h-5 w-5 text-yellow-500 fill-current"},o))}),l.jsxs("p",{className:"text-gray-700 italic mb-4",children:['"',r.text,'"']}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-gray-900",children:r.author}),l.jsx("p",{className:"text-sm text-gray-600",children:r.role})]})]})},i))})]})}),l.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-600",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Create Your Success Story?"}),l.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Join our portfolio of successful projects and let us help you transform your idea into reality."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(vt,{to:"/mvp-workflow",children:l.jsxs(Re,{size:"lg",className:"bg-white text-blue-600 hover:bg-gray-100 px-8 py-4 text-lg font-semibold",children:["Start Your MVP",l.jsx(Sr,{className:"ml-2 h-5 w-5"})]})}),l.jsx(vt,{to:"/contact",children:l.jsxs(Re,{size:"lg",className:"bg-white text-blue-600 hover:bg-gray-100 px-8 py-4 text-lg font-semibold",children:["Contact Us",l.jsx(Sr,{className:"ml-2 h-5 w-5"})]})}),l.jsx(vt,{to:"/services",children:l.jsx(Re,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white hover:text-blue-600 px-8 py-4 text-lg font-semibold",children:"View Our Services"})})]})]})})]}),l.jsx(Ur,{})]})};var uM="Checkbox",[SZ,The]=Sa(uM),[AZ,EZ]=SZ(uM),Hj=C.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:c="on",onCheckedChange:u,form:d,...f}=n,[m,g]=C.useState(null),v=pn(e,A=>g(A)),y=C.useRef(!1),w=m?d||!!m.closest("form"):!0,[x=!1,b]=Il({prop:i,defaultProp:s,onChange:u}),S=C.useRef(x);return C.useEffect(()=>{const A=m==null?void 0:m.form;if(A){const T=()=>b(S.current);return A.addEventListener("reset",T),()=>A.removeEventListener("reset",T)}},[m,b]),l.jsxs(AZ,{scope:t,state:x,disabled:a,children:[l.jsx(Nt.button,{type:"button",role:"checkbox","aria-checked":Tl(x)?"mixed":x,"aria-required":o,"data-state":Wj(x),"data-disabled":a?"":void 0,disabled:a,value:c,...f,ref:v,onKeyDown:$e(n.onKeyDown,A=>{A.key==="Enter"&&A.preventDefault()}),onClick:$e(n.onClick,A=>{b(T=>Tl(T)?!0:!T),w&&(y.current=A.isPropagationStopped(),y.current||A.stopPropagation())})}),w&&l.jsx(CZ,{control:m,bubbles:!y.current,name:r,value:c,checked:x,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Tl(s)?!1:s})]})});Hj.displayName=uM;var Gj="CheckboxIndicator",Vj=C.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...i}=n,s=EZ(Gj,t);return l.jsx(So,{present:r||Tl(s.state)||s.state===!0,children:l.jsx(Nt.span,{"data-state":Wj(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...n.style}})})});Vj.displayName=Gj;var CZ=n=>{const{control:e,checked:t,bubbles:r=!0,defaultChecked:i,...s}=n,o=C.useRef(null),a=lM(t),c=EC(e);C.useEffect(()=>{const d=o.current,f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(a!==t&&g){const v=new Event("click",{bubbles:r});d.indeterminate=Tl(t),g.call(d,Tl(t)?!1:t),d.dispatchEvent(v)}},[a,t,r]);const u=C.useRef(Tl(t)?!1:t);return l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...s,tabIndex:-1,ref:o,style:{...n.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Tl(n){return n==="indeterminate"}function Wj(n){return Tl(n)?"indeterminate":n?"checked":"unchecked"}var Xj=Hj,MZ=Vj;const va=C.forwardRef(({className:n,...e},t)=>l.jsx(Xj,{ref:t,className:jt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...e,children:l.jsx(MZ,{className:jt("flex items-center justify-center text-current"),children:l.jsx($y,{className:"h-4 w-4"})})}));va.displayName=Xj.displayName;const TZ=()=>{const n=_u(),{toast:e}=Gy(),[t,r]=C.useState(!1),[i,s]=C.useState(!1),[o,a]=C.useState({}),[c,u]=C.useState({email:"",password:"",rememberMe:!1}),d=()=>{const v={};return c.email.trim()?/\S+@\S+\.\S+/.test(c.email)||(v.email="Please enter a valid email address"):v.email="Email is required",c.password||(v.password="Password is required"),a(v),Object.keys(v).length===0},f=v=>{const{name:y,value:w,type:x,checked:b}=v.target;u({...c,[y]:x==="checkbox"?b:w}),o[y]&&a({...o,[y]:""})},m=async v=>{if(v.preventDefault(),!d()){e({title:"Validation Error",description:"Please fix the errors in the form",variant:"destructive"});return}s(!0);try{const y=await KJ(YC,c.email,c.password);n("/")}catch{e({title:"Login Failed",description:"Invalid email or password. Please try again.",variant:"destructive"})}finally{s(!1)}},g=v=>{e({title:`${v} Authentication`,description:"Social authentication will be implemented with backend integration."})};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"w-full max-w-md",children:l.jsxs(rt,{className:"shadow-xl",children:[l.jsxs(Ot,{className:"text-center",children:[l.jsxs(vt,{to:"/",className:"flex items-center justify-center space-x-2 mb-4",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:l.jsx(Ci,{className:"h-6 w-6 text-white"})}),l.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"IdeaLaunch"})]}),l.jsx(Ft,{className:"text-2xl",children:"Welcome Back"}),l.jsx(Vr,{children:"Sign in to your account to continue your projects"})]}),l.jsxs(it,{children:[l.jsxs("form",{onSubmit:m,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"email",children:"Email Address *"}),l.jsx(fn,{id:"email",name:"email",type:"email",value:c.email,onChange:f,className:`mt-2 ${o.email?"border-red-500":""}`,placeholder:"Enter your email",disabled:i}),o.email&&l.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[l.jsx(Ho,{className:"h-3 w-3 mr-1"}),o.email]})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"password",children:"Password *"}),l.jsxs("div",{className:"relative mt-2",children:[l.jsx(fn,{id:"password",name:"password",type:t?"text":"password",value:c.password,onChange:f,className:o.password?"border-red-500":"",placeholder:"Enter your password",disabled:i}),l.jsx("button",{type:"button",onClick:()=>r(!t),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:i,children:t?l.jsx(fA,{className:"h-4 w-4 text-gray-400"}):l.jsx(fa,{className:"h-4 w-4 text-gray-400"})})]}),o.password&&l.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[l.jsx(Ho,{className:"h-3 w-3 mr-1"}),o.password]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(va,{id:"rememberMe",name:"rememberMe",checked:c.rememberMe,onCheckedChange:v=>u({...c,rememberMe:v}),disabled:i}),l.jsx(ut,{htmlFor:"rememberMe",className:"text-sm",children:"Remember me"})]}),l.jsx(vt,{to:"/forgot-password",className:"text-sm text-blue-600 hover:underline",children:"Forgot password?"})]}),l.jsx(Re,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",disabled:i,children:i?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing In..."]}):l.jsxs(l.Fragment,{children:[l.jsx(U8,{className:"mr-2 h-4 w-4"}),"Sign In"]})}),l.jsxs("div",{className:"relative my-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("span",{className:"w-full border-t"})}),l.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:l.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or continue with"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs(Re,{variant:"outline",type:"button",onClick:()=>g("Google"),disabled:i,children:[l.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),l.jsxs(Re,{variant:"outline",type:"button",onClick:()=>g("Facebook"),disabled:i,children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]})]})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",l.jsx(vt,{to:"/register",className:"text-blue-600 hover:underline font-medium",children:"Sign up for free"})]})})]})]})})})},NZ=()=>{const n=_u(),{toast:e}=Gy(),[t,r]=C.useState(!1),[i,s]=C.useState(!1),[o,a]=C.useState(!1),[c,u]=C.useState({}),[d,f]=C.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",company:"",role:"",agreeToTerms:!1,agreeToMarketing:!1}),m=()=>{const x={};return d.firstName.trim()||(x.firstName="First name is required"),d.lastName.trim()||(x.lastName="Last name is required"),d.email.trim()?/\S+@\S+\.\S+/.test(d.email)||(x.email="Please enter a valid email address"):x.email="Email is required",d.password?d.password.length<8&&(x.password="Password must be at least 8 characters long"):x.password="Password is required",d.confirmPassword?d.password!==d.confirmPassword&&(x.confirmPassword="Passwords do not match"):x.confirmPassword="Please confirm your password",d.role||(x.role="Please select your role"),d.agreeToTerms||(x.agreeToTerms="You must agree to the Terms of Service and Privacy Policy"),u(x),Object.keys(x).length===0},g=x=>{const{name:b,value:S,type:A,checked:T}=x.target;f({...d,[b]:A==="checkbox"?T:S}),c[b]&&u({...c,[b]:""})},v=(x,b)=>{f({...d,[x]:b}),c[x]&&u({...c,[x]:""})},y=async x=>{if(x.preventDefault(),!m()){e({title:"Validation Error",description:"Please fix the errors in the form",variant:"destructive"});return}a(!0);try{const b=await XJ(YC,d.email,d.password);await YJ(b.user,{displayName:`${d.firstName} ${d.lastName}`}),e({title:"Account Created Successfully!",description:"Welcome to IdeaLaunch. You can now access all our services."}),n("/login")}catch{e({title:"Registration Failed",description:"Something went wrong. Please try again.",variant:"destructive"})}finally{a(!1)}},w=x=>{e({title:`${x} Authentication`,description:"Social authentication will be implemented with backend integration."})};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"w-full max-w-md",children:l.jsxs(rt,{className:"shadow-xl",children:[l.jsxs(Ot,{className:"text-center",children:[l.jsxs(vt,{to:"/",className:"flex items-center justify-center space-x-2 mb-4",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:l.jsx(Ci,{className:"h-6 w-6 text-white"})}),l.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"IdeaLaunch"})]}),l.jsx(Ft,{className:"text-2xl",children:"Create Your Account"}),l.jsx(Vr,{children:"Join thousands of innovators transforming their ideas into reality"})]}),l.jsxs(it,{children:[l.jsxs("form",{onSubmit:y,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"firstName",children:"First Name *"}),l.jsx(fn,{id:"firstName",name:"firstName",value:d.firstName,onChange:g,className:`mt-2 ${c.firstName?"border-red-500":""}`,placeholder:"John",disabled:o}),c.firstName&&l.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[l.jsx(Ho,{className:"h-3 w-3 mr-1"}),c.firstName]})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"lastName",children:"Last Name *"}),l.jsx(fn,{id:"lastName",name:"lastName",value:d.lastName,onChange:g,className:`mt-2 ${c.lastName?"border-red-500":""}`,placeholder:"Doe",disabled:o}),c.lastName&&l.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[l.jsx(Ho,{className:"h-3 w-3 mr-1"}),c.lastName]})]})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"email",children:"Email Address *"}),l.jsx(fn,{id:"email",name:"email",type:"email",value:d.email,onChange:g,className:`mt-2 ${c.email?"border-red-500":""}`,placeholder:"john@example.com",disabled:o}),c.email&&l.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[l.jsx(Ho,{className:"h-3 w-3 mr-1"}),c.email]})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"company",children:"Company (Optional)"}),l.jsx(fn,{id:"company",name:"company",value:d.company,onChange:g,className:"mt-2",placeholder:"Your company name",disabled:o})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"role",children:"Your Role *"}),l.jsxs(na,{onValueChange:x=>v("role",x),disabled:o,children:[l.jsx(go,{className:`mt-2 ${c.role?"border-red-500":""}`,children:l.jsx(ra,{placeholder:"Select your role"})}),l.jsxs(xo,{children:[l.jsx(hn,{value:"entrepreneur",children:"Entrepreneur"}),l.jsx(hn,{value:"founder",children:"Startup Founder"}),l.jsx(hn,{value:"developer",children:"Developer"}),l.jsx(hn,{value:"designer",children:"Designer"}),l.jsx(hn,{value:"product-manager",children:"Product Manager"}),l.jsx(hn,{value:"business-owner",children:"Business Owner"}),l.jsx(hn,{value:"freelancer",children:"Freelancer"}),l.jsx(hn,{value:"other",children:"Other"})]})]}),c.role&&l.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[l.jsx(Ho,{className:"h-3 w-3 mr-1"}),c.role]})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"password",children:"Password *"}),l.jsxs("div",{className:"relative mt-2",children:[l.jsx(fn,{id:"password",name:"password",type:t?"text":"password",value:d.password,onChange:g,className:c.password?"border-red-500":"",placeholder:"Create a strong password",disabled:o}),l.jsx("button",{type:"button",onClick:()=>r(!t),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:o,children:t?l.jsx(fA,{className:"h-4 w-4 text-gray-400"}):l.jsx(fa,{className:"h-4 w-4 text-gray-400"})})]}),c.password&&l.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[l.jsx(Ho,{className:"h-3 w-3 mr-1"}),c.password]})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"confirmPassword",children:"Confirm Password *"}),l.jsxs("div",{className:"relative mt-2",children:[l.jsx(fn,{id:"confirmPassword",name:"confirmPassword",type:i?"text":"password",value:d.confirmPassword,onChange:g,className:c.confirmPassword?"border-red-500":"",placeholder:"Confirm your password",disabled:o}),l.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:o,children:i?l.jsx(fA,{className:"h-4 w-4 text-gray-400"}):l.jsx(fa,{className:"h-4 w-4 text-gray-400"})})]}),c.confirmPassword&&l.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[l.jsx(Ho,{className:"h-3 w-3 mr-1"}),c.confirmPassword]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(va,{id:"agreeToTerms",name:"agreeToTerms",checked:d.agreeToTerms,onCheckedChange:x=>f({...d,agreeToTerms:x}),disabled:o,className:c.agreeToTerms?"border-red-500":""}),l.jsxs(ut,{htmlFor:"agreeToTerms",className:"text-sm leading-5",children:["I agree to the"," ",l.jsx(vt,{to:"/terms",className:"text-blue-600 hover:underline",children:"Terms of Service"})," ","and"," ",l.jsx(vt,{to:"/privacy",className:"text-blue-600 hover:underline",children:"Privacy Policy"})," *"]})]}),c.agreeToTerms&&l.jsxs("p",{className:"text-red-500 text-xs flex items-center",children:[l.jsx(Ho,{className:"h-3 w-3 mr-1"}),c.agreeToTerms]}),l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(va,{id:"agreeToMarketing",name:"agreeToMarketing",checked:d.agreeToMarketing,onCheckedChange:x=>f({...d,agreeToMarketing:x}),disabled:o}),l.jsx(ut,{htmlFor:"agreeToMarketing",className:"text-sm leading-5",children:"I'd like to receive product updates and marketing emails"})]})]}),l.jsx(Re,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",disabled:o,children:o?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Account..."]}):l.jsxs(l.Fragment,{children:[l.jsx(rr,{className:"mr-2 h-4 w-4"}),"Create Account"]})}),l.jsxs("div",{className:"relative my-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("span",{className:"w-full border-t"})}),l.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:l.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or continue with"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs(Re,{variant:"outline",type:"button",onClick:()=>w("Google"),disabled:o,children:[l.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),l.jsxs(Re,{variant:"outline",type:"button",onClick:()=>w("Facebook"),disabled:o,children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]})]})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",l.jsx(vt,{to:"/login",className:"text-blue-600 hover:underline font-medium",children:"Sign in here"})]})})]})]})})})};var dM="Tabs",[RZ,Nhe]=Sa(dM,[Hh]),Kj=Hh(),[PZ,hM]=RZ(dM),Jj=C.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:c="automatic",...u}=n,d=Tm(a),[f,m]=Il({prop:r,onChange:i,defaultProp:s});return l.jsx(PZ,{scope:t,baseId:su(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:l.jsx(Nt.div,{dir:d,"data-orientation":o,...u,ref:e})})});Jj.displayName=dM;var Yj="TabsList",$j=C.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,s=hM(Yj,t),o=Kj(t);return l.jsx(qC,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:l.jsx(Nt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});$j.displayName=Yj;var qj="TabsTrigger",Qj=C.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...s}=n,o=hM(qj,t),a=Kj(t),c=tU(o.baseId,r),u=nU(o.baseId,r),d=r===o.value;return l.jsx(QC,{asChild:!0,...a,focusable:!i,active:d,children:l.jsx(Nt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:$e(n.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:$e(n.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:$e(n.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(r)})})})});Qj.displayName=qj;var Zj="TabsContent",eU=C.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:s,...o}=n,a=hM(Zj,t),c=tU(a.baseId,r),u=nU(a.baseId,r),d=r===a.value,f=C.useRef(d);return C.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),l.jsx(So,{present:i||d,children:({present:m})=>l.jsx(Nt.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:e,style:{...n.style,animationDuration:f.current?"0s":void 0},children:m&&s})})});eU.displayName=Zj;function tU(n,e){return`${n}-trigger-${e}`}function nU(n,e){return`${n}-content-${e}`}var IZ=Jj,rU=$j,iU=Qj,sU=eU;const DZ=IZ,oU=C.forwardRef(({className:n,...e},t)=>l.jsx(rU,{ref:t,className:jt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...e}));oU.displayName=rU.displayName;const pd=C.forwardRef(({className:n,...e},t)=>l.jsx(iU,{ref:t,className:jt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...e}));pd.displayName=iU.displayName;const md=C.forwardRef(({className:n,...e},t)=>l.jsx(sU,{ref:t,className:jt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));md.displayName=sU.displayName;function BZ(n,e=[]){let t=[];function r(s,o){const a=C.createContext(o),c=t.length;t=[...t,o];function u(f){const{scope:m,children:g,...v}=f,y=(m==null?void 0:m[n][c])||a,w=C.useMemo(()=>v,Object.values(v));return l.jsx(y.Provider,{value:w,children:g})}function d(f,m){const g=(m==null?void 0:m[n][c])||a,v=C.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=t.map(o=>C.createContext(o));return function(a){const c=(a==null?void 0:a[n])||s;return C.useMemo(()=>({[`__scope${n}`]:{...a,[n]:c}}),[a,c])}};return i.scopeName=n,[r,LZ(i,...e)]}function LZ(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...a,...f}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var fM="Progress",pM=100,[kZ,Rhe]=BZ(fM),[OZ,FZ]=kZ(fM),aU=C.forwardRef((n,e)=>{const{__scopeProgress:t,value:r=null,max:i,getValueLabel:s=jZ,...o}=n;(i||i===0)&&!C2(i)&&console.error(UZ(`${i}`,"Progress"));const a=C2(i)?i:pM;r!==null&&!M2(r,a)&&console.error(zZ(`${r}`,"Progress"));const c=M2(r,a)?r:null,u=k0(c)?s(c,a):void 0;return l.jsx(OZ,{scope:t,value:c,max:a,children:l.jsx(Nt.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":k0(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":uU(c,a),"data-value":c??void 0,"data-max":a,...o,ref:e})})});aU.displayName=fM;var lU="ProgressIndicator",cU=C.forwardRef((n,e)=>{const{__scopeProgress:t,...r}=n,i=FZ(lU,t);return l.jsx(Nt.div,{"data-state":uU(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});cU.displayName=lU;function jZ(n,e){return`${Math.round(n/e*100)}%`}function uU(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function k0(n){return typeof n=="number"}function C2(n){return k0(n)&&!isNaN(n)&&n>0}function M2(n,e){return k0(n)&&!isNaN(n)&&n<=e&&n>=0}function UZ(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${pM}\`.`}function zZ(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${pM} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var dU=aU,HZ=cU;const Im=C.forwardRef(({className:n,value:e,...t},r)=>l.jsx(dU,{ref:r,className:jt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n),...t,children:l.jsx(HZ,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Im.displayName=dU.displayName;const hU={step:"submit",idea:{name:"",description:"",audience:[],platform:"web",attachments:[],mail:"",phone_number:""},preview:{type:"free",features:[],price:0},payments:{prototype:!1,design:!1,development:!1},status:"review",projectData:null};function GZ(n,e){var t,r;switch(e.type){case"SET_STEP":return{...n,step:e.payload};case"UPDATE_IDEA":return{...n,idea:{...n.idea,...e.payload,attachments:e.payload.attachments??n.idea.attachments}};case"SET_PREVIEW":return{...n,preview:{...n.preview,...e.payload,features:e.payload.features??n.preview.features}};case"UPDATE_PAYMENTS":return{...n,payments:{...n.payments,...e.payload}};case"SET_STATUS":return{...n,status:e.payload};case"SET_PROJECT_DATA":return{...n,projectData:e.payload,idea:{...n.idea,name:e.payload.title||"",description:e.payload.description||"",platform:VZ(e.payload.type)},step:"preview"};case"RESET_WORKFLOW":return hU;case"SET_DEVELOPMENT_PHASES":return{...n,developmentPhases:e.payload};case"UPDATE_DEVELOPMENT_PHASE":return{...n,developmentPhases:(t=n.developmentPhases)==null?void 0:t.map(i=>i.id===e.payload.id?{...i,...e.payload}:i)};case"ADD_COMMENT":return{...n,developmentPhases:(r=n.developmentPhases)==null?void 0:r.map(i=>i.id===e.payload.phaseId?{...i,feedback:[...i.feedback,{id:Date.now().toString(),text:e.payload.text,timestamp:new Date().toISOString(),attachments:e.payload.attachments}]}:i)};default:return n}}function VZ(n){switch(n.toLowerCase()){case"mobile":return"mobile";case"desktop":return"desktop";case"3d":return"cross";default:return"web"}}const fU=()=>{const[n,e]=C.useReducer(GZ,hU);return{state:n,dispatch:e}},WZ=()=>{const{currentUser:n}=Jl();console.log("uid:"+n.uid);const e={name:"Anil",email:"anil@zovoa.com",avatar:"/placeholder.svg"},[t,r]=C.useState([]),[i,s]=C.useState(!0),[o,a]=C.useState(null),c=_u(),{dispatch:u}=fU(),d=A=>{const{icon:T,statusColor:N,...P}=A;u({type:"SET_PROJECT_DATA",payload:A}),c("/mvp-workflow",{state:{startStep:"preview",projectData:P}})},f="https://097a-2401-4900-1c27-4d9a-34c0-5d47-b2e1-2c49.ngrok-free.app/api";C.useEffect(()=>{(async()=>{try{console.log("post endpoint is triggering");const T=await fetch(`${f}/mvp/get/forms/${n.uid}`,{method:"GET",headers:{"ngrok-skip-browser-warning":"any-value"}});if(!T.ok)throw new Error("Failed to fetch projects");const N=await T.json();let P=[];Array.isArray(N)&&(P=N.map(D=>({id:D.id,type:D.type,title:D.title,description:D.description,status:D.status,progress:D.progress,createdAt:D.createdAt,estimatedCompletion:D.estimatedCompletion,price:D.price,icon:m(D.type),statusColor:g(D.status),priority:D.priority,assignedTo:D.assignedTo,nextMilestone:D.nextMilestone,completedAt:D.completedAt,liveUrl:D.liveUrl,milestones:D.milestones||[],files:D.files||[],recentActivity:D.recentActivity||[],paid:D.paid,demoUrl:D.demoUrl,liveurl:D.liveurl}))),console.log("data fetched "+JSON.stringify(P,null,2)),r(P),s(!1)}catch(T){a(T instanceof Error?T.message:"An unknown error occurred"),s(!1),console.error("Error fetching service requests:",T)}})()},[]);const m=A=>{switch(A.toLowerCase()){case"mvp":return Ud;case"website":return js;case"3d":return ha;default:return ph}},g=A=>{switch(A.toLowerCase()){case"completed":return"bg-green-500";case"in development":return"bg-blue-500";case"under review":return"bg-yellow-500";default:return"bg-gray-500"}},v={totalProjects:t.length,activeProjects:t.filter(A=>A.status==="In Development"||A.status==="Under Review").length,completedProjects:t.filter(A=>A.status==="Completed").length,totalSpent:t.reduce((A,T)=>A+T.price,0),avgProgress:t.length>0?Math.round(t.reduce((A,T)=>A+T.progress,0)/t.length):0},y=t.filter(A=>A.type.toLowerCase().includes("mvp")),w=t.filter(A=>A.type.toLowerCase().includes("website")),x=t.filter(A=>A.type.toLowerCase().includes("3d")),b=t.filter(A=>A.status==="In Development"||A.status==="Under Review"),S=t.filter(A=>A.status==="Completed");return i?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(jr,{}),l.jsx("main",{className:"pt-20 pb-12",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})})}),l.jsx(Ur,{})]}):o?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(jr,{}),l.jsx("main",{className:"pt-20 pb-12",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[l.jsx("strong",{className:"font-bold",children:"Error: "}),l.jsx("span",{className:"block sm:inline",children:o})]})})}),l.jsx(Ur,{})]}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(jr,{}),l.jsx("main",{className:"pt-20 pb-12",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Project Dashboard"}),l.jsxs("p",{className:"text-gray-600 mt-2",children:["Welcome back, ",e.name,"! Here's your project overview."]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs(Re,{variant:"outline",children:[l.jsx(Up,{className:"h-4 w-4 mr-2"}),"Settings"]}),l.jsx(vt,{to:"/services",children:l.jsxs(Re,{children:[l.jsx(cP,{className:"h-4 w-4 mr-2"}),"Request New Service"]})})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[l.jsx(rt,{children:l.jsx(it,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:l.jsx(Ud,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Projects"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.totalProjects})]})]})})}),l.jsx(rt,{children:l.jsx(it,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:l.jsx(fh,{className:"h-6 w-6 text-yellow-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Projects"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.activeProjects})]})]})})}),l.jsx(rt,{children:l.jsx(it,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:l.jsx(rr,{className:"h-6 w-6 text-green-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.completedProjects})]})]})})}),l.jsx(rt,{children:l.jsx(it,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:l.jsx(L8,{className:"h-6 w-6 text-purple-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Invested"}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",v.totalSpent.toLocaleString()]})]})]})})}),l.jsx(rt,{children:l.jsx(it,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:l.jsx(cP,{className:"h-6 w-6 text-indigo-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Progress"}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[v.avgProgress,"%"]})]})]})})})]}),l.jsxs(rt,{children:[l.jsxs(Ot,{children:[l.jsx(Ft,{children:"Your Projects"}),l.jsx(Vr,{children:"Track the progress and status of all your service requests"})]}),l.jsx(it,{children:l.jsxs(DZ,{defaultValue:"mvp",className:"w-full",children:[l.jsxs(oU,{className:"mb-6",children:[l.jsxs(pd,{value:"mvp",children:["MVP Projects (",y.length,")"]}),l.jsxs(pd,{value:"websites",children:["Websites (",w.length,")"]}),l.jsxs(pd,{value:"3d-websites",children:["3D Websites (",x.length,")"]}),l.jsxs(pd,{value:"active",children:["Active (",b.length,")"]}),l.jsxs(pd,{value:"completed",children:["Completed (",S.length,")"]})]}),l.jsx(md,{value:"mvp",className:"space-y-6",children:y.length>0?y.map(A=>l.jsx(Mf,{request:A,onViewDetails:d},A.id)):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ud,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No MVP Projects"}),l.jsx("p",{className:"text-gray-500 mt-2",children:"You don't have any MVP projects yet."}),l.jsx(Re,{className:"mt-4",asChild:!0,children:l.jsx(vt,{to:"/services",children:"Request MVP Development"})})]})}),l.jsx(md,{value:"websites",className:"space-y-6",children:w.length>0?w.map(A=>l.jsx(Mf,{request:A,onViewDetails:d},A.id)):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(js,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No Website Projects"}),l.jsx("p",{className:"text-gray-500 mt-2",children:"You don't have any website projects yet."}),l.jsx(Re,{className:"mt-4",asChild:!0,children:l.jsx(vt,{to:"/services",children:"Request Website Development"})})]})}),l.jsx(md,{value:"3d-websites",className:"space-y-6",children:x.length>0?x.map(A=>l.jsx(Mf,{request:A,onViewDetails:d},A.id)):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(ha,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No 3D Projects"}),l.jsx("p",{className:"text-gray-500 mt-2",children:"You don't have any 3D projects yet."}),l.jsx(Re,{className:"mt-4",asChild:!0,children:l.jsx(vt,{to:"/services",children:"Request 3D Experience"})})]})}),l.jsx(md,{value:"active",className:"space-y-6",children:b.length>0?b.map(A=>l.jsx(Mf,{request:A,onViewDetails:d},A.id)):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(fh,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No Active Projects"}),l.jsx("p",{className:"text-gray-500 mt-2",children:"You don't have any active projects at the moment."})]})}),l.jsx(md,{value:"completed",className:"space-y-6",children:S.length>0?S.map(A=>l.jsx(Mf,{request:A,onViewDetails:d},A.id)):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(rr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No Completed Projects"}),l.jsx("p",{className:"text-gray-500 mt-2",children:"Your completed projects will appear here."})]})})]})})]})]})}),l.jsx(Ur,{})]})},Mf=({request:n,onViewDetails:e})=>l.jsx(rt,{className:"border-l-4 hover:shadow-lg transition-shadow",style:{borderLeftColor:n.statusColor.replace("bg-","#")},children:l.jsxs(it,{className:"p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-6",children:[l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:`p-3 rounded-lg ${n.statusColor.replace("500","100")}`,children:l.jsx(n.icon,{className:`h-6 w-6 ${n.statusColor.replace("bg-","text-").replace("500","600")}`})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:n.title}),l.jsx(In,{className:XZ(n.status),children:n.status}),l.jsx(In,{className:KZ(n.priority),children:n.priority})]}),l.jsx("p",{className:"text-gray-600 mb-3",children:n.description}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(X3,{className:"h-4 w-4 mr-1"}),"Created: ",new Date(n.createdAt).toLocaleDateString()]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(fh,{className:"h-4 w-4 mr-1"}),"Due: ",new Date(n.estimatedCompletion).toLocaleDateString()]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Pv,{className:"h-4 w-4 mr-1"}),"Team: ",n.assignedTo]})]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",n.price.toLocaleString()]}),l.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",n.id]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900",children:"Project Progress"}),n.nextMilestone&&l.jsxs("p",{className:"text-sm text-gray-600",children:["Next: ",n.nextMilestone]})]}),l.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:[n.progress,"%"]})]}),l.jsx(Im,{value:n.progress,className:"h-3"})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Milestones & Timeline"}),l.jsx("div",{className:"space-y-3",children:n.milestones.map((t,r)=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[t.completed?l.jsx(rr,{className:"h-5 w-5 text-green-500"}):t.current?l.jsx(fh,{className:"h-5 w-5 text-blue-500"}):l.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-gray-300"}),l.jsx("span",{className:`font-medium ${t.completed?"text-gray-900":t.current?"text-blue-700":"text-gray-500"}`,children:t.name})]}),l.jsxs("div",{className:"text-sm text-gray-500",children:[t.date&&l.jsxs("span",{className:"text-green-600",children:["Completed: ",t.date]}),t.dueDate&&!t.completed&&l.jsxs("span",{children:["Due: ",t.dueDate]})]})]},r))})]}),n.files.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Project Files"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:n.files.map((t,r)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(ph,{className:"h-5 w-5 text-gray-500"}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium",children:t.name}),l.jsxs("div",{className:"text-xs text-gray-500",children:[t.size,"  ",t.uploadDate]})]})]}),l.jsx(Re,{size:"sm",variant:"ghost",children:l.jsx(gC,{className:"h-4 w-4"})})]},r))})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Recent Activity"}),l.jsx("div",{className:"space-y-2",children:n.recentActivity.slice(0,3).map((t,r)=>l.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded",children:[l.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${t.type==="completion"?"bg-green-500":t.type==="milestone"?"bg-blue-500":t.type==="file"?"bg-purple-500":"bg-gray-500"}`}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm text-gray-900",children:t.action}),l.jsx("p",{className:"text-xs text-gray-500",children:t.date})]})]},r))})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(Re,{variant:"outline",size:"sm",children:[l.jsx(H8,{className:"h-4 w-4 mr-2"}),"Contact Team"]}),n.liveUrl&&l.jsx(Re,{variant:"outline",size:"sm",asChild:!0,children:l.jsxs("a",{href:n.liveUrl,target:"_blank",rel:"noopener noreferrer",children:[l.jsx(fa,{className:"h-4 w-4 mr-2"}),"View Live Site"]})})]}),l.jsx(Re,{size:"sm",onClick:()=>e(n),children:"View Full Details"})]})]})},n.id),XZ=n=>({Completed:"bg-green-100 text-green-800 border-green-200","In Development":"bg-blue-100 text-blue-800 border-blue-200","Under Review":"bg-yellow-100 text-yellow-800 border-yellow-200","On Hold":"bg-red-100 text-red-800 border-red-200"})[n]||"bg-gray-100 text-gray-800 border-gray-200",KZ=n=>({High:"bg-red-100 text-red-800 border-red-200",Medium:"bg-yellow-100 text-yellow-800 border-yellow-200",Low:"bg-green-100 text-green-800 border-green-200"})[n]||"bg-gray-100 text-gray-800 border-gray-200",JZ=()=>{var b,S,A,T,N;const[n,e]=C.useState(1),[t,r]=C.useState({productName:"",productIdea:"",targetAudience:"",preferredPlatform:"",features:[],budget:"",timeline:"",hasWireframes:!1,additionalInfo:"",contactMethod:""}),[i,s]=C.useState("initial"),o=[{number:1,title:"Product Details",description:"Tell us about your product idea"},{number:2,title:"Platform & Features",description:"Choose platform and key features"},{number:3,title:"Budget & Timeline",description:"Set expectations and budget"},{number:4,title:"Review & Submit",description:"Final review and submission"}],a=[{id:"web",name:"Web Application",icon:js,description:"Progressive web app accessible via browsers"},{id:"mobile",name:"Mobile App",icon:$8,description:"Native iOS and Android applications"},{id:"desktop",name:"Desktop App",icon:W8,description:"Cross-platform desktop application"},{id:"api",name:"API Service",icon:B8,description:"Backend API and microservices"}],c=["User Authentication & Profiles","Payment Gateway Integration","Real-time Notifications","Admin Dashboard","Analytics & Reporting","File Upload & Storage","Search & Filtering","Social Media Integration","Multi-language Support","Third-party API Integration","Push Notifications","Offline Mode Support"],u=["$2,999 - $5,999 (Basic MVP)","$6,000 - $12,999 (Standard MVP)","$13,000 - $24,999 (Advanced MVP)","$25,000+ (Enterprise MVP)"],d=["4-6 weeks (Fast Track)","6-8 weeks (Standard)","8-12 weeks (Complex)","12+ weeks (Enterprise)"],f={in_review:{progress:15,status:"In Review",description:"Our team is reviewing your requirements"},development:{progress:65,status:"Development",description:"Your MVP is being built"},review:{progress:85,status:"Ready for Review",description:"MVP ready for your feedback"},completed:{progress:100,status:"Completed",description:"Your MVP is live and ready!"}},m=[{id:1,title:"Requirements Analysis",amount:"$999",status:"paid",description:"Detailed analysis and demo document"},{id:2,title:"UI/UX Design",amount:"$1,499",status:"current",description:"Wireframes and visual designs"},{id:3,title:"Development Phase 1",amount:"$2,499",status:"pending",description:"Core functionality development"},{id:4,title:"Final Development",amount:"$1,999",status:"pending",description:"Testing and deployment"}],g=P=>{r({...t,[P.target.name]:P.target.value})},v=(P,D)=>{r({...t,[P]:D})},y=P=>{const D=t.features.includes(P)?t.features.filter(I=>I!==P):[...t.features,P];r({...t,features:D})},w=()=>{console.log("MVP submission:",t),s("submitted"),setTimeout(()=>s("in_review"),2e3)},x=()=>{console.log("Generating demo document for:",t),alert("Demo document will be generated and sent to your email within 24 hours!")};return i!=="initial"?l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsx(jr,{}),l.jsx("main",{className:"pt-20",children:l.jsx("section",{className:"py-20",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs(rt,{className:"shadow-xl",children:[l.jsxs(Ot,{className:"text-center",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 rounded-2xl inline-flex mb-6",children:l.jsx(Ci,{className:"h-12 w-12 text-white"})}),l.jsx(Ft,{className:"text-3xl",children:"Your MVP Project"}),l.jsx(Vr,{children:"Track progress and manage your project development"})]}),l.jsxs(it,{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-xl font-semibold",children:"Project Progress"}),l.jsx(In,{variant:i==="completed"?"default":"secondary",children:((b=f[i])==null?void 0:b.status)||"Submitted"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:((S=f[i])==null?void 0:S.description)||"Project submitted successfully"}),l.jsxs("span",{children:[((A=f[i])==null?void 0:A.progress)||10,"%"]})]}),l.jsx(Im,{value:((T=f[i])==null?void 0:T.progress)||10,className:"w-full"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"text-xl font-semibold flex items-center",children:[l.jsx(Y3,{className:"h-5 w-5 mr-2"}),"Milestone Payments"]}),l.jsx("div",{className:"grid gap-4",children:m.map(P=>l.jsx(rt,{className:`border-2 ${P.status==="paid"?"border-green-200 bg-green-50":P.status==="current"?"border-blue-200 bg-blue-50":"border-gray-200"}`,children:l.jsxs(it,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold",children:P.title}),l.jsx("p",{className:"text-sm text-gray-600",children:P.description})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-lg font-bold",children:P.amount}),l.jsx(In,{variant:P.status==="paid"?"default":P.status==="current"?"secondary":"outline",children:P.status==="paid"?"Paid":P.status==="current"?"Due Now":"Pending"})]})]}),P.status==="current"&&l.jsxs(Re,{className:"w-full mt-3 bg-gradient-to-r from-blue-600 to-purple-600",children:["Pay ",P.amount]})]})},P.id))})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"text-xl font-semibold flex items-center",children:[l.jsx(G8,{className:"h-5 w-5 mr-2"}),"Feedback & Communication"]}),l.jsx(rt,{children:l.jsxs(it,{className:"p-4 space-y-4",children:[l.jsx(yi,{placeholder:"Share your feedback, questions, or additional requirements...",className:"min-h-[100px]"}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs(Re,{variant:"outline",className:"flex items-center",children:[l.jsx(Z8,{className:"h-4 w-4 mr-2"}),"Upload Files"]}),l.jsx(Re,{className:"bg-gradient-to-r from-blue-600 to-purple-600",children:"Send Feedback"})]})]})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"text-xl font-semibold flex items-center",children:[l.jsx(ph,{className:"h-5 w-5 mr-2"}),"Demo Document"]}),l.jsx(rt,{children:l.jsx(it,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold",children:"Requirements Summary & Sample Designs"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Auto-generated document with your project details"})]}),l.jsxs(Re,{onClick:x,variant:"outline",children:[l.jsx(ph,{className:"h-4 w-4 mr-2"}),"Generate Document"]})]})})})]})]})]})})})}),l.jsx(Ur,{})]}):l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsx(jr,{}),l.jsxs("main",{className:"pt-20",children:[l.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 rounded-2xl inline-flex mb-6",children:l.jsx(Ci,{className:"h-12 w-12 text-white"})}),l.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["MVP ",l.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Development"})]}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto",children:"Transform your product ideas into functional MVPs with our structured development process, progress tracking, and milestone-based payments."})]})}),l.jsx("section",{className:"py-12 bg-white border-b",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"flex items-center justify-between",children:o.map((P,D)=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${n>=P.number?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:n>P.number?l.jsx(rr,{className:"h-5 w-5"}):P.number}),l.jsxs("div",{className:"ml-3 hidden md:block",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:P.title}),l.jsx("p",{className:"text-sm text-gray-500",children:P.description})]}),D<o.length-1&&l.jsx("div",{className:"flex-1 mx-4 h-0.5 bg-gray-200",children:l.jsx("div",{className:`h-full bg-blue-600 transition-all duration-300 ${n>P.number?"w-full":"w-0"}`})})]},P.number))})})}),l.jsx("section",{className:"py-20",children:l.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs(rt,{className:"shadow-xl",children:[l.jsxs(Ot,{children:[l.jsx(Ft,{className:"text-2xl",children:o[n-1].title}),l.jsx(Vr,{children:o[n-1].description})]}),l.jsxs(it,{className:"space-y-6",children:[n===1&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"productName",children:"Product Name *"}),l.jsx(fn,{id:"productName",name:"productName",value:t.productName,onChange:g,placeholder:"Enter your product name",className:"mt-2"})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"productIdea",children:"Product Idea & Description *"}),l.jsx(yi,{id:"productIdea",name:"productIdea",value:t.productIdea,onChange:g,placeholder:"Describe your product idea, what problem it solves, and key functionalities...",className:"mt-2 min-h-[120px]"})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"targetAudience",children:"Target Audience *"}),l.jsx(yi,{id:"targetAudience",name:"targetAudience",value:t.targetAudience,onChange:g,placeholder:"Who are your target users? Describe their demographics, needs, and behaviors...",className:"mt-2 min-h-[100px]"})]})]}),n===2&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(ut,{children:"Preferred Platform *"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:a.map(P=>l.jsx(rt,{className:`cursor-pointer border-2 transition-all duration-300 ${t.preferredPlatform===P.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>r({...t,preferredPlatform:P.id}),children:l.jsx(it,{className:"p-4",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(P.icon,{className:"h-8 w-8 text-blue-600"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold",children:P.name}),l.jsx("p",{className:"text-sm text-gray-600",children:P.description})]})]})})},P.id))})]}),l.jsxs("div",{children:[l.jsx(ut,{children:"Core Features *"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select the key features your MVP needs"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:c.map(P=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(va,{id:P,checked:t.features.includes(P),onCheckedChange:()=>y(P)}),l.jsx(ut,{htmlFor:P,className:"text-sm",children:P})]},P))})]})]}),n===3&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"budget",children:"Budget Range *"}),l.jsxs(na,{onValueChange:P=>v("budget",P),children:[l.jsx(go,{className:"mt-2",children:l.jsx(ra,{placeholder:"Select your budget range"})}),l.jsx(xo,{children:u.map(P=>l.jsx(hn,{value:P,children:P},P))})]})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"timeline",children:"Preferred Timeline *"}),l.jsxs(na,{onValueChange:P=>v("timeline",P),children:[l.jsx(go,{className:"mt-2",children:l.jsx(ra,{placeholder:"Select your timeline"})}),l.jsx(xo,{children:d.map(P=>l.jsx(hn,{value:P,children:P},P))})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(va,{id:"hasWireframes",checked:t.hasWireframes,onCheckedChange:P=>r({...t,hasWireframes:P})}),l.jsx(ut,{htmlFor:"hasWireframes",children:"I have existing wireframes, designs, or technical documentation"})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"additionalInfo",children:"Additional Information"}),l.jsx(yi,{id:"additionalInfo",name:"additionalInfo",value:t.additionalInfo,onChange:g,placeholder:"Any specific technical requirements, integrations, or additional details...",className:"mt-2 min-h-[100px]"})]})]}),n===4&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:[l.jsx(rr,{className:"inline h-5 w-5 mr-2"}),"Project Summary"]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Product:"})," ",t.productName]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Platform:"})," ",(N=a.find(P=>P.id===t.preferredPlatform))==null?void 0:N.name]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Features:"})," ",t.features.join(", ")]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Budget:"})," ",t.budget]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Timeline:"})," ",t.timeline]})]})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"contactMethod",children:"Preferred Contact Method *"}),l.jsxs(na,{onValueChange:P=>v("contactMethod",P),children:[l.jsx(go,{className:"mt-2",children:l.jsx(ra,{placeholder:"How should we contact you?"})}),l.jsxs(xo,{children:[l.jsx(hn,{value:"email",children:"Email"}),l.jsx(hn,{value:"phone",children:"Phone Call"}),l.jsx(hn,{value:"whatsapp",children:"WhatsApp"}),l.jsx(hn,{value:"video",children:"Video Call"})]})]})]}),l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-4",children:"What Happens Next?"}),l.jsxs("div",{className:"space-y-2 text-sm text-green-700",children:[l.jsx("p",{children:" We'll review your requirements within 24 hours"}),l.jsx("p",{children:" Auto-generated demo document with wireframes and cost breakdown"}),l.jsx("p",{children:" Milestone-based development with regular progress updates"}),l.jsx("p",{children:" Real-time project tracking dashboard access"}),l.jsx("p",{children:" Optional deployment and post-launch support"})]})]})]}),l.jsxs("div",{className:"flex justify-between pt-6 border-t",children:[l.jsx(Re,{variant:"outline",onClick:()=>e(Math.max(1,n-1)),disabled:n===1,children:"Previous"}),n<4?l.jsxs(Re,{onClick:()=>e(Math.min(4,n+1)),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:["Next Step",l.jsx(Sr,{className:"ml-2 h-4 w-4"})]}):l.jsxs(Re,{onClick:w,className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",children:["Submit MVP Request",l.jsx(Sr,{className:"ml-2 h-4 w-4"})]})]})]})]})})})]}),l.jsx(Ur,{})]})},pU=({currentStep:n,steps:e})=>l.jsx("div",{className:"bg-white border-b border-gray-200 py-8",children:l.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"flex items-center justify-between",children:e.map((t,r)=>l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${n>=t.number?"bg-purple-600 border-purple-600 text-white":n===t.number?"border-purple-600 text-purple-600 bg-white":"border-gray-300 text-gray-400 bg-white"}`,children:n>t.number?l.jsx(rr,{className:"h-6 w-6"}):t.number}),l.jsxs("div",{className:"ml-4 hidden md:block",children:[l.jsx("p",{className:`text-sm font-medium ${n>=t.number?"text-gray-900":"text-gray-500"}`,children:t.title}),l.jsx("p",{className:"text-sm text-gray-500",children:t.description})]})]}),r<e.length-1&&l.jsx("div",{className:"flex-1 mx-8 h-0.5 bg-gray-200",children:l.jsx("div",{className:`h-full transition-all duration-500 ${n>t.number?"bg-purple-600 w-full":"bg-purple-600 w-0"}`})})]},t.number))})})});var mM="Radio",[YZ,mU]=Sa(mM),[$Z,qZ]=YZ(mM),gU=C.forwardRef((n,e)=>{const{__scopeRadio:t,name:r,checked:i=!1,required:s,disabled:o,value:a="on",onCheck:c,form:u,...d}=n,[f,m]=C.useState(null),g=pn(e,w=>m(w)),v=C.useRef(!1),y=f?u||!!f.closest("form"):!0;return l.jsxs($Z,{scope:t,checked:i,disabled:o,children:[l.jsx(Nt.button,{type:"button",role:"radio","aria-checked":i,"data-state":yU(i),"data-disabled":o?"":void 0,disabled:o,value:a,...d,ref:g,onClick:$e(n.onClick,w=>{i||c==null||c(),y&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),y&&l.jsx(QZ,{control:f,bubbles:!v.current,name:r,value:a,checked:i,required:s,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});gU.displayName=mM;var xU="RadioIndicator",vU=C.forwardRef((n,e)=>{const{__scopeRadio:t,forceMount:r,...i}=n,s=qZ(xU,t);return l.jsx(So,{present:r||s.checked,children:l.jsx(Nt.span,{"data-state":yU(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e})})});vU.displayName=xU;var QZ=n=>{const{control:e,checked:t,bubbles:r=!0,...i}=n,s=C.useRef(null),o=lM(t),a=EC(e);return C.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==t&&f){const m=new Event("click",{bubbles:r});f.call(c,t),c.dispatchEvent(m)}},[o,t,r]),l.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:t,...i,tabIndex:-1,ref:s,style:{...n.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function yU(n){return n?"checked":"unchecked"}var ZZ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],gM="RadioGroup",[eee,Phe]=Sa(gM,[Hh,mU]),wU=Hh(),_U=mU(),[tee,nee]=eee(gM),bU=C.forwardRef((n,e)=>{const{__scopeRadioGroup:t,name:r,defaultValue:i,value:s,required:o=!1,disabled:a=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...m}=n,g=wU(t),v=Tm(u),[y,w]=Il({prop:s,defaultProp:i,onChange:f});return l.jsx(tee,{scope:t,name:r,required:o,disabled:a,value:y,onValueChange:w,children:l.jsx(qC,{asChild:!0,...g,orientation:c,dir:v,loop:d,children:l.jsx(Nt.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":a?"":void 0,dir:v,...m,ref:e})})})});bU.displayName=gM;var SU="RadioGroupItem",AU=C.forwardRef((n,e)=>{const{__scopeRadioGroup:t,disabled:r,...i}=n,s=nee(SU,t),o=s.disabled||r,a=wU(t),c=_U(t),u=C.useRef(null),d=pn(e,u),f=s.value===i.value,m=C.useRef(!1);return C.useEffect(()=>{const g=y=>{ZZ.includes(y.key)&&(m.current=!0)},v=()=>m.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",v)}},[]),l.jsx(QC,{asChild:!0,...a,focusable:!o,active:f,children:l.jsx(gU,{disabled:o,required:s.required,checked:f,...c,...i,name:s.name,ref:d,onCheck:()=>s.onValueChange(i.value),onKeyDown:$e(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:$e(i.onFocus,()=>{var g;m.current&&((g=u.current)==null||g.click())})})})});AU.displayName=SU;var ree="RadioGroupIndicator",EU=C.forwardRef((n,e)=>{const{__scopeRadioGroup:t,...r}=n,i=_U(t);return l.jsx(vU,{...i,...r,ref:e})});EU.displayName=ree;var CU=bU,MU=AU,iee=EU;const TU=C.forwardRef(({className:n,...e},t)=>l.jsx(CU,{className:jt("grid gap-2",n),...e,ref:t}));TU.displayName=CU.displayName;const Qf=C.forwardRef(({className:n,...e},t)=>l.jsx(MU,{ref:t,className:jt("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:l.jsx(iee,{className:"flex items-center justify-center",children:l.jsx(J3,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Qf.displayName=MU.displayName;const see=["GenZ","SMEs","Millennials","B2B","B2C","Enterprises","Startups"],T2="https://097a-2401-4900-1c27-4d9a-34c0-5d47-b2e1-2c49.ngrok-free.app/api",N2=({state:n,dispatch:e})=>{const{currentUser:t}=Jl();console.log("uid:"+t.uid);const[r,i]=C.useState(""),[s,o]=C.useState({}),[a,c]=C.useState(!1),[u,d]=C.useState(!1),[f,m]=C.useState(!1),[g,v]=C.useState(null),[y,w]=C.useState(!1),[x,b]=C.useState(null),S=_u(),A=R=>{R&&!n.idea.audience.includes(R)&&(e({type:"UPDATE_IDEA",payload:{audience:[...n.idea.audience,R]}}),i(""))},T=R=>{e({type:"UPDATE_IDEA",payload:{audience:n.idea.audience.filter(k=>k!==R)}})},N=()=>{const R={};return n.idea.name.trim()||(R.name="Product name is required"),n.idea.description.length<100&&(R.description="Description must be at least 100 characters"),n.idea.audience.length===0&&(R.audience="At least one target audience is required"),(!n.idea.mail||!n.idea.mail.includes("@"))&&(R.mail="Valid email is required"),(!n.idea.phone_number||n.idea.phone_number.length<10)&&(R.phone_number="Valid phone number is required"),o(R),Object.keys(R).length===0},P=async()=>{if(!N()){console.warn(" Form validation failed. Analysis aborted.");return}w(!0),b(null);const R={title:n.idea.name,description:n.idea.description,targetAudience:n.idea.audience.join(","),platform:n.idea.platform};try{console.log(" Sending data for analysis...");const k=await fetch(`${T2}/mvp/mvp/analyze`,{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"any-value"},body:JSON.stringify(R)});if(!k.ok)throw new Error(`Analysis failed with status ${k.status}`);const G=await k.json();v(G),m(!0),console.log(" Analysis successful:",G)}catch(k){console.error(" Analysis error:",k),b("Failed to analyze the idea. Please try again.")}finally{w(!1)}},D=async()=>{if(!g){console.warn("Analysis not completed yet");return}c(!0);const R={type:"MVP Development",title:n.idea.name,description:n.idea.description,targetAudience:n.idea.audience.join(","),platform:n.idea.platform,pdfUrl:"https://example.com/file.pdf",uid:t.uid,userId:"1234",contactEmail:n.idea.mail,contactPhone:n.idea.phone_number,demoUrl:"",isPaid:!1,price:4999,priority:"High",prompt:g.aiSummary,files:[{fileName:"doc.pdf",fileUrl:"https://..."}],milestones:[{name:"Design",completed:!1}],recentActivity:[{action:"Submitted",by:"User"}]};try{console.log(" Data submission endpoint triggered"),console.log("data sending "+JSON.stringify(R,null,2));const k=await fetch(`${T2}/mvp`,{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"any-value"},body:JSON.stringify(R)}),G=await k.text();console.log(" Response:",G),k.ok?(console.log(" Form submitted successfully!"),d(!0)):console.error(" Error submitting form:",k.statusText)}catch(k){console.error(" Submission error:",k)}finally{c(!1)}},I=()=>{m(!1),v(null)};return l.jsxs(l.Fragment,{children:[l.jsxs(rt,{className:"max-w-4xl mx-auto",children:[l.jsx(Ot,{children:l.jsx(Ft,{className:"text-2xl font-bold text-center",children:f?"Review AI Analysis":"Submit Your MVP Idea"})}),f?l.jsx(it,{className:"space-y-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"AI Analysis of Your Idea"}),x?l.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:x}):l.jsxs(l.Fragment,{children:[l.jsx(yi,{value:(g==null?void 0:g.aiSummary)||"",readOnly:!0,rows:10,className:"bg-gray-50"}),l.jsxs("div",{className:"flex justify-between gap-4",children:[l.jsx(Re,{variant:"outline",onClick:I,className:"flex-1",children:"Edit Idea"}),l.jsx(Re,{onClick:D,className:"flex-1 bg-green-600 hover:bg-green-700",disabled:a,children:a?"Submitting...":"Confirm & Submit"})]})]})]})}):l.jsxs(it,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"product-name",children:"Product Name"}),l.jsx(fn,{id:"product-name",value:n.idea.name,onChange:R=>e({type:"UPDATE_IDEA",payload:{name:R.target.value}}),placeholder:"Enter your product name",className:s.name?"border-red-500":""}),s.name&&l.jsx("p",{className:"text-red-500 text-sm",children:s.name})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"description",children:"Description"}),l.jsx(yi,{id:"description",value:n.idea.description,onChange:R=>e({type:"UPDATE_IDEA",payload:{description:R.target.value}}),placeholder:"Describe your product idea in detail (minimum 100 characters)",rows:6,className:s.description?"border-red-500":""}),l.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[l.jsxs("span",{children:[n.idea.description.length,"/100 characters minimum"]}),s.description&&l.jsx("span",{className:"text-red-500",children:s.description})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{children:"Target Audience"}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:n.idea.audience.map(R=>l.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[R,l.jsx("button",{onClick:()=>T(R),className:"text-blue-600 hover:text-blue-800",children:""})]},R))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(fn,{value:r,onChange:R=>i(R.target.value),placeholder:"Add target audience",onKeyPress:R=>{R.key==="Enter"&&(R.preventDefault(),A(r))}}),l.jsx(Re,{type:"button",variant:"outline",onClick:()=>A(r),children:"Add"})]}),l.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[l.jsx("span",{className:"text-sm text-gray-500",children:"Suggestions:"}),see.map(R=>l.jsx("button",{onClick:()=>A(R),className:"text-xs bg-gray-100 hover:bg-gray-200 px-2 py-1 rounded",children:R},R))]}),s.audience&&l.jsx("p",{className:"text-red-500 text-sm",children:s.audience})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{children:"Platform"}),l.jsxs(TU,{value:n.idea.platform,onValueChange:R=>e({type:"UPDATE_IDEA",payload:{platform:R}}),children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Qf,{value:"mobile",id:"mobile"}),l.jsx(ut,{htmlFor:"mobile",children:"Mobile App"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Qf,{value:"web",id:"web"}),l.jsx(ut,{htmlFor:"web",children:"Web App"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Qf,{value:"desktop",id:"desktop"}),l.jsx(ut,{htmlFor:"desktop",children:"Desktop"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Qf,{value:"cross",id:"cross"}),l.jsx(ut,{htmlFor:"cross",children:"Cross-Platform"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"email",children:"Email"}),l.jsx(fn,{id:"email",value:n.idea.mail||"",onChange:R=>e({type:"UPDATE_IDEA",payload:{mail:R.target.value}}),placeholder:"Enter your email",className:s.mail?"border-red-500":""}),s.mail&&l.jsx("p",{className:"text-red-500 text-sm",children:s.mail})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{htmlFor:"phone-number",children:"Phone Number"}),l.jsx(fn,{id:"phone-number",value:n.idea.phone_number||"",onChange:R=>e({type:"UPDATE_IDEA",payload:{phone_number:R.target.value}}),placeholder:"Enter your phone number",className:s.phone_number?"border-red-500":""}),s.phone_number&&l.jsx("p",{className:"text-red-500 text-sm",children:s.phone_number})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ut,{children:"Attachments"}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[l.jsx("p",{className:"text-gray-500",children:"Drag & drop files here (PDF, FIGMA, ZIP)"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Or click to browse files"})]})]}),l.jsx(Re,{onClick:P,className:"w-full bg-purple-600 hover:bg-purple-700",size:"lg",disabled:y,children:y?"Analyzing...":"Analyze Idea"})]})]}),u&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full",children:[l.jsx("h2",{className:"text-lg font-semibold mb-2",children:" Submission Successful!"}),l.jsx("p",{className:"mb-4",children:"Your idea submission was successful. Our developers will review your requirements and contact you within 24 hrs through mail or mobile. You can review your idea in your projects section."}),l.jsx("div",{className:"flex justify-end",children:l.jsx(Re,{onClick:()=>S("/dashboard"),className:"bg-green-600 hover:bg-green-700 text-white",children:"Go to Projects section"})})]})})]})};function NU(n,e){return function(){return n.apply(e,arguments)}}const{toString:oee}=Object.prototype,{getPrototypeOf:xM}=Object,{iterator:xw,toStringTag:RU}=Symbol,vw=(n=>e=>{const t=oee.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Vs=n=>(n=n.toLowerCase(),e=>vw(e)===n),yw=n=>e=>typeof e===n,{isArray:Vh}=Array,Qp=yw("undefined");function aee(n){return n!==null&&!Qp(n)&&n.constructor!==null&&!Qp(n.constructor)&&Ai(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const PU=Vs("ArrayBuffer");function lee(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&PU(n.buffer),e}const cee=yw("string"),Ai=yw("function"),IU=yw("number"),ww=n=>n!==null&&typeof n=="object",uee=n=>n===!0||n===!1,Uv=n=>{if(vw(n)!=="object")return!1;const e=xM(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(RU in n)&&!(xw in n)},dee=Vs("Date"),hee=Vs("File"),fee=Vs("Blob"),pee=Vs("FileList"),mee=n=>ww(n)&&Ai(n.pipe),gee=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Ai(n.append)&&((e=vw(n))==="formdata"||e==="object"&&Ai(n.toString)&&n.toString()==="[object FormData]"))},xee=Vs("URLSearchParams"),[vee,yee,wee,_ee]=["ReadableStream","Request","Response","Headers"].map(Vs),bee=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dm(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Vh(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,n[a],a,n)}}function DU(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const Lc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,BU=n=>!Qp(n)&&n!==Lc;function VA(){const{caseless:n}=BU(this)&&this||{},e={},t=(r,i)=>{const s=n&&DU(e,i)||i;Uv(e[s])&&Uv(r)?e[s]=VA(e[s],r):Uv(r)?e[s]=VA({},r):Vh(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Dm(arguments[r],t);return e}const See=(n,e,t,{allOwnKeys:r}={})=>(Dm(e,(i,s)=>{t&&Ai(i)?n[s]=NU(i,t):n[s]=i},{allOwnKeys:r}),n),Aee=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Eee=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Cee=(n,e,t,r)=>{let i,s,o;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&xM(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Mee=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},Tee=n=>{if(!n)return null;if(Vh(n))return n;let e=n.length;if(!IU(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},Nee=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&xM(Uint8Array)),Ree=(n,e)=>{const r=(n&&n[xw]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},Pee=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},Iee=Vs("HTMLFormElement"),Dee=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),R2=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),Bee=Vs("RegExp"),LU=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Dm(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},Lee=n=>{LU(n,(e,t)=>{if(Ai(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Ai(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},kee=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return Vh(n)?r(n):r(String(n).split(e)),t},Oee=()=>{},Fee=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function jee(n){return!!(n&&Ai(n.append)&&n[RU]==="FormData"&&n[xw])}const Uee=n=>{const e=new Array(10),t=(r,i)=>{if(ww(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Vh(r)?[]:{};return Dm(r,(o,a)=>{const c=t(o,i+1);!Qp(c)&&(s[a]=c)}),e[i]=void 0,s}}return r};return t(n,0)},zee=Vs("AsyncFunction"),Hee=n=>n&&(ww(n)||Ai(n))&&Ai(n.then)&&Ai(n.catch),kU=((n,e)=>n?setImmediate:e?((t,r)=>(Lc.addEventListener("message",({source:i,data:s})=>{i===Lc&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Lc.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Ai(Lc.postMessage)),Gee=typeof queueMicrotask<"u"?queueMicrotask.bind(Lc):typeof process<"u"&&process.nextTick||kU,Vee=n=>n!=null&&Ai(n[xw]),me={isArray:Vh,isArrayBuffer:PU,isBuffer:aee,isFormData:gee,isArrayBufferView:lee,isString:cee,isNumber:IU,isBoolean:uee,isObject:ww,isPlainObject:Uv,isReadableStream:vee,isRequest:yee,isResponse:wee,isHeaders:_ee,isUndefined:Qp,isDate:dee,isFile:hee,isBlob:fee,isRegExp:Bee,isFunction:Ai,isStream:mee,isURLSearchParams:xee,isTypedArray:Nee,isFileList:pee,forEach:Dm,merge:VA,extend:See,trim:bee,stripBOM:Aee,inherits:Eee,toFlatObject:Cee,kindOf:vw,kindOfTest:Vs,endsWith:Mee,toArray:Tee,forEachEntry:Ree,matchAll:Pee,isHTMLForm:Iee,hasOwnProperty:R2,hasOwnProp:R2,reduceDescriptors:LU,freezeMethods:Lee,toObjectSet:kee,toCamelCase:Dee,noop:Oee,toFiniteNumber:Fee,findKey:DU,global:Lc,isContextDefined:BU,isSpecCompliantForm:jee,toJSONObject:Uee,isAsyncFn:zee,isThenable:Hee,setImmediate:kU,asap:Gee,isIterable:Vee};function kt(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}me.inherits(kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const OU=kt.prototype,FU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{FU[n]={value:n}});Object.defineProperties(kt,FU);Object.defineProperty(OU,"isAxiosError",{value:!0});kt.from=(n,e,t,r,i,s)=>{const o=Object.create(OU);return me.toFlatObject(n,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),kt.call(o,n.message,e,t,r,i),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const Wee=null;function WA(n){return me.isPlainObject(n)||me.isArray(n)}function jU(n){return me.endsWith(n,"[]")?n.slice(0,-2):n}function P2(n,e,t){return n?n.concat(e).map(function(i,s){return i=jU(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function Xee(n){return me.isArray(n)&&!n.some(WA)}const Kee=me.toFlatObject(me,{},null,function(e){return/^is[A-Z]/.test(e)});function _w(n,e,t){if(!me.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=me.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,w){return!me.isUndefined(w[y])});const r=t.metaTokens,i=t.visitor||d,s=t.dots,o=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(e);if(!me.isFunction(i))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(me.isDate(v))return v.toISOString();if(!c&&me.isBlob(v))throw new kt("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(v)||me.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,y,w){let x=v;if(v&&!w&&typeof v=="object"){if(me.endsWith(y,"{}"))y=r?y:y.slice(0,-2),v=JSON.stringify(v);else if(me.isArray(v)&&Xee(v)||(me.isFileList(v)||me.endsWith(y,"[]"))&&(x=me.toArray(v)))return y=jU(y),x.forEach(function(S,A){!(me.isUndefined(S)||S===null)&&e.append(o===!0?P2([y],A,s):o===null?y:y+"[]",u(S))}),!1}return WA(v)?!0:(e.append(P2(w,y,s),u(v)),!1)}const f=[],m=Object.assign(Kee,{defaultVisitor:d,convertValue:u,isVisitable:WA});function g(v,y){if(!me.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(v),me.forEach(v,function(x,b){(!(me.isUndefined(x)||x===null)&&i.call(e,x,me.isString(b)?b.trim():b,y,m))===!0&&g(x,y?y.concat(b):[b])}),f.pop()}}if(!me.isObject(n))throw new TypeError("data must be an object");return g(n),e}function I2(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function vM(n,e){this._pairs=[],n&&_w(n,this,e)}const UU=vM.prototype;UU.append=function(e,t){this._pairs.push([e,t])};UU.toString=function(e){const t=e?function(r){return e.call(this,r,I2)}:I2;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function Jee(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zU(n,e,t){if(!e)return n;const r=t&&t.encode||Jee;me.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=me.isURLSearchParams(e)?e.toString():new vM(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class D2{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){me.forEach(this.handlers,function(r){r!==null&&e(r)})}}const HU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yee=typeof URLSearchParams<"u"?URLSearchParams:vM,$ee=typeof FormData<"u"?FormData:null,qee=typeof Blob<"u"?Blob:null,Qee={isBrowser:!0,classes:{URLSearchParams:Yee,FormData:$ee,Blob:qee},protocols:["http","https","file","blob","url","data"]},yM=typeof window<"u"&&typeof document<"u",XA=typeof navigator=="object"&&navigator||void 0,Zee=yM&&(!XA||["ReactNative","NativeScript","NS"].indexOf(XA.product)<0),ete=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tte=yM&&window.location.href||"http://localhost",nte=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yM,hasStandardBrowserEnv:Zee,hasStandardBrowserWebWorkerEnv:ete,navigator:XA,origin:tte},Symbol.toStringTag,{value:"Module"})),Or={...nte,...Qee};function rte(n,e){return _w(n,new Or.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return Or.isNode&&me.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function ite(n){return me.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ste(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function GU(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=s>=t.length;return o=!o&&me.isArray(i)?i.length:o,c?(me.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!me.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&me.isArray(i[o])&&(i[o]=ste(i[o])),!a)}if(me.isFormData(n)&&me.isFunction(n.entries)){const t={};return me.forEachEntry(n,(r,i)=>{e(ite(r),i,t,0)}),t}return null}function ote(n,e,t){if(me.isString(n))try{return(e||JSON.parse)(n),me.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(n)}const Bm={transitional:HU,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=me.isObject(e);if(s&&me.isHTMLForm(e)&&(e=new FormData(e)),me.isFormData(e))return i?JSON.stringify(GU(e)):e;if(me.isArrayBuffer(e)||me.isBuffer(e)||me.isStream(e)||me.isFile(e)||me.isBlob(e)||me.isReadableStream(e))return e;if(me.isArrayBufferView(e))return e.buffer;if(me.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return rte(e,this.formSerializer).toString();if((a=me.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return _w(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),ote(e)):e}],transformResponse:[function(e){const t=this.transitional||Bm.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(me.isResponse(e)||me.isReadableStream(e))return e;if(e&&me.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?kt.from(a,kt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Or.classes.FormData,Blob:Or.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],n=>{Bm.headers[n]={}});const ate=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lte=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&ate[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},B2=Symbol("internals");function Tf(n){return n&&String(n).trim().toLowerCase()}function zv(n){return n===!1||n==null?n:me.isArray(n)?n.map(zv):String(n)}function cte(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const ute=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function uS(n,e,t,r,i){if(me.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!me.isString(e)){if(me.isString(r))return e.indexOf(r)!==-1;if(me.isRegExp(r))return r.test(e)}}function dte(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function hte(n,e){const t=me.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Ei{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(a,c,u){const d=Tf(c);if(!d)throw new Error("header name must be a non-empty string");const f=me.findKey(i,d);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||c]=zv(a))}const o=(a,c)=>me.forEach(a,(u,d)=>s(u,d,c));if(me.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(me.isString(e)&&(e=e.trim())&&!ute(e))o(lte(e),t);else if(me.isObject(e)&&me.isIterable(e)){let a={},c,u;for(const d of e){if(!me.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(c=a[u])?me.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(a,t)}else e!=null&&s(t,e,r);return this}get(e,t){if(e=Tf(e),e){const r=me.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return cte(i);if(me.isFunction(t))return t.call(this,i,r);if(me.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Tf(e),e){const r=me.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||uS(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=Tf(o),o){const a=me.findKey(r,o);a&&(!t||uS(r,r[a],a,t))&&(delete r[a],i=!0)}}return me.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||uS(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return me.forEach(this,(i,s)=>{const o=me.findKey(r,s);if(o){t[o]=zv(i),delete t[s];return}const a=e?dte(s):String(s).trim();a!==s&&delete t[s],t[a]=zv(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return me.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&me.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[B2]=this[B2]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Tf(o);r[a]||(hte(i,o),r[a]=!0)}return me.isArray(e)?e.forEach(s):s(e),this}}Ei.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(Ei.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});me.freezeMethods(Ei);function dS(n,e){const t=this||Bm,r=e||t,i=Ei.from(r.headers);let s=r.data;return me.forEach(n,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function VU(n){return!!(n&&n.__CANCEL__)}function Wh(n,e,t){kt.call(this,n??"canceled",kt.ERR_CANCELED,e,t),this.name="CanceledError"}me.inherits(Wh,kt,{__CANCEL__:!0});function WU(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new kt("Request failed with status code "+t.status,[kt.ERR_BAD_REQUEST,kt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function fte(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function pte(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=r[s];o||(o=u),t[i]=c,r[i]=u;let f=s,m=0;for(;f!==i;)m+=t[f++],f=f%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),u-o<e)return;const g=d&&u-d;return g?Math.round(m*1e3/g):void 0}}function mte(n,e){let t=0,r=1e3/e,i,s;const o=(u,d=Date.now())=>{t=d,i=null,s&&(clearTimeout(s),s=null),n.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-t;f>=r?o(u,d):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-f)))},()=>i&&o(i)]}const O0=(n,e,t=3)=>{let r=0;const i=pte(50,250);return mte(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,c=o-r,u=i(c),d=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(f)},t)},L2=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},k2=n=>(...e)=>me.asap(()=>n(...e)),gte=Or.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Or.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Or.origin),Or.navigator&&/(msie|trident)/i.test(Or.navigator.userAgent)):()=>!0,xte=Or.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const o=[n+"="+encodeURIComponent(e)];me.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),me.isString(r)&&o.push("path="+r),me.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vte(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function yte(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function XU(n,e,t){let r=!vte(e);return n&&(r||t==!1)?yte(n,e):e}const O2=n=>n instanceof Ei?{...n}:n;function uu(n,e){e=e||{};const t={};function r(u,d,f,m){return me.isPlainObject(u)&&me.isPlainObject(d)?me.merge.call({caseless:m},u,d):me.isPlainObject(d)?me.merge({},d):me.isArray(d)?d.slice():d}function i(u,d,f,m){if(me.isUndefined(d)){if(!me.isUndefined(u))return r(void 0,u,f,m)}else return r(u,d,f,m)}function s(u,d){if(!me.isUndefined(d))return r(void 0,d)}function o(u,d){if(me.isUndefined(d)){if(!me.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,f){if(f in e)return r(u,d);if(f in n)return r(void 0,u)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,f)=>i(O2(u),O2(d),f,!0)};return me.forEach(Object.keys(Object.assign({},n,e)),function(d){const f=c[d]||i,m=f(n[d],e[d],d);me.isUndefined(m)&&f!==a||(t[d]=m)}),t}const KU=n=>{const e=uu({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Ei.from(o),e.url=zU(XU(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(me.isFormData(t)){if(Or.hasStandardBrowserEnv||Or.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Or.hasStandardBrowserEnv&&(r&&me.isFunction(r)&&(r=r(e)),r||r!==!1&&gte(e.url))){const u=i&&s&&xte.read(s);u&&o.set(i,u)}return e},wte=typeof XMLHttpRequest<"u",_te=wte&&function(n){return new Promise(function(t,r){const i=KU(n);let s=i.data;const o=Ei.from(i.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=i,d,f,m,g,v;function y(){g&&g(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function x(){if(!w)return;const S=Ei.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:S,config:n,request:w};WU(function(P){t(P),y()},function(P){r(P),y()},T),w=null}"onloadend"in w?w.onloadend=x:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(x)},w.onabort=function(){w&&(r(new kt("Request aborted",kt.ECONNABORTED,n,w)),w=null)},w.onerror=function(){r(new kt("Network Error",kt.ERR_NETWORK,n,w)),w=null},w.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||HU;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),r(new kt(A,T.clarifyTimeoutError?kt.ETIMEDOUT:kt.ECONNABORTED,n,w)),w=null},s===void 0&&o.setContentType(null),"setRequestHeader"in w&&me.forEach(o.toJSON(),function(A,T){w.setRequestHeader(T,A)}),me.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),a&&a!=="json"&&(w.responseType=i.responseType),u&&([m,v]=O0(u,!0),w.addEventListener("progress",m)),c&&w.upload&&([f,g]=O0(c),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(d=S=>{w&&(r(!S||S.type?new Wh(null,n,w):S),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const b=fte(i.url);if(b&&Or.protocols.indexOf(b)===-1){r(new kt("Unsupported protocol "+b+":",kt.ERR_BAD_REQUEST,n));return}w.send(s||null)})},bte=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof kt?d:new Wh(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new kt(`timeout ${e} of ms exceeded`,kt.ETIMEDOUT))},e);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),n=null)};n.forEach(u=>u.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>me.asap(a),c}},Ste=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},Ate=async function*(n,e){for await(const t of Ete(n))yield*Ste(t,e)},Ete=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},F2=(n,e,t,r)=>{const i=Ate(n,e);let s=0,o,a=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){a(),c.close();return}let f=d.byteLength;if(t){let m=s+=f;t(m)}c.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(c){return a(c),i.return()}},{highWaterMark:2})},bw=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",JU=bw&&typeof ReadableStream=="function",Cte=bw&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),YU=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Mte=JU&&YU(()=>{let n=!1;const e=new Request(Or.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),j2=64*1024,KA=JU&&YU(()=>me.isReadableStream(new Response("").body)),F0={stream:KA&&(n=>n.body)};bw&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!F0[e]&&(F0[e]=me.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new kt(`Response type '${e}' is not supported`,kt.ERR_NOT_SUPPORT,r)})})})(new Response);const Tte=async n=>{if(n==null)return 0;if(me.isBlob(n))return n.size;if(me.isSpecCompliantForm(n))return(await new Request(Or.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(me.isArrayBufferView(n)||me.isArrayBuffer(n))return n.byteLength;if(me.isURLSearchParams(n)&&(n=n+""),me.isString(n))return(await Cte(n)).byteLength},Nte=async(n,e)=>{const t=me.toFiniteNumber(n.getContentLength());return t??Tte(e)},Rte=bw&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:m}=KU(n);u=u?(u+"").toLowerCase():"text";let g=bte([i,s&&s.toAbortSignal()],o),v;const y=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let w;try{if(c&&Mte&&t!=="get"&&t!=="head"&&(w=await Nte(d,r))!==0){let T=new Request(e,{method:"POST",body:r,duplex:"half"}),N;if(me.isFormData(r)&&(N=T.headers.get("content-type"))&&d.setContentType(N),T.body){const[P,D]=L2(w,O0(k2(c)));r=F2(T.body,j2,P,D)}}me.isString(f)||(f=f?"include":"omit");const x="credentials"in Request.prototype;v=new Request(e,{...m,signal:g,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:x?f:void 0});let b=await fetch(v);const S=KA&&(u==="stream"||u==="response");if(KA&&(a||S&&y)){const T={};["status","statusText","headers"].forEach(I=>{T[I]=b[I]});const N=me.toFiniteNumber(b.headers.get("content-length")),[P,D]=a&&L2(N,O0(k2(a),!0))||[];b=new Response(F2(b.body,j2,P,()=>{D&&D(),y&&y()}),T)}u=u||"text";let A=await F0[me.findKey(F0,u)||"text"](b,n);return!S&&y&&y(),await new Promise((T,N)=>{WU(T,N,{data:A,headers:Ei.from(b.headers),status:b.status,statusText:b.statusText,config:n,request:v})})}catch(x){throw y&&y(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new kt("Network Error",kt.ERR_NETWORK,n,v),{cause:x.cause||x}):kt.from(x,x&&x.code,n,v)}}),JA={http:Wee,xhr:_te,fetch:Rte};me.forEach(JA,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const U2=n=>`- ${n}`,Pte=n=>me.isFunction(n)||n===null||n===!1,$U={getAdapter:n=>{n=me.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let o;if(r=t,!Pte(t)&&(r=JA[(o=String(t)).toLowerCase()],r===void 0))throw new kt(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(U2).join(`
`):" "+U2(s[0]):"as no adapter specified";throw new kt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:JA};function hS(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Wh(null,n)}function z2(n){return hS(n),n.headers=Ei.from(n.headers),n.data=dS.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),$U.getAdapter(n.adapter||Bm.adapter)(n).then(function(r){return hS(n),r.data=dS.call(n,n.transformResponse,r),r.headers=Ei.from(r.headers),r},function(r){return VU(r)||(hS(n),r&&r.response&&(r.response.data=dS.call(n,n.transformResponse,r.response),r.response.headers=Ei.from(r.response.headers))),Promise.reject(r)})}const qU="1.9.0",Sw={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Sw[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const H2={};Sw.transitional=function(e,t,r){function i(s,o){return"[Axios v"+qU+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new kt(i(o," has been removed"+(t?" in "+t:"")),kt.ERR_DEPRECATED);return t&&!H2[o]&&(H2[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};Sw.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Ite(n,e,t){if(typeof n!="object")throw new kt("options must be an object",kt.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=n[s],c=a===void 0||o(a,s,n);if(c!==!0)throw new kt("option "+s+" must be "+c,kt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new kt("Unknown option "+s,kt.ERR_BAD_OPTION)}}const Hv={assertOptions:Ite,validators:Sw},no=Hv.validators;class Jc{constructor(e){this.defaults=e||{},this.interceptors={request:new D2,response:new D2}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=uu(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&Hv.assertOptions(r,{silentJSONParsing:no.transitional(no.boolean),forcedJSONParsing:no.transitional(no.boolean),clarifyTimeoutError:no.transitional(no.boolean)},!1),i!=null&&(me.isFunction(i)?t.paramsSerializer={serialize:i}:Hv.assertOptions(i,{encode:no.function,serialize:no.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Hv.assertOptions(t,{baseUrl:no.spelling("baseURL"),withXsrfToken:no.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&me.merge(s.common,s[t.method]);s&&me.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),t.headers=Ei.concat(o,s);const a=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(t)===!1||(c=c&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,f=0,m;if(!c){const v=[z2.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,u),m=v.length,d=Promise.resolve(t);f<m;)d=d.then(v[f++],v[f++]);return d}m=a.length;let g=t;for(f=0;f<m;){const v=a[f++],y=a[f++];try{g=v(g)}catch(w){y.call(this,w);break}}try{d=z2.call(this,g)}catch(v){return Promise.reject(v)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=uu(this.defaults,e);const t=XU(e.baseURL,e.url,e.allowAbsoluteUrls);return zU(t,e.params,e.paramsSerializer)}}me.forEach(["delete","get","head","options"],function(e){Jc.prototype[e]=function(t,r){return this.request(uu(r||{},{method:e,url:t,data:(r||{}).data}))}});me.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(uu(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Jc.prototype[e]=t(),Jc.prototype[e+"Form"]=t(!0)});class wM{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Wh(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new wM(function(i){e=i}),cancel:e}}}function Dte(n){return function(t){return n.apply(null,t)}}function Bte(n){return me.isObject(n)&&n.isAxiosError===!0}const YA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(YA).forEach(([n,e])=>{YA[e]=n});function QU(n){const e=new Jc(n),t=NU(Jc.prototype.request,e);return me.extend(t,Jc.prototype,e,{allOwnKeys:!0}),me.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return QU(uu(n,i))},t}const Tn=QU(Bm);Tn.Axios=Jc;Tn.CanceledError=Wh;Tn.CancelToken=wM;Tn.isCancel=VU;Tn.VERSION=qU;Tn.toFormData=_w;Tn.AxiosError=kt;Tn.Cancel=Tn.CanceledError;Tn.all=function(e){return Promise.all(e)};Tn.spread=Dte;Tn.isAxiosError=Bte;Tn.mergeConfig=uu;Tn.AxiosHeaders=Ei;Tn.formToJSON=n=>GU(me.isHTMLForm(n)?new FormData(n):n);Tn.getAdapter=$U.getAdapter;Tn.HttpStatusCode=YA;Tn.default=Tn;const Lte=[{type:"interactive",title:"Interactive Prototype",price:4999,features:["Interactive Figma prototype","Architecture diagram","Detailed feature specs","Priority roadmap"],description:"Fully interactive prototype with technical specs"}],kte=[{id:"1",title:"User Authentication",description:"Secure login and registration system",priority:"high"},{id:"2",title:"Dashboard",description:"Main user interface and navigation",priority:"high"},{id:"3",title:"Payment Integration",description:"Razorpay payment processing",priority:"medium"},{id:"4",title:"Push Notifications",description:"Real-time user notifications",priority:"low"}],Ote="rzp_live_BnPhMdUqppmXgD",fS="https://097a-2401-4900-1c27-4d9a-34c0-5d47-b2e1-2c49.ngrok-free.app/api",G2=n=>{const e=localStorage.getItem(`paymentStatus_${n}`);return e?JSON.parse(e):null},Fte=(n,e)=>{localStorage.setItem(`paymentStatus_${n}`,JSON.stringify(e))},jte=({state:n,dispatch:e})=>{var x,b,S,A,T;const{toast:t}=Gy(),i=(x=Wl().state)==null?void 0:x.projectData,[s,o]=C.useState(!1),[a,c]=C.useState(!1),{currentUser:u}=Jl(),d=((b=n.projectData)==null?void 0:b.paid)||((S=n.projectData)==null?void 0:S.id)&&G2(n.projectData.id),f=a||d;C.useEffect(()=>{if(i&&!n.projectData){const N={...i,icon:m(i.type),statusColor:"bg-blue-500",liveUrl:""};e({type:"SET_PROJECT_DATA",payload:N})}},[i,e]),C.useEffect(()=>{var N,P,D,I,R,k,G,K,J,Q,Y;console.log("Is project data available?",!!n.projectData),console.group(" Data from Dashboard"),console.log("Full project data:",n.projectData),console.log("Project title:",(N=n.projectData)==null?void 0:N.title),console.log("Project description:",(P=n.projectData)==null?void 0:P.description),console.log("Project type:",(D=n.projectData)==null?void 0:D.type),console.log("Project status:",(I=n.projectData)==null?void 0:I.status),console.log("Project progress:",(R=n.projectData)==null?void 0:R.progress),console.log("Project price:",(k=n.projectData)==null?void 0:k.price),console.log("Project LiveUrl:",(G=n.projectData)==null?void 0:G.liveUrl),console.log("Project milestones:",(K=n.projectData)==null?void 0:K.milestones),console.log("Project files:",(J=n.projectData)==null?void 0:J.files),console.log("Project recent activity:",(Q=n.projectData)==null?void 0:Q.recentActivity),console.log("Project paid:",(Y=n.projectData)==null?void 0:Y.paid),console.groupEnd()},[n.projectData]),C.useEffect(()=>{var N;(N=n.projectData)!=null&&N.id&&G2(n.projectData.id)&&e({type:"UPDATE_PAYMENTS",payload:{prototype:!0}})},[(A=n.projectData)==null?void 0:A.id,e]);const m=N=>{switch(N.toLowerCase()){case"mvp":return Ud;case"website":return js;case"3d":return ha;default:return ph}},g=()=>new Promise(N=>{const P=document.createElement("script");P.src="https://checkout.razorpay.com/v1/checkout.js",P.onload=()=>N(!0),P.onerror=()=>N(!1),document.body.appendChild(P)}),v=async(N,P)=>{if(console.log(" Initiating Razorpay payment with amount:",N,"and packageType:",P),!await g()){t({title:"Payment Error",description:"Failed to load Razorpay SDK.",variant:"destructive"}),console.error(" Razorpay SDK failed to load");return}try{const I=await Tn.post(`${fS}/v1/payments/order`,{amount:100,currency:"INR"});console.log(" Order created successfully:",I.data);const R={key:Ote,amount:100*100,currency:"INR",name:"IdeaLaunch",description:"Interactive Prototype",order_id:I.data.orderId,handler:function(G){console.log(" Razorpay payment successful:",G),y(G,P)},prefill:{name:"John Doe",email:"john@example.com",contact:"+1234567890"},theme:{color:"#7C3AED"},modal:{ondismiss:function(){t({title:"Payment Cancelled",description:"You cancelled the payment.",variant:"destructive"}),console.warn(" Razorpay modal dismissed")}}};new window.Razorpay(R).open()}catch(I){console.error(" Error creating Razorpay order:",I),t({title:"Payment Error",description:"Failed to initiate payment.",variant:"destructive"})}},y=async(N,P)=>{var R,k;console.log("Payment successful response:",N);let D;try{D=(await Tn.post(`${fS}/v1/payments/verify`,{orderId:N.razorpay_order_id,paymentId:N.razorpay_payment_id,signature:N.razorpay_signature})).data,console.log(" Payment verified on backend:",D)}catch(G){console.error(" Payment verification failed:",G),t({title:"Verification Error",description:"Payment verification failed on server.",variant:"destructive"});return}const I={mvp_user_id:(R=n.projectData)==null?void 0:R.id,uid:u.uid,paymentId:N.razorpay_payment_id,price:49,isPaid:!0,transactionStatus:"success",receipt:N.razorpay_order_id,currency:"INR",paymentSignature:N.razorpay_signature,userContact:N.razorpay_contact||"NA"};try{console.log(" Sending payment payload:",I);const G=await Tn.post(`${fS}/mvp/save/payment`,I);G.status===200?(console.log(" Payment record saved:",G.data),c(!0)):(console.warn(" Save payment did not return 200:",G.status),c(!1))}catch(G){console.error(" Failed to save payment record:",G),c(!1)}(k=n.projectData)!=null&&k.id&&Fte(n.projectData.id,!0),e({type:"SET_PREVIEW",payload:{type:P,accessToken:N.razorpay_payment_id,paymentStatus:"success",paymentId:N.razorpay_payment_id}}),e({type:"UPDATE_PAYMENTS",payload:{prototype:!0}}),t({title:"Payment Successful!",description:"Live Project Access Unlocked."})},w=N=>{const P=/(?:youtube\.com\/(?:watch\?v=|embed\/)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,D=N.match(P);return D?D[1]:""};return l.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs(rt,{className:"shadow-lg border",children:[l.jsx(Ot,{children:l.jsx(Ft,{className:"text-xl font-semibold text-gray-800",children:"Interactive Prototype"})}),l.jsx(it,{className:"relative p-0",children:l.jsxs("div",{className:`relative rounded-xl overflow-hidden transition-all duration-500 ease-in-out border bg-gradient-to-br from-gray-100 to-white ${s?"h-[480px]":"h-64"}`,children:[l.jsx("iframe",{className:"w-full h-full rounded-xl",src:`https://www.youtube.com/embed/${w(((T=n.projectData)==null?void 0:T.demoUrl)||"")}`,title:"YouTube video player",allowFullScreen:!0}),l.jsx("div",{className:"absolute bottom-3 right-3 z-10",children:l.jsx(Re,{variant:"secondary",size:"icon",onClick:()=>o(!s),className:"rounded-full shadow-md hover:scale-105 transition-transform",title:s?"Shrink Video":"Expand Video",children:s?l.jsx(V8,{className:"w-4 h-4 text-gray-700"}):l.jsx(k8,{className:"w-4 h-4 text-gray-700"})})})]})})]}),l.jsxs(rt,{children:[l.jsx(Ot,{children:l.jsx(Ft,{children:"Architecture Overview"})}),l.jsx(it,{children:l.jsx("div",{className:"bg-gray-50 rounded-lg p-4 h-48 flex items-center justify-center",children:l.jsxs("div",{className:"text-gray-500 text-center",children:[l.jsx("div",{className:"text-4xl mb-2",children:""}),l.jsx("p",{children:"System Architecture Diagram"}),l.jsx("p",{className:"text-sm",children:"(Mermaid.js visualization)"})]})})})]}),l.jsxs(rt,{children:[l.jsx(Ot,{children:l.jsx(Ft,{children:"Feature Breakdown"})}),l.jsx(it,{className:"space-y-3",children:kte.map(N=>l.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[l.jsx(In,{variant:N.priority==="high"?"destructive":N.priority==="medium"?"default":"secondary",children:N.priority}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold",children:N.title}),l.jsx("p",{className:"text-sm text-gray-600",children:N.description})]})]},N.id))})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(rt,{children:[l.jsx(Ot,{children:l.jsx(Ft,{children:"Choose Your Package"})}),l.jsx(it,{children:l.jsx("div",{className:"space-y-4",children:Lte.map(N=>{var P;return l.jsxs("div",{className:`border rounded-lg p-4 ${n.preview.type===N.type?"border-purple-500 bg-purple-50":"border-gray-200"}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg",children:N.title}),l.jsx("p",{className:"text-sm text-gray-600",children:N.description})]}),l.jsx("div",{className:"text-right",children:l.jsxs("span",{className:"text-2xl font-bold",children:["",N.price]})})]}),l.jsx("ul",{className:"space-y-1 mb-4",children:N.features.map((D,I)=>l.jsxs("li",{className:"text-sm flex items-center gap-2",children:[l.jsx("span",{className:"text-green-500",children:""}),D]},I))}),l.jsx(Re,{onClick:()=>v(N.price,N.type),className:"w-full bg-blue-600 hover:bg-blue-700",disabled:n.preview.type===N.type&&!!n.preview.accessToken||d,children:n.preview.type===N.type&&n.preview.accessToken||d?" Purchased":`Pay ${(P=n.projectData)==null?void 0:P.price} with Razorpay`})]},N.type)})})})]}),l.jsxs(rt,{children:[l.jsx(Ot,{children:l.jsx(Ft,{children:" Live Project Access"})}),l.jsx(it,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-gray-700 text-sm",children:"Complete your payment to unlock and view your live MVP deployment."}),l.jsx(Re,{className:`w-full ${f?"bg-purple-600 hover:bg-purple-700":"bg-gray-400 cursor-not-allowed"}`,disabled:!f,onClick:()=>{var N;if(f){const P=(N=n.projectData)==null?void 0:N.liveUrl;P&&window.open(P,"_blank")}console.log("view live project button is clicked ")},children:f?" View Live Project":" Locked  Complete Payment First"})]})})]}),l.jsxs(rt,{children:[l.jsx(Ot,{children:l.jsx(Ft,{children:"What happens next?"})}),l.jsx(it,{children:l.jsx("div",{className:"space-y-3 text-sm",children:["Your idea enters our review process","We create detailed wireframes and mockups","Development begins with regular updates","Final delivery with deployment options"].map((N,P)=>l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-purple-600 font-semibold",children:P+1})}),l.jsx("p",{children:N})]},P))})})]})]})]})},Ute=[{id:"review",title:"REVIEW",status:"done",dateStarted:"2024-01-15",dateCompleted:"2024-01-17",feedback:[]},{id:"design",title:"DESIGN",status:"in-progress",dateStarted:"2024-01-18",feedback:[],milestonePayment:299},{id:"development",title:"DEVELOPMENT",status:"pending",feedback:[],milestonePayment:499},{id:"ready",title:"READY",status:"pending",feedback:[]}],zte=({state:n,dispatch:e})=>{const[t,r]=C.useState(null),[i,s]=C.useState(""),o=d=>{switch(d){case"done":return"bg-green-500";case"in-progress":return"bg-blue-500";case"pending":return"bg-gray-400";default:return"bg-gray-400"}},a=d=>{switch(d){case"done":return l.jsx(In,{className:"bg-green-500",children:"Done"});case"in-progress":return l.jsx(In,{className:"bg-blue-500",children:"In Progress"});case"pending":return l.jsx(In,{variant:"secondary",children:"Pending"});default:return l.jsx(In,{variant:"secondary",children:"Pending"})}},c=(d,f)=>{console.log(`Processing payment of $${d} for ${f} phase`),f==="design"?e({type:"UPDATE_PAYMENTS",payload:{design:!0}}):f==="development"&&e({type:"UPDATE_PAYMENTS",payload:{development:!0}})},u=d=>{i.trim()&&(console.log(`Submitting feedback for ${d}: ${i}`),s(""),r(null))};return l.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[l.jsx(rt,{children:l.jsxs(Ot,{children:[l.jsx(Ft,{className:"text-center text-2xl",children:"Development Progress"}),l.jsx("p",{className:"text-center text-gray-600",children:"Track your MVP development journey"})]})}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gray-300"}),l.jsx("div",{className:"space-y-8",children:Ute.map((d,f)=>l.jsxs("div",{className:"relative flex items-start gap-6",children:[l.jsx("div",{className:`relative z-10 w-6 h-6 rounded-full border-4 border-white ${o(d.status)}`}),l.jsxs(rt,{className:"flex-1",children:[l.jsx(Ot,{children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx(Ft,{className:"text-lg",children:d.title}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a(d.status),d.milestonePayment&&l.jsxs(In,{variant:"outline",children:["$",d.milestonePayment," milestone"]})]})]}),d.status==="in-progress"&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Re,{size:"sm",variant:"outline",onClick:()=>r(d.id),children:"Add Feedback"}),l.jsx(Re,{size:"sm",variant:"outline",children:"Request Revision"})]})]})}),l.jsx(it,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-6 text-sm text-gray-600",children:[d.dateStarted&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Started:"})," ",d.dateStarted]}),d.dateCompleted&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Completed:"})," ",d.dateCompleted]})]}),l.jsxs("div",{className:"text-sm",children:[d.id==="review"&&l.jsx("p",{children:"Your idea has been reviewed and approved by our team. We've created an initial project plan and technical requirements."}),d.id==="design"&&l.jsx("p",{children:"Our designers are creating wireframes and high-fidelity mockups. You'll receive design files for review and approval."}),d.id==="development"&&l.jsx("p",{children:"Development team is building your MVP. You'll receive regular updates and preview builds for testing."}),d.id==="ready"&&l.jsx("p",{children:"Final testing and quality assurance. Your MVP will be ready for deployment and user acceptance testing."})]}),d.milestonePayment&&d.status==="in-progress"&&l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Milestone Payment Required"}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Pay $",d.milestonePayment," to approve this phase and continue development"]})]}),l.jsxs(Re,{onClick:()=>c(d.milestonePayment,d.title),className:"bg-yellow-600 hover:bg-yellow-700",children:["Pay $",d.milestonePayment]})]})}),t===d.id&&l.jsxs("div",{className:"border-t pt-4",children:[l.jsx("h4",{className:"font-medium mb-2",children:"Add Feedback"}),l.jsx(yi,{value:i,onChange:m=>s(m.target.value),placeholder:"Share your thoughts, suggestions, or concerns about this phase...",rows:3}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx(Re,{size:"sm",onClick:()=>u(d.id),children:"Submit Feedback"}),l.jsx(Re,{size:"sm",variant:"outline",onClick:()=>r(null),children:"Cancel"})]})]}),d.feedback.length>0&&l.jsxs("div",{className:"border-t pt-4",children:[l.jsx("h4",{className:"font-medium mb-2",children:"Previous Feedback"}),l.jsx("div",{className:"space-y-2",children:d.feedback.map(m=>l.jsxs("div",{className:"bg-gray-50 rounded p-3 text-sm",children:[l.jsx("p",{children:m.text}),l.jsx("span",{className:"text-gray-500 text-xs",children:m.timestamp})]},m.id))})]})]})})]})]},d.id))})]}),l.jsx(rt,{children:l.jsx(it,{className:"text-center py-8",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Need Help?"}),l.jsx("p",{className:"text-gray-600",children:"Our team is here to support you throughout the development process."}),l.jsx(Re,{variant:"outline",children:"Contact Support"})]})})})]})},Hte=({state:n,dispatch:e})=>{const t=s=>{console.log(`Processing promotion: ${s}`)},i=(()=>{switch(n.idea.platform){case"mobile":return{title:"Mobile App Ready!",links:[{label:"TestFlight (iOS)",url:"https://testflight.apple.com/join/..."},{label:"Play Store (Android)",url:"https://play.google.com/store/apps/..."}],promotions:[{type:"appstore",title:"Deploy to App Stores",price:199,description:"Submit to Apple App Store and Google Play Store"}]};case"web":return{title:"Web App Deployed!",links:[{label:"Live Web App",url:`https://${n.idea.name.toLowerCase().replace(/\s+/g,"-")}.idealaunch.io`}],promotions:[{type:"domain",title:"Custom Domain",price:15,description:"Connect your own domain (per year)"}]};case"desktop":return{title:"Desktop App Ready!",links:[{label:"Download for Windows",url:"/downloads/app-windows.exe"},{label:"Download for macOS",url:"/downloads/app-macos.dmg"},{label:"Download for Linux",url:"/downloads/app-linux.appimage"}],promotions:[]};case"cross":return{title:"Cross-Platform App Ready!",links:[{label:"Web App",url:`https://${n.idea.name.toLowerCase().replace(/\s+/g,"-")}.idealaunch.io`},{label:"Mobile App (TestFlight)",url:"https://testflight.apple.com/join/..."},{label:"Desktop Downloads",url:"/downloads"}],promotions:[{type:"appstore",title:"Deploy to App Stores",price:199,description:"Submit to Apple App Store and Google Play Store"},{type:"domain",title:"Custom Domain",price:15,description:"Connect your own domain (per year)"}]}}})();return l.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[l.jsx(rt,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-green-200",children:l.jsxs(it,{className:"text-center py-8",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h1",{className:"text-3xl font-bold text-green-800 mb-2",children:i.title}),l.jsxs("p",{className:"text-green-700",children:['Your MVP "',n.idea.name,'" has been successfully developed and is ready for use!']})]})}),l.jsxs(rt,{children:[l.jsx(Ot,{children:l.jsx(Ft,{children:"Access Your MVP"})}),l.jsx(it,{children:l.jsx("div",{className:"grid gap-4",children:i.links.map((s,o)=>l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:s.label}),l.jsx("p",{className:"text-sm text-gray-600",children:s.url})]}),l.jsx(Re,{asChild:!0,children:l.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",children:"Access"})})]},o))})})]}),n.preview.type==="investor"&&l.jsxs(rt,{children:[l.jsx(Ot,{children:l.jsx(Ft,{children:"Investor Package"})}),l.jsx(it,{children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[l.jsx("h3",{className:"font-medium mb-2",children:" Professional Report"}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Comprehensive PDF with market analysis, technical specifications, and financial projections."}),l.jsx(Re,{variant:"outline",size:"sm",children:"Download PDF"})]}),l.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[l.jsx("h3",{className:"font-medium mb-2",children:" Shareable Demo"}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Branded demo link perfect for investor presentations and pitches."}),l.jsx(Re,{variant:"outline",size:"sm",children:"Copy Link"})]})]})})]}),i.promotions.length>0&&l.jsxs(rt,{children:[l.jsxs(Ot,{children:[l.jsx(Ft,{children:"Promote to Production"}),l.jsx("p",{className:"text-gray-600",children:"Take your MVP to the next level with these optional services"})]}),l.jsx(it,{children:l.jsx("div",{className:"space-y-4",children:i.promotions.map((s,o)=>l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:s.title}),l.jsx("p",{className:"text-sm text-gray-600",children:s.description})]}),l.jsxs(In,{variant:"outline",children:["$",s.price,s.type==="domain"?"/yr":""]})]}),l.jsxs(Re,{onClick:()=>t(s.type),className:"bg-purple-600 hover:bg-purple-700",children:["Add for $",s.price,s.type==="domain"?"/yr":""]})]},o))})})]}),l.jsxs(rt,{children:[l.jsx(Ot,{children:l.jsx(Ft,{children:"Launch Kit"})}),l.jsxs(it,{children:[l.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl mb-2",children:""}),l.jsx("h3",{className:"font-medium",children:"Brand Assets"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Logos, icons, and brand guidelines"})]}),l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl mb-2",children:""}),l.jsx("h3",{className:"font-medium",children:"Analytics Code"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Track usage and user behavior"})]}),l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl mb-2",children:""}),l.jsx("h3",{className:"font-medium",children:"Support"}),l.jsx("p",{className:"text-sm text-gray-600",children:"30 days of technical support"})]})]}),l.jsxs("div",{className:"mt-4 text-center",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your launch kit has been sent to your email address"}),l.jsx(Re,{variant:"outline",children:"Resend Launch Kit"})]})]})]}),l.jsxs(rt,{children:[l.jsx(Ot,{children:l.jsx(Ft,{children:"What's Next?"})}),l.jsx(it,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mt-1",children:l.jsx("span",{className:"text-blue-600 font-semibold",children:"1"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Gather User Feedback"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Share your MVP with target users and collect feedback"})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mt-1",children:l.jsx("span",{className:"text-blue-600 font-semibold",children:"2"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Iterate and Improve"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Use feedback to plan your next development cycle"})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mt-1",children:l.jsx("span",{className:"text-blue-600 font-semibold",children:"3"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Scale Your Product"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Consider additional features and market expansion"})]})]})]})})]})]})},Gte=[{number:1,title:"Submit Idea",description:"Share your MVP concept with us"},{number:2,title:"Preview & Payment",description:"Review demo and choose package"},{number:3,title:"Development",description:"Track progress and provide feedback"},{number:4,title:"Delivery",description:"Access your completed MVP"}],Vte=()=>{const{state:n,dispatch:e}=fU(),t=Wl();C.useEffect(()=>{const{startStep:s,prefillData:o,fullProject:a}=t.state||{};console.log("Received location state:",{startStep:s,prefillData:o,fullProject:a}),(s==="preview"||s==="tracking"||s==="delivery")&&e({type:"SET_STEP",payload:s}),o&&e({type:"UPDATE_IDEA",payload:{name:o.title,description:o.description,platform:o.platform,audience:["General"]}}),a&&e({type:"SET_PROJECT_DATA",payload:a})},[t.state,e]);const r=()=>{switch(n.step){case"submit":return 1;case"preview":return 2;case"tracking":return 3;case"delivery":return 4;default:return 1}},i=()=>{switch(n.step){case"submit":return l.jsx(N2,{state:n,dispatch:e});case"preview":return l.jsx(jte,{state:n,dispatch:e});case"tracking":return l.jsx(zte,{state:n,dispatch:e});case"delivery":return l.jsx(Hte,{state:n,dispatch:e});default:return l.jsx(N2,{state:n,dispatch:e})}};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(pU,{currentStep:r(),steps:Gte}),l.jsx("div",{className:"py-8 px-4 sm:px-6 lg:px-8",children:i()})]})},Wte=()=>{var A,T,N,P,D;const[n,e]=C.useState(1),[t,r]=C.useState(null),[i,s]=C.useState(""),[o,a]=C.useState({businessName:"",industry:"",description:"",features:[],domain:"",hasContent:!1,additionalInfo:"",needsDomain:!1,preferredDomains:"",apiKeys:{razorpay:"",stripe:"",ecommerce:"",crm:"",analytics:"",email:""},hostingDetails:{provider:"",credentials:""}}),c=[{number:1,title:"Select Niche",description:"Choose your industry and required features"},{number:2,title:"Choose Template",description:"Browse and preview templates"},{number:3,title:"Configure Keys",description:"API keys and integrations setup"},{number:4,title:"Make It Live",description:"Domain setup and final deployment"}],u=[{id:"restaurant",name:"Restaurant & Food",icon:"",features:["Online Menu","Table Reservations","Online Ordering","Payment Gateway","Location Map"],requiredKeys:["razorpay","analytics"]},{id:"ecommerce",name:"E-commerce & Retail",icon:"",features:["Product Catalog","Shopping Cart","Payment Gateway","Inventory Management","Order Tracking"],requiredKeys:["razorpay","stripe","ecommerce","analytics"]},{id:"services",name:"Professional Services",icon:"",features:["Service Pages","Appointment Booking","Contact Forms","Team Profiles","Testimonials"],requiredKeys:["analytics","email"]},{id:"portfolio",name:"Creative Portfolio",icon:"",features:["Portfolio Gallery","Project Showcase","Client Testimonials","Contact Forms","Blog"],requiredKeys:["analytics"]},{id:"healthcare",name:"Healthcare",icon:"",features:["Appointment Booking","Service Pages","Insurance Info","Patient Portal","Contact Forms"],requiredKeys:["analytics","crm","email"]},{id:"realestate",name:"Real Estate",icon:"",features:["Property Listings","Search Filters","Agent Profiles","Virtual Tours","Contact Forms"],requiredKeys:["analytics","crm"]}],d={restaurant:[{id:1,name:"Bistro Deluxe",category:"Restaurant",rating:4.9,reviews:127,features:["Online Menu","Reservations","Gallery","Location Map"],preview:"https://bistro-demo.example.com",price:"$1,799",image:"/placeholder.svg"},{id:2,name:"Fast Food Pro",category:"Quick Service",rating:4.8,reviews:98,features:["Online Ordering","Delivery Tracking","Loyalty Program"],preview:"https://fastfood-demo.example.com",price:"$1,599",image:"/placeholder.svg"}],ecommerce:[{id:3,name:"E-commerce Pro",category:"Retail",rating:4.9,reviews:156,features:["Product Catalog","Shopping Cart","Payment Gateway","Inventory"],preview:"https://ecommerce-demo.example.com",price:"$2,299",image:"/placeholder.svg"},{id:4,name:"Fashion Store",category:"Fashion",rating:4.8,reviews:89,features:["Lookbook","Size Guide","Wishlist","Reviews"],preview:"https://fashion-demo.example.com",price:"$2,499",image:"/placeholder.svg"}],services:[{id:5,name:"Professional Services",category:"Business",rating:4.9,reviews:134,features:["Service Pages","Booking","Team Profiles","Testimonials"],preview:"https://services-demo.example.com",price:"$1,499",image:"/placeholder.svg"}],portfolio:[{id:6,name:"Creative Portfolio",category:"Creative",rating:4.7,reviews:76,features:["Portfolio Gallery","Project Showcase","Blog","Contact"],preview:"https://portfolio-demo.example.com",price:"$1,399",image:"/placeholder.svg"}],healthcare:[{id:7,name:"Medical Practice",category:"Healthcare",rating:4.9,reviews:67,features:["Appointment Booking","Services","Insurance","Patient Portal"],preview:"https://medical-demo.example.com",price:"$1,899",image:"/placeholder.svg"}],realestate:[{id:8,name:"Real Estate Pro",category:"Real Estate",rating:4.8,reviews:112,features:["Property Listings","Search","Agent Profiles","Virtual Tours"],preview:"https://realestate-demo.example.com",price:"$2,099",image:"/placeholder.svg"}]},f={razorpay:{label:"Razorpay API Key",placeholder:"rzp_test_...",description:"For payment processing"},stripe:{label:"Stripe Secret Key",placeholder:"sk_test_...",description:"Alternative payment gateway"},ecommerce:{label:"E-commerce Platform API",placeholder:"Shopify/WooCommerce API key",description:"Product management"},crm:{label:"CRM Integration Key",placeholder:"HubSpot/Salesforce API key",description:"Lead management"},analytics:{label:"Google Analytics ID",placeholder:"GA-XXXXXXX",description:"Website analytics"},email:{label:"Email Service API",placeholder:"Mailchimp/SendGrid API key",description:"Email marketing"}},m=[".com",".in",".store",".business",".tech",".online"],g=()=>u.find(I=>I.id===i),v=()=>d[i]||[],y=()=>{var I;return((I=g())==null?void 0:I.requiredKeys)||[]},w=I=>{a({...o,[I.target.name]:I.target.value})},x=(I,R)=>{a({...o,apiKeys:{...o.apiKeys,[I]:R}})},b=()=>{t&&(console.log("Generating demo preview with:",{template:t,niche:i,features:o.features,apiKeys:o.apiKeys}),alert("Demo preview is being generated! You can view it in the next step."))},S=()=>{console.log("Making website live:",{...o,selectedTemplate:t,selectedNiche:i}),alert("Your website deployment has been initiated! You will receive confirmation within 24 hours.")};return l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsx(jr,{}),l.jsxs("main",{className:"pt-20",children:[l.jsx("section",{className:"py-20 bg-gradient-to-br from-purple-50 via-pink-50 to-purple-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-4 rounded-2xl inline-flex mb-6",children:l.jsx(js,{className:"h-12 w-12 text-white"})}),l.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["Business ",l.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Websites"})]}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto",children:"Professional websites with eCommerce, booking systems, and custom integrations. From template selection to live deployment with premium domain management."})]})}),l.jsx("section",{className:"py-12 bg-white border-b",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"flex items-center justify-between",children:c.map((I,R)=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${n>=I.number?"bg-purple-600 text-white":"bg-gray-200 text-gray-600"}`,children:n>I.number?l.jsx(rr,{className:"h-5 w-5"}):I.number}),l.jsxs("div",{className:"ml-3 hidden md:block",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:I.title}),l.jsx("p",{className:"text-sm text-gray-500",children:I.description})]}),R<c.length-1&&l.jsx("div",{className:"flex-1 mx-4 h-0.5 bg-gray-200",children:l.jsx("div",{className:`h-full bg-purple-600 transition-all duration-300 ${n>I.number?"w-full":"w-0"}`})})]},I.number))})})}),l.jsx("section",{className:"py-20",children:l.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs(rt,{className:"shadow-xl",children:[l.jsxs(Ot,{children:[l.jsx(Ft,{className:"text-2xl",children:c[n-1].title}),l.jsx(Vr,{children:c[n-1].description})]}),l.jsxs(it,{className:"space-y-6",children:[n===1&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(ut,{children:"Select Your Industry/Niche *"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:u.map(I=>l.jsx(rt,{className:`cursor-pointer border-2 transition-all duration-300 hover:shadow-lg ${i===I.id?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>s(I.id),children:l.jsxs(it,{className:"p-4 text-center",children:[l.jsx("div",{className:"text-4xl mb-3",children:I.icon}),l.jsx("h4",{className:"font-semibold text-lg mb-2",children:I.name}),l.jsx("div",{className:"space-y-1 text-xs text-gray-600",children:I.features.slice(0,3).map((R,k)=>l.jsxs("div",{children:[" ",R]},k))})]})},I.id))})]}),i&&l.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6",children:[l.jsxs("h4",{className:"font-semibold text-purple-800 mb-3",children:["Included Features for ",(A=g())==null?void 0:A.name,":"]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:(T=g())==null?void 0:T.features.map((I,R)=>l.jsxs("div",{className:"flex items-center text-sm text-purple-700",children:[l.jsx(rr,{className:"h-4 w-4 mr-2"}),I]},R))})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"businessName",children:"Business Name *"}),l.jsx(fn,{id:"businessName",name:"businessName",value:o.businessName,onChange:w,placeholder:"Enter your business name",className:"mt-2"})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"description",children:"Business Description *"}),l.jsx(yi,{id:"description",name:"description",value:o.description,onChange:w,placeholder:"Describe your business, products/services, and target customers...",className:"mt-2 min-h-[120px]"})]})]}),n===2&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Templates for ",(N=g())==null?void 0:N.name]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:v().map(I=>l.jsxs(rt,{className:`cursor-pointer border-2 transition-all duration-300 hover:shadow-lg ${(t==null?void 0:t.id)===I.id?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>r(I),children:[l.jsxs(Ot,{className:"pb-3",children:[l.jsx("div",{className:"aspect-video bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg mb-3 flex items-center justify-center",children:l.jsx("span",{className:"text-gray-500 text-sm",children:"Live Preview Available"})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ft,{className:"text-lg",children:I.name}),l.jsx(In,{variant:"secondary",children:I.category})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Dl,{className:"h-4 w-4 text-yellow-500 fill-current"}),l.jsx("span",{className:"ml-1 text-sm font-medium",children:I.rating})]}),l.jsxs("span",{className:"text-sm text-gray-600",children:["(",I.reviews,")"]})]})]}),l.jsx(it,{className:"pt-0",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-sm mb-2",children:"Features:"}),l.jsx("ul",{className:"space-y-1",children:I.features.slice(0,3).map((R,k)=>l.jsxs("li",{className:"text-xs text-gray-600",children:[" ",R]},k))})]}),l.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[l.jsx("span",{className:"text-lg font-bold text-purple-600",children:I.price}),l.jsxs(Re,{size:"sm",variant:"outline",onClick:()=>window.open(I.preview,"_blank"),children:[l.jsx(fa,{className:"h-3 w-3 mr-1"}),"Live Demo"]})]})]})})]},I.id))})]}),t&&l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold text-green-800",children:["Template Selected: ",t.name]}),l.jsx("p",{className:"text-sm text-green-700",children:'Click "Generate Demo Preview" to see your customized version'})]}),l.jsx(Re,{onClick:b,className:"bg-green-600 hover:bg-green-700",children:"Generate Demo Preview"})]})})]}),n===3&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[l.jsx(pA,{className:"h-5 w-5 mr-2"}),"Required API Keys & Integrations"]}),l.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Based on your selected niche and template, the following integrations are required:"}),l.jsx("div",{className:"grid gap-4",children:y().map(I=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs(ut,{htmlFor:I,className:"flex items-center",children:[l.jsx(pA,{className:"h-4 w-4 mr-2"}),f[I].label," *"]}),l.jsx(fn,{id:I,value:o.apiKeys[I],onChange:R=>x(I,R.target.value),placeholder:f[I].placeholder,className:"font-mono text-sm"}),l.jsx("p",{className:"text-xs text-gray-600",children:f[I].description})]},I))})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"domain",children:"Domain Name"}),l.jsx(fn,{id:"domain",name:"domain",value:o.domain,onChange:w,placeholder:"yourbusiness.com (leave blank if you need help)",className:"mt-2"}),l.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[l.jsx(va,{id:"needsDomain",checked:o.needsDomain,onCheckedChange:I=>a({...o,needsDomain:I})}),l.jsx(ut,{htmlFor:"needsDomain",className:"text-sm",children:"I need help purchasing and setting up a domain"})]})]}),o.needsDomain&&l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[l.jsx("h4",{className:"font-semibold text-yellow-800 mb-3",children:"Premium Domain Management Service"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"preferredDomains",children:"Preferred Domain Names"}),l.jsx(yi,{id:"preferredDomains",name:"preferredDomains",value:o.preferredDomains,onChange:w,placeholder:"List 3-5 preferred domain names (e.g., mybusiness, mycompany, mybrand)",className:"mt-2"})]}),l.jsxs("div",{children:[l.jsx(ut,{children:"Preferred Extensions"}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:m.map(I=>l.jsx(In,{variant:"outline",className:"cursor-pointer",children:I},I))})]}),l.jsxs("div",{className:"bg-white border border-yellow-300 rounded p-4",children:[l.jsx("h5",{className:"font-medium mb-2",children:"Included in Premium Domain Service:"}),l.jsxs("ul",{className:"text-sm space-y-1",children:[l.jsx("li",{children:" Domain purchase and registration"}),l.jsx("li",{children:" DNS configuration and SSL setup"}),l.jsx("li",{children:" Professional email setup (if needed)"}),l.jsx("li",{children:" 1-year domain management"}),l.jsx("li",{children:" Additional cost: $99-299 based on domain"})]})]})]})]}),l.jsxs("div",{children:[l.jsx(ut,{children:"Hosting Details"}),l.jsx("div",{className:"space-y-3 mt-2",children:l.jsxs(na,{onValueChange:I=>a({...o,hostingDetails:{...o.hostingDetails,provider:I}}),children:[l.jsx(go,{children:l.jsx(ra,{placeholder:"Select hosting provider (optional)"})}),l.jsxs(xo,{children:[l.jsx(hn,{value:"managed",children:"IdeaLaunch Managed Hosting (Recommended)"}),l.jsx(hn,{value:"aws",children:"Amazon AWS"}),l.jsx(hn,{value:"gcp",children:"Google Cloud"}),l.jsx(hn,{value:"digitalocean",children:"DigitalOcean"}),l.jsx(hn,{value:"other",children:"Other/Custom"})]})]})})]})]}),n===4&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:[l.jsx(rr,{className:"inline h-5 w-5 mr-2"}),"Your Website Summary"]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Business:"})," ",o.businessName]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Niche:"})," ",(P=g())==null?void 0:P.name]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Template:"})," ",t==null?void 0:t.name]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Domain:"})," ",o.domain||o.needsDomain?"Premium Domain Service":"Will be provided"]})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Features:"})," ",(D=g())==null?void 0:D.features.join(", ")]}),l.jsxs("p",{children:[l.jsx("strong",{children:"API Keys:"})," ",y().length," integrations configured"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Hosting:"})," ",o.hostingDetails.provider||"IdeaLaunch Managed"]})]})]})]}),l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-4",children:[l.jsx(v0,{className:"inline h-5 w-5 mr-2"}),"Final Cost Breakdown"]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Template & Development:"}),l.jsx("span",{className:"font-semibold",children:t==null?void 0:t.price})]}),o.needsDomain&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Premium Domain Service:"}),l.jsx("span",{className:"font-semibold",children:"$99 - $299"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Setup & Deployment:"}),l.jsx("span",{className:"font-semibold",children:"$199"})]}),l.jsxs("div",{className:"border-t pt-2 flex justify-between text-lg font-bold",children:[l.jsx("span",{children:"Total:"}),l.jsx("span",{className:"text-green-600",children:t?`$${parseInt(t.price.replace("$","").replace(",",""))+199+(o.needsDomain?199:0)}`:"TBD"})]})]})]}),l.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-purple-800 mb-4",children:" Deployment Process"}),l.jsxs("div",{className:"space-y-2 text-sm text-purple-700",children:[l.jsx("p",{children:" We'll configure your domain and DNS settings"}),l.jsx("p",{children:" All API integrations will be tested and activated"}),l.jsx("p",{children:" Your website will be deployed with SSL certification"}),l.jsx("p",{children:" Final testing and live URL delivery within 24-48 hours"}),l.jsx("p",{children:" Complete credentials and admin access provided"}),l.jsx("p",{children:" 30-day post-launch support included"})]})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs(Re,{onClick:S,size:"lg",className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white px-8 py-4 text-lg",children:[l.jsx(v0,{className:"mr-2 h-5 w-5"}),"Make It Live & Pay Now"]}),l.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Secure payment via Stripe/Razorpay  100% Money-back guarantee"})]})]}),l.jsxs("div",{className:"flex justify-between pt-6 border-t",children:[l.jsx(Re,{variant:"outline",onClick:()=>e(Math.max(1,n-1)),disabled:n===1,children:"Previous"}),n<4?l.jsxs(Re,{onClick:()=>e(Math.min(4,n+1)),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",disabled:n===1&&!i||n===2&&!t,children:["Next Step",l.jsx(Sr,{className:"ml-2 h-4 w-4"})]}):null]})]})]})})})]}),l.jsx(Ur,{})]})},Xte=[{id:"ecommerce",title:"E-Commerce Store",description:"Online stores with payment processing, inventory management, and customer accounts",icon:"",features:["Payment Gateway","Inventory Management","Order Tracking","Customer Accounts"],requiresKeys:["razorpayKey","razorpaySecret"]},{id:"portfolio",title:"Creative Portfolio",description:"Showcase your work with stunning galleries and project showcases",icon:"",features:["Image Galleries","Project Showcase","Contact Forms","Blog"],requiresKeys:[]},{id:"booking",title:"Booking & Appointments",description:"Service businesses with appointment scheduling and calendar integration",icon:"",features:["Calendar Integration","Online Booking","Payment Processing","Email Notifications"],requiresKeys:["calendarKey","razorpayKey"]},{id:"immersive3d",title:"Immersive 3D Experience",description:"Next-gen websites with 3D models, VR/AR capabilities, and interactive experiences",icon:"",features:["3D Models","VR/AR Ready","Interactive Experiences","Immersive Navigation"],requiresKeys:[]},{id:"education",title:"Online Learning Platform",description:"Educational platforms with course hosting, quizzes, and student progress tracking",icon:"",features:["Course Management","Video Uploads","Quizzes & Exams","Student Progress Tracking"],requiresKeys:["stripeKey","firebaseKey"]},{id:"restaurant",title:"Restaurant Ordering System",description:"Let customers browse menus, reserve tables, and place food orders online",icon:"",features:["Digital Menu","Online Ordering","Table Reservations","Payment Integration"],requiresKeys:["razorpayKey"]},{id:"saas",title:"SaaS Dashboard",description:"Build a modern dashboard with subscription billing and user analytics",icon:"",features:["Multi-Tier Plans","Billing Management","User Analytics","Team Access"],requiresKeys:["stripeKey"]},{id:"realestate",title:"Real Estate Listings",description:"Property listing sites with filtering, image galleries, and inquiry forms",icon:"",features:["Property Listings","Search & Filters","Map Integration","Contact Forms"],requiresKeys:["googleMapsKey"]},{id:"community",title:"Community Forum",description:"Discussion platform for users to post, comment, and engage in threads",icon:"",features:["User Threads","Comments","Moderation Tools","Email Notifications"],requiresKeys:["firebaseKey"]},{id:"event",title:"Event Ticketing",description:"Sell event tickets with QR-based check-in and attendee management",icon:"",features:["Event Creation","QR Ticketing","Attendee List","Payment Gateway"],requiresKeys:["razorpayKey","qrCodeApiKey"]}],Kte=({selectedNiche:n,onSelectNiche:e,onNext:t})=>l.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Choose Your Industry"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Select the type of website that best fits your business needs"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:Xte.map(r=>l.jsx(rt,{className:`cursor-pointer border-2 transition-all duration-300 hover:scale-105 hover:shadow-xl ${(n==null?void 0:n.id)===r.id?"border-purple-500 bg-purple-50 shadow-lg":"border-gray-200 hover:border-purple-300"}`,onClick:()=>e(r),children:l.jsxs(it,{className:"p-8 text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:r.icon}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:r.title}),l.jsx("p",{className:"text-gray-600 mb-6",children:r.description}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-semibold text-gray-800",children:"Key Features:"}),r.features.slice(0,3).map((i,s)=>l.jsxs("div",{className:"text-sm text-gray-600",children:[" ",i]},s))]})]})},r.id))}),l.jsx("div",{className:"flex justify-center",children:l.jsx(Re,{onClick:t,disabled:!n,size:"lg",className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:"Continue to Templates"})})]}),Jte=({nicheId:n,selectedTemplate:e,onSelectTemplate:t,onNext:r,onBack:i})=>{const[s,o]=C.useState([]),[a,c]=C.useState(1),[u,d]=C.useState(!1),[f,m]=C.useState(""),g=6;Jl(),C.useEffect(()=>{(async()=>{d(!0),console.log("[TEMPLATE] Fetching templates...");try{const A=await Tn.get("https://097a-2401-4900-1c27-4d9a-34c0-5d47-b2e1-2c49.ngrok-free.app/api/website-templets/get/templet/ecommerce",{headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"}});console.log("[TEMPLATE] Fetched response:",A.data),o(A.data)}catch(A){console.error("[TEMPLATE] Fetch error:",A),m("Failed to load templates.")}finally{d(!1),console.log("[TEMPLATE] Loading finished.")}})()},[]);const v=()=>{e&&r(e.id)},y=s.filter(S=>S.nicheId===n),w=Math.ceil(y.length/g),x=(a-1)*g,b=y.slice(x,x+g);return l.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Choose Your Template"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Select a professional template that matches your vision"})]}),u&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:[...Array(6)].map((S,A)=>l.jsxs("div",{className:"animate-pulse border border-gray-200 rounded-xl p-6 shadow-sm space-y-4",children:[l.jsx("div",{className:"w-full aspect-video bg-gray-200 rounded-lg"}),l.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("div",{className:"h-5 w-16 bg-gray-300 rounded-full"}),l.jsx("div",{className:"h-5 w-12 bg-gray-300 rounded-full"})]}),l.jsxs("div",{className:"flex justify-between pt-2",children:[l.jsx("div",{className:"h-6 w-16 bg-gray-300 rounded"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("div",{className:"h-8 w-16 bg-gray-300 rounded"}),l.jsx("div",{className:"h-8 w-16 bg-gray-300 rounded"})]})]})]},A))}),f&&l.jsx("p",{className:"text-center text-red-600",children:f}),!u&&!f&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:b.map(S=>l.jsxs(rt,{className:`cursor-pointer border-2 transition-all duration-300 hover:scale-105 hover:shadow-xl ${(e==null?void 0:e.id)===S.id?"border-purple-500 bg-purple-50 shadow-lg":"border-gray-200 hover:border-purple-300"}`,children:[l.jsxs(Ot,{className:"pb-3",children:[l.jsx("div",{className:"aspect-video bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg mb-4 overflow-hidden group",children:l.jsx("img",{src:S.thumbnail,alt:S.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ft,{className:"text-lg",children:S.title}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Dl,{className:"h-4 w-4 text-yellow-500 fill-current"}),l.jsx("span",{className:"ml-1 text-sm font-medium",children:"4.8"})]})]})]}),l.jsxs(it,{className:"pt-0",children:[l.jsx("p",{className:"text-gray-600 mb-4",children:S.description}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:S.tags.split(",").map((A,T)=>l.jsxs(In,{variant:"secondary",className:"text-xs",children:["#",A.trim()]},T))}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:["$",S.price]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Re,{size:"sm",variant:"outline",onClick:A=>{A.stopPropagation(),window.open(S.demoUrl,"_blank")},children:[l.jsx(fa,{className:"h-3 w-3 mr-1"}),"Demo"]}),l.jsx(Re,{size:"sm",onClick:A=>{A.stopPropagation(),t(S)},className:(e==null?void 0:e.id)===S.id?"bg-purple-600":"",children:(e==null?void 0:e.id)===S.id?"Selected":"Select"})]})]})]})]},S.id))}),w>1&&l.jsx("div",{className:"flex justify-center mb-8",children:l.jsx("div",{className:"flex gap-2",children:Array.from({length:w},(S,A)=>A+1).map(S=>l.jsx(Re,{variant:a===S?"default":"outline",size:"sm",onClick:()=>c(S),children:S},S))})}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx(Re,{variant:"outline",onClick:i,children:"Back to Niches"}),l.jsx(Re,{onClick:v,disabled:!e,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:"Configure Template"})]})]})]})},Yte=({configuration:n,selectedNiche:e,selectedTemplateId:t,onUpdateConfig:r,onNext:i,onBack:s})=>{const o=e.requiresKeys.includes("razorpayKey"),a=e.requiresKeys.includes("calendarKey"),{currentUser:c}=Jl(),[u,d]=je.useState({templet_id:t,uid:c.uid,name:"",phoneNumber:"",email:""}),[f,m]=je.useState(!1);console.log("template ID (typeof):",typeof t,"| Value:",t);const g=()=>{var y,w,x,b;return!(o&&(!n.apiKeys.razorpayKey||!n.apiKeys.razorpaySecret)||a&&!n.apiKeys.calendarKey||n.domain.type==="own"&&(!((y=n.domain.existing)!=null&&y.domain)||!((w=n.domain.existing)!=null&&w.dnsProvider))||n.domain.type==="buy"&&(!((x=n.domain.new)!=null&&x.name)||!((b=n.domain.new)!=null&&b.tld)))},v=async()=>{try{console.log(" Sending form data to backend:",u);const y=await fetch("https://097a-2401-4900-1c27-4d9a-34c0-5d47-b2e1-2c49.ngrok-free.app/api/website-forms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(!y.ok)throw new Error("Form submission failed");const w=await y.json();console.log(" Response from backend:",w),y3({title:"Success",description:"Form submitted successfully!"}),m(!0)}catch(y){console.error(" Error during form submission:",y),alert("Something went wrong!")}};return l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Configure Your Website"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Set up integrations and customize your design"})]}),l.jsx("div",{className:"space-y-8",children:l.jsxs(rt,{children:[l.jsx(Ot,{children:l.jsxs(Ft,{className:"flex items-center",children:[l.jsx(pA,{className:"h-5 w-5 mr-2"}),"Website Owner Details"]})}),l.jsxs(it,{className:"space-y-4",children:[l.jsx(fn,{placeholder:"Full Name",value:u.name,disabled:f,onChange:y=>d({...u,name:y.target.value})}),l.jsx(fn,{placeholder:"Phone Number",value:u.phoneNumber,disabled:f,onChange:y=>d({...u,phoneNumber:y.target.value})}),l.jsx(fn,{placeholder:"Email",value:u.email,disabled:f,onChange:y=>d({...u,email:y.target.value})}),l.jsx(fn,{placeholder:"UID",value:c.uid,readOnly:!0}),l.jsx(fn,{placeholder:"Template ID",value:t,readOnly:!0}),l.jsx("div",{className:"pt-4",children:f?l.jsx("p",{className:"text-green-600 font-semibold text-center",children:" Form is already submitted. We will reach you within 24 hrs."}):l.jsx(Re,{onClick:v,className:"bg-blue-600 hover:bg-blue-700 w-full",children:"Submit Details"})})]})]})}),l.jsxs("div",{className:"flex justify-between mt-12",children:[l.jsx(Re,{variant:"outline",onClick:s,children:"Back to Templates"}),l.jsx(Re,{onClick:i,disabled:!g(),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:"Preview & Deploy"})]})]})},$te=({template:n,configuration:e,deployment:t,onUpdateDeployment:r,onBack:i})=>{var g,v;const[s,o]=C.useState(!1),a=e.domain.type==="buy"?15:0,c=n.price+a,u=[{id:"keys",label:"API Keys Configured",completed:e.apiKeys.razorpayKey||e.apiKeys.calendarKey||!0},{id:"domain",label:"Domain Configured",completed:e.domain.type==="own"&&((g=e.domain.existing)==null?void 0:g.domain)||e.domain.type==="buy"&&((v=e.domain.new)==null?void 0:v.name)},{id:"design",label:"Design Preferences Set",completed:e.design.primaryColor&&e.design.font}],d=u.every(y=>y.completed),f=async()=>{o(!0),setTimeout(()=>{o(!1),m()},2e3)},m=()=>{const y=[{name:"Configuring DNS",duration:2e3},{name:"Setting up SSL",duration:1500},{name:"Deploying Website",duration:2500},{name:"Final Checks",duration:1e3}];let w=0;y.forEach((x,b)=>{setTimeout(()=>{var A,T;const S=(b+1)/y.length*100;r({progress:S,currentTask:x.name,isComplete:b===y.length-1}),b===y.length-1&&r({liveUrl:`https://${((A=e.domain.new)==null?void 0:A.name)||"yoursite"}.idealaunch.io`,adminUrl:`https://admin-${((T=e.domain.new)==null?void 0:T.name)||"yoursite"}.idealaunch.io`})},w),w+=x.duration})};return l.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Preview & Deploy"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Review your configuration and make it live"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx("div",{children:l.jsxs(rt,{className:"h-full",children:[l.jsx(Ot,{children:l.jsx(Ft,{children:"Live Preview"})}),l.jsx(it,{children:l.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300",children:t.progress>0?l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Generating preview..."})]}):l.jsx("div",{className:"text-center",children:l.jsx("iframe",{src:n.demoUrl,className:"w-full h-full rounded-lg",title:"Website Preview"})})})})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(rt,{children:[l.jsx(Ot,{children:l.jsx(Ft,{children:"Requirements Checklist"})}),l.jsx(it,{className:"space-y-3",children:u.map(y=>l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(rr,{className:`h-5 w-5 ${y.completed?"text-green-500":"text-gray-300"}`}),l.jsx("span",{className:y.completed?"text-gray-900":"text-gray-500",children:y.label})]},y.id))})]}),l.jsxs(rt,{children:[l.jsx(Ot,{children:l.jsx(Ft,{children:"Cost Breakdown"})}),l.jsxs(it,{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{children:["Template: ",n.title]}),l.jsxs("span",{children:["$",n.price]})]}),a>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Domain (1 year)"}),l.jsxs("span",{children:["$",a]})]}),l.jsxs("div",{className:"border-t pt-3 flex justify-between font-bold text-lg",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{className:"text-purple-600",children:["$",c]})]})]})]}),t.progress>0&&l.jsxs(rt,{children:[l.jsx(Ot,{children:l.jsx(Ft,{children:"Deployment Progress"})}),l.jsxs(it,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between mb-2",children:[l.jsx("span",{className:"text-sm text-gray-600",children:t.currentTask}),l.jsxs("span",{className:"text-sm text-gray-600",children:[t.progress,"%"]})]}),l.jsx(Im,{value:t.progress,className:"h-2"})]}),t.isComplete&&l.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(rr,{className:"h-5 w-5 text-green-500"}),l.jsx("span",{className:"font-medium text-green-700",children:"Deployment Complete!"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Re,{className:"w-full",onClick:()=>window.open(t.liveUrl,"_blank"),children:[l.jsx(hA,{className:"h-4 w-4 mr-2"}),"View Live Site"]}),l.jsxs(Re,{variant:"outline",className:"w-full",onClick:()=>window.open(t.adminUrl,"_blank"),children:[l.jsx(hA,{className:"h-4 w-4 mr-2"}),"Admin Dashboard"]}),l.jsxs(Re,{variant:"outline",className:"w-full",children:[l.jsx(gC,{className:"h-4 w-4 mr-2"}),"Download Credentials"]})]})]})]})]}),!t.isComplete&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs(Re,{onClick:f,disabled:!d||t.progress>0,className:"w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white py-4 text-lg",size:"lg",children:[l.jsx(Y3,{className:"h-5 w-5 mr-2"}),s?"Processing Payment...":`Make It Live - $${c}`]}),l.jsx(Re,{variant:"outline",onClick:i,className:"w-full",children:"Back to Configuration"})]})]})]})]})},qte={currentStep:1,selectedNiche:null,selectedTemplate:null,configuration:{apiKeys:{},domain:{type:"buy"},design:{primaryColor:"#3B82F6",font:"Inter",layout:"grid"}},payment:null,deployment:{progress:0,currentTask:"",isComplete:!1}};function Qte(n,e){switch(e.type){case"SET_STEP":return{...n,currentStep:e.payload};case"SELECT_NICHE":return{...n,selectedNiche:e.payload};case"SELECT_TEMPLATE":return{...n,selectedTemplate:e.payload};case"UPDATE_CONFIG":return{...n,configuration:{...n.configuration,...e.payload}};case"SET_PAYMENT":return{...n,payment:e.payload};case"UPDATE_DEPLOYMENT":return{...n,deployment:{...n.deployment,...e.payload}};default:return n}}const Zte=()=>{const[n,e]=C.useReducer(Qte,qte);return{state:n,dispatch:e}},ene=[{number:1,title:"Niche",description:"Choose industry"},{number:2,title:"Template",description:"Select design"},{number:3,title:"Configure",description:"Setup & customize"},{number:4,title:"Deploy",description:"Make it live"}],tne=()=>{const{state:n,dispatch:e}=Zte(),t=c=>{e({type:"SET_STEP",payload:c})},r=c=>{e({type:"SELECT_NICHE",payload:c})},i=c=>{e({type:"SELECT_TEMPLATE",payload:c})},s=c=>{e({type:"UPDATE_CONFIG",payload:c})},o=c=>{e({type:"UPDATE_DEPLOYMENT",payload:c})},a=()=>{var c,u;switch(n.currentStep){case 1:return l.jsx(Kte,{selectedNiche:n.selectedNiche,onSelectNiche:r,onNext:()=>t(2)});case 2:return l.jsx(Jte,{nicheId:((c=n.selectedNiche)==null?void 0:c.id)||"",selectedTemplate:n.selectedTemplate,onSelectTemplate:i,onNext:()=>t(3),onBack:()=>t(1)});case 3:return l.jsx(Yte,{configuration:n.configuration,selectedNiche:n.selectedNiche,selectedTemplateId:((u=n.selectedTemplate)==null?void 0:u.id)||"",onUpdateConfig:s,onNext:()=>t(4),onBack:()=>t(2)});case 4:return l.jsx($te,{template:n.selectedTemplate,configuration:n.configuration,deployment:n.deployment,onUpdateDeployment:o,onBack:()=>t(3)});default:return null}};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(jr,{}),l.jsxs("main",{className:"pt-20",children:[l.jsx("section",{className:"py-12 bg-gradient-to-br from-purple-50 via-pink-50 to-purple-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Website Service"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Create stunning websites with immersive 3D experiences. From concept to deployment in minutes."})]})}),l.jsx(pU,{currentStep:n.currentStep,steps:ene}),l.jsx("div",{className:"animate-fade-in",children:a()})]}),l.jsx(Ur,{})]})},nne=()=>{const[n,e]=C.useState(1),[t,r]=C.useState(null),[i,s]=C.useState({brandName:"",industry:"",brandStory:"",targetAudience:"",features:[],colorScheme:"",hasAssets:!1,additionalInfo:""}),o=[{number:1,title:"Brand Story",description:"Tell us about your brand"},{number:2,title:"3D Template",description:"Choose your immersive design"},{number:3,title:"Customization",description:"Personalize your experience"},{number:4,title:"Launch Setup",description:"Final details and deployment"}],a=["Fashion & Apparel","Food & Beverage","Art & Design","Jewelry & Luxury","Automotive","Architecture","Technology","Beauty & Cosmetics","Sports & Fitness","Entertainment","Other"],c=[{id:1,name:"Fashion Runway",category:"Fashion",rating:5,reviews:43,features:["3D Product Showcase","Virtual Fitting","Brand Story Timeline","Interactive Gallery"],preview:"https://example.com/3d-demo1",price:"$3,999",complexity:"High",timeline:"6-8 weeks"},{id:2,name:"Coffee Experience",category:"Food & Beverage",rating:4.9,reviews:67,features:["3D Coffee Journey","Bean Visualization","Brewing Process","Flavor Profiles"],preview:"https://example.com/3d-demo2",price:"$4,299",complexity:"High",timeline:"7-9 weeks"},{id:3,name:"Art Gallery Virtual",category:"Art & Design",rating:4.8,reviews:34,features:["Virtual Gallery Walk","3D Artwork Display","Artist Spotlight","Interactive Exhibitions"],preview:"https://example.com/3d-demo3",price:"$4,599",complexity:"Very High",timeline:"8-10 weeks"},{id:4,name:"Jewelry Showcase",category:"Luxury",rating:5,reviews:28,features:["360 Product View","Material Visualization","Customization Tool","Virtual Try-On"],preview:"https://example.com/3d-demo4",price:"$4,799",complexity:"Very High",timeline:"8-12 weeks"},{id:5,name:"Automotive Showroom",category:"Automotive",rating:4.9,reviews:52,features:["3D Car Configurator","Interior/Exterior Views","Performance Visualization","Virtual Test Drive"],preview:"https://example.com/3d-demo5",price:"$5,999",complexity:"Very High",timeline:"10-14 weeks"},{id:6,name:"Architecture Studio",category:"Architecture",rating:4.8,reviews:19,features:["3D Building Tours","Design Process","Material Showcase","Project Timeline"],preview:"https://example.com/3d-demo6",price:"$5,299",complexity:"Very High",timeline:"9-12 weeks"}],u=["3D Product Visualization","Interactive Animations","Virtual Reality Support","Mobile Optimization","Custom 3D Models","Physics Simulations","Audio Integration","Loading Animations","Touch/Gesture Controls","Real-time Configurator","Immersive Storytelling","Performance Analytics"],d=["Warm & Vibrant","Cool & Modern","Monochromatic","Brand Colors","Earth Tones","Neon & Electric","Pastel & Soft","Dark & Dramatic"],f=y=>{s({...i,[y.target.name]:y.target.value})},m=(y,w)=>{s({...i,[y]:w})},g=y=>{const w=i.features.includes(y)?i.features.filter(x=>x!==y):[...i.features,y];s({...i,features:w})},v=()=>{console.log("3D Brand submission:",{...i,selectedTemplate:t})};return l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsx(jr,{}),l.jsxs("main",{className:"pt-20",children:[l.jsx("section",{className:"py-20 bg-gradient-to-br from-green-50 via-blue-50 to-green-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 p-4 rounded-2xl inline-flex mb-6",children:l.jsx(ha,{className:"h-12 w-12 text-white"})}),l.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["3D Brand ",l.jsx("span",{className:"bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Experiences"})]}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto",children:"Immersive 3D websites that showcase your brand with cutting-edge WebGL technology and interactive elements that captivate your audience."})]})}),l.jsx("section",{className:"py-12 bg-white border-b",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"flex items-center justify-between",children:o.map((y,w)=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${n>=y.number?"bg-green-600 text-white":"bg-gray-200 text-gray-600"}`,children:n>y.number?l.jsx(rr,{className:"h-5 w-5"}):y.number}),l.jsxs("div",{className:"ml-3 hidden md:block",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:y.title}),l.jsx("p",{className:"text-sm text-gray-500",children:y.description})]}),w<o.length-1&&l.jsx("div",{className:"flex-1 mx-4 h-0.5 bg-gray-200",children:l.jsx("div",{className:`h-full bg-green-600 transition-all duration-300 ${n>y.number?"w-full":"w-0"}`})})]},y.number))})})}),l.jsx("section",{className:"py-20",children:l.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs(rt,{className:"shadow-xl",children:[l.jsxs(Ot,{children:[l.jsx(Ft,{className:"text-2xl",children:o[n-1].title}),l.jsx(Vr,{children:o[n-1].description})]}),l.jsxs(it,{className:"space-y-6",children:[n===1&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"brandName",children:"Brand Name *"}),l.jsx(fn,{id:"brandName",name:"brandName",value:i.brandName,onChange:f,placeholder:"Enter your brand name",className:"mt-2"})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"industry",children:"Industry *"}),l.jsxs(na,{onValueChange:y=>m("industry",y),children:[l.jsx(go,{className:"mt-2",children:l.jsx(ra,{placeholder:"Select your industry"})}),l.jsx(xo,{children:a.map(y=>l.jsx(hn,{value:y.toLowerCase().replace(/\s+/g,"-"),children:y},y))})]})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"brandStory",children:"Brand Story *"}),l.jsx(yi,{id:"brandStory",name:"brandStory",value:i.brandStory,onChange:f,placeholder:"Tell us your brand's story, mission, and what makes it unique...",className:"mt-2 min-h-[120px]"})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"targetAudience",children:"Target Audience *"}),l.jsx(yi,{id:"targetAudience",name:"targetAudience",value:i.targetAudience,onChange:f,placeholder:"Describe your ideal customers and what kind of experience they expect...",className:"mt-2 min-h-[100px]"})]})]}),n===2&&l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Choose Your 3D Experience Template"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Select a template that best matches your brand's vision and industry"}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:c.map(y=>l.jsxs(rt,{className:`cursor-pointer border-2 transition-all duration-300 hover:shadow-lg ${(t==null?void 0:t.id)===y.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>r(y),children:[l.jsxs(Ot,{className:"pb-3",children:[l.jsxs("div",{className:"aspect-video bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg mb-3 flex items-center justify-center relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/20 to-blue-500/20"}),l.jsx("span",{className:"text-white text-sm font-medium z-10",children:"3D Preview"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ft,{className:"text-lg",children:y.name}),l.jsx(In,{variant:"secondary",children:y.category})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Dl,{className:"h-4 w-4 text-yellow-500 fill-current"}),l.jsx("span",{className:"ml-1 text-sm font-medium",children:y.rating})]}),l.jsxs("span",{className:"text-sm text-gray-600",children:["(",y.reviews,")"]})]}),l.jsx(In,{variant:y.complexity==="Very High"?"destructive":"secondary",children:y.complexity})]})]}),l.jsx(it,{className:"pt-0",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-sm mb-2",children:"Features:"}),l.jsx("ul",{className:"space-y-1",children:y.features.map((w,x)=>l.jsxs("li",{className:"text-xs text-gray-600",children:[" ",w]},x))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600",children:[l.jsxs("div",{children:[" ",y.timeline]}),l.jsx("div",{className:"font-semibold",children:y.price})]}),l.jsxs(Re,{size:"sm",variant:"outline",className:"w-full",children:[l.jsx(fa,{className:"h-3 w-3 mr-1"}),"View 3D Demo"]})]})})]},y.id))})]})}),n===3&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(ut,{children:"3D Features & Interactions *"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select the 3D features you want to include"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:u.map(y=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(va,{id:y,checked:i.features.includes(y),onCheckedChange:()=>g(y)}),l.jsx(ut,{htmlFor:y,className:"text-sm",children:y})]},y))})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"colorScheme",children:"Color Scheme & Mood *"}),l.jsxs(na,{onValueChange:y=>m("colorScheme",y),children:[l.jsx(go,{className:"mt-2",children:l.jsx(ra,{placeholder:"Select your preferred color scheme"})}),l.jsx(xo,{children:d.map(y=>l.jsx(hn,{value:y.toLowerCase().replace(/\s+/g,"-"),children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(xC,{className:"h-4 w-4 mr-2"}),y]})},y))})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(va,{id:"hasAssets",checked:i.hasAssets,onCheckedChange:y=>s({...i,hasAssets:y})}),l.jsx(ut,{htmlFor:"hasAssets",children:"I have existing 3D models, brand assets, or specific design files"})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"additionalInfo",children:"Creative Vision & Special Requirements"}),l.jsx(yi,{id:"additionalInfo",name:"additionalInfo",value:i.additionalInfo,onChange:f,placeholder:"Describe any specific 3D interactions, animations, or unique experiences you envision...",className:"mt-2 min-h-[120px]"})]})]}),n===4&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:[l.jsx(rr,{className:"inline h-5 w-5 mr-2"}),"Your 3D Brand Experience Summary"]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Brand:"})," ",i.brandName]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Industry:"})," ",i.industry]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Template:"})," ",t==null?void 0:t.name]}),l.jsxs("p",{children:[l.jsx("strong",{children:"3D Features:"})," ",i.features.slice(0,3).join(", "),i.features.length>3?"...":""]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Color Scheme:"})," ",i.colorScheme]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Timeline:"})," ",t==null?void 0:t.timeline]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Investment:"})," ",t==null?void 0:t.price]})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-4",children:"What Makes This Special?"}),l.jsxs("div",{className:"space-y-2 text-sm text-green-700",children:[l.jsxs("p",{children:[" ",l.jsx("strong",{children:"Immersive Storytelling:"})," Your brand story told through interactive 3D experiences"]}),l.jsxs("p",{children:[" ",l.jsx("strong",{children:"WebGL Performance:"})," Optimized for all devices with lightning-fast loading"]}),l.jsxs("p",{children:[" ",l.jsx("strong",{children:"Custom 3D Assets:"})," Unique models and animations crafted specifically for your brand"]}),l.jsxs("p",{children:[" ",l.jsx("strong",{children:"Mobile Optimized:"})," Full experience across desktop, tablet, and mobile devices"]}),l.jsxs("p",{children:[" ",l.jsx("strong",{children:"Future-Proof:"})," Built with cutting-edge technology that scales with your business"]})]})]}),l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-4",children:"Development Process"}),l.jsxs("div",{className:"space-y-2 text-sm text-yellow-700",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Week 1-2:"})," Concept development and 3D asset creation begins"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Week 3-4:"})," Interactive prototyping and WebGL optimization"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Week 5-6:"})," Brand integration and performance testing"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Week 7-8:"})," Final refinements and deployment preparation"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Launch:"})," Your immersive 3D brand experience goes live!"]})]})]})]}),l.jsxs("div",{className:"flex justify-between pt-6 border-t",children:[l.jsx(Re,{variant:"outline",onClick:()=>e(Math.max(1,n-1)),disabled:n===1,children:"Previous"}),n<4?l.jsxs(Re,{onClick:()=>e(Math.min(4,n+1)),className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700",disabled:n===2&&!t,children:["Next Step",l.jsx(Sr,{className:"ml-2 h-4 w-4"})]}):l.jsxs(Re,{onClick:v,className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",children:["Launch 3D Experience",l.jsx(Sr,{className:"ml-2 h-4 w-4"})]})]})]})]})})})]}),l.jsx(Ur,{})]})},V2=[{number:1,title:"Brand",icon:l.jsx(ha,{className:"h-5 w-5"})},{number:2,title:"Template",icon:l.jsx(xC,{className:"h-5 w-5"})},{number:3,title:"Customize",icon:l.jsx(Up,{className:"h-5 w-5"})},{number:4,title:"Deploy",icon:l.jsx(Ci,{className:"h-5 w-5"})}],rne=({currentStep:n})=>l.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border-b border-green-200 py-8",children:l.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"flex items-center justify-between",children:V2.map((e,t)=>l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:`relative flex items-center justify-center w-12 h-12 rounded-full border-2 transition-all duration-500 ${n>=e.number?"bg-gradient-to-r from-green-600 to-blue-600 border-transparent text-white scale-110":n===e.number?"border-green-600 text-green-600 bg-white scale-105":"border-gray-300 text-gray-400 bg-white"}`,children:[l.jsx("div",{className:`absolute inset-0 rounded-full ${n>=e.number?"animate-pulse bg-gradient-to-r from-green-400 to-blue-400 opacity-20":""}`}),e.icon]}),l.jsx("div",{className:"ml-4 hidden md:block",children:l.jsx("p",{className:`text-sm font-medium transition-colors ${n>=e.number?"text-gray-900":"text-gray-500"}`,children:e.title})})]}),t<V2.length-1&&l.jsx("div",{className:"flex-1 mx-8 h-1 bg-gray-200 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all duration-1000 bg-gradient-to-r from-green-600 to-blue-600 ${n>e.number?"w-full":"w-0"}`})})]},e.number))})})});/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Lm="176",Mc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Tc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},ZU=0,$A=1,e4=2,ine=3,t4=0,Aw=1,pp=2,Ms=3,_o=0,ni=1,Ds=2,ia=0,Yc=1,qA=2,QA=3,ZA=4,n4=5,al=100,r4=101,i4=102,s4=103,o4=104,a4=200,l4=201,c4=202,u4=203,j0=204,U0=205,d4=206,h4=207,f4=208,p4=209,m4=210,g4=211,x4=212,v4=213,y4=214,z0=0,H0=1,G0=2,du=3,V0=4,W0=5,X0=6,K0=7,km=0,w4=1,_4=2,vo=0,b4=1,S4=2,A4=3,_M=4,E4=5,C4=6,M4=7,eE="attached",T4="detached",Ew=300,ya=301,Fl=302,Zp=303,em=304,Xh=306,jl=1e3,ji=1001,wh=1002,pr=1003,Cw=1004,sne=1004,kc=1005,one=1005,Vn=1006,Jd=1007,ane=1007,cs=1008,lne=1008,ms=1009,bM=1010,SM=1011,_h=1012,Mw=1013,wa=1014,wi=1015,Kh=1016,Tw=1017,Nw=1018,bh=1020,AM=35902,EM=1021,CM=1022,Fr=1023,Sh=1026,Ah=1027,Rw=1028,Om=1029,MM=1030,Pw=1031,cne=1032,Iw=1033,mp=33776,gp=33777,xp=33778,vp=33779,J0=35840,Y0=35841,$0=35842,q0=35843,Q0=36196,Z0=37492,ey=37496,ty=37808,ny=37809,ry=37810,iy=37811,sy=37812,oy=37813,ay=37814,ly=37815,cy=37816,uy=37817,dy=37818,hy=37819,fy=37820,py=37821,yp=36492,my=36494,gy=36495,TM=36283,xy=36284,vy=36285,yy=36286,N4=2200,R4=2201,P4=2202,Eh=2300,Ch=2301,Gv=2302,Oc=2400,Fc=2401,tm=2402,Dw=2500,NM=2501,I4=0,RM=1,wy=2,D4=3200,B4=3201,une=3202,dne=3203,ql=0,L4=1,Xo="",mi="srgb",hu="srgb-linear",nm="linear",gn="srgb",hne=0,Nc=7680,fne=7681,pne=7682,mne=7683,gne=34055,xne=34056,vne=5386,yne=512,wne=513,_ne=514,bne=515,Sne=516,Ane=517,Ene=518,tE=519,k4=512,O4=513,F4=514,PM=515,j4=516,U4=517,z4=518,H4=519,rm=35044,Cne=35048,Mne=35040,Tne=35045,Nne=35049,Rne=35041,Pne=35046,Ine=35050,Dne=35042,Bne="100",nE="300 es",us=2e3,im=2001,Lne={COMPUTE:"compute",RENDER:"render"},kne={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},One={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};let Eo=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const r=t[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const Ir=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let W2=1234567;const $c=Math.PI/180,Mh=180/Math.PI;function Gi(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Ir[n&255]+Ir[n>>8&255]+Ir[n>>16&255]+Ir[n>>24&255]+"-"+Ir[e&255]+Ir[e>>8&255]+"-"+Ir[e>>16&15|64]+Ir[e>>24&255]+"-"+Ir[t&63|128]+Ir[t>>8&255]+"-"+Ir[t>>16&255]+Ir[t>>24&255]+Ir[r&255]+Ir[r>>8&255]+Ir[r>>16&255]+Ir[r>>24&255]).toLowerCase()}function Rt(n,e,t){return Math.max(e,Math.min(t,n))}function IM(n,e){return(n%e+e)%e}function Fne(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function jne(n,e,t){return n!==e?(t-n)/(e-n):0}function wp(n,e,t){return(1-t)*n+t*e}function Une(n,e,t,r){return wp(n,e,1-Math.exp(-t*r))}function zne(n,e=1){return e-Math.abs(IM(n,e*2)-e)}function Hne(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function Gne(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Vne(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Wne(n,e){return n+Math.random()*(e-n)}function Xne(n){return n*(.5-Math.random())}function Kne(n){n!==void 0&&(W2=n);let e=W2+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Jne(n){return n*$c}function Yne(n){return n*Mh}function $ne(n){return(n&n-1)===0&&n!==0}function qne(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Qne(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Zne(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),c=o(t/2),u=s((e+r)/2),d=o((e+r)/2),f=s((e-r)/2),m=o((e-r)/2),g=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":n.set(a*d,c*f,c*m,a*u);break;case"YZY":n.set(c*m,a*d,c*f,a*u);break;case"ZXZ":n.set(c*f,c*m,a*d,a*u);break;case"XZX":n.set(a*d,c*v,c*g,a*u);break;case"YXY":n.set(c*g,a*d,c*v,a*u);break;case"ZYZ":n.set(c*v,c*g,a*d,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function ei(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Lt(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const G4={DEG2RAD:$c,RAD2DEG:Mh,generateUUID:Gi,clamp:Rt,euclideanModulo:IM,mapLinear:Fne,inverseLerp:jne,lerp:wp,damp:Une,pingpong:zne,smoothstep:Hne,smootherstep:Gne,randInt:Vne,randFloat:Wne,randFloatSpread:Xne,seededRandom:Kne,degToRad:Jne,radToDeg:Yne,isPowerOfTwo:$ne,ceilPowerOfTwo:qne,floorPowerOfTwo:Qne,setQuaternionFromProperEuler:Zne,normalize:Lt,denormalize:ei};class _e{constructor(e=0,t=0){_e.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Rt(this.x,e.x,t.x),this.y=Rt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Rt(this.x,e,t),this.y=Rt(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Rt(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Rt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Bt{constructor(e,t,r,i,s,o,a,c,u){Bt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,c,u)}set(e,t,r,i,s,o,a,c,u){const d=this.elements;return d[0]=e,d[1]=i,d[2]=a,d[3]=t,d[4]=s,d[5]=c,d[6]=r,d[7]=o,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],c=r[6],u=r[1],d=r[4],f=r[7],m=r[2],g=r[5],v=r[8],y=i[0],w=i[3],x=i[6],b=i[1],S=i[4],A=i[7],T=i[2],N=i[5],P=i[8];return s[0]=o*y+a*b+c*T,s[3]=o*w+a*S+c*N,s[6]=o*x+a*A+c*P,s[1]=u*y+d*b+f*T,s[4]=u*w+d*S+f*N,s[7]=u*x+d*A+f*P,s[2]=m*y+g*b+v*T,s[5]=m*w+g*S+v*N,s[8]=m*x+g*A+v*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],c=e[6],u=e[7],d=e[8];return t*o*d-t*a*u-r*s*d+r*a*c+i*s*u-i*o*c}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],c=e[6],u=e[7],d=e[8],f=d*o-a*u,m=a*c-d*s,g=u*s-o*c,v=t*f+r*m+i*g;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/v;return e[0]=f*y,e[1]=(i*u-d*r)*y,e[2]=(a*r-i*o)*y,e[3]=m*y,e[4]=(d*t-i*c)*y,e[5]=(i*s-a*t)*y,e[6]=g*y,e[7]=(r*c-u*t)*y,e[8]=(o*t-r*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const c=Math.cos(s),u=Math.sin(s);return this.set(r*c,r*u,-r*(c*o+u*a)+o+e,-i*u,i*c,-i*(-u*o+c*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(pS.makeScale(e,t)),this}rotate(e){return this.premultiply(pS.makeRotation(-e)),this}translate(e,t){return this.premultiply(pS.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const pS=new Bt;function V4(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const ere={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Pd(n,e){return new ere[n](e)}function sm(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function W4(){const n=sm("canvas");return n.style.display="block",n}const X2={};function Vv(n){n in X2||(X2[n]=!0,console.warn(n))}function tre(n,e,t){return new Promise(function(r,i){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:r()}}setTimeout(s,t)})}function nre(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function rre(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const K2=new Bt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),J2=new Bt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function ire(){const n={enabled:!0,workingColorSpace:hu,spaces:{},convert:function(i,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===gn&&(i.r=sa(i.r),i.g=sa(i.g),i.b=sa(i.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===gn&&(i.r=Yd(i.r),i.g=Yd(i.g),i.b=Yd(i.b))),i},fromWorkingColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},toWorkingColorSpace:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===Xo?nm:this.spaces[i].transfer},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,o){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[hu]:{primaries:e,whitePoint:r,transfer:nm,toXYZ:K2,fromXYZ:J2,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:mi},outputColorSpaceConfig:{drawingBufferColorSpace:mi}},[mi]:{primaries:e,whitePoint:r,transfer:gn,toXYZ:K2,fromXYZ:J2,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:mi}}}),n}const rn=ire();function sa(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Yd(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Ju;class X4{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Ju===void 0&&(Ju=sm("canvas")),Ju.width=e.width,Ju.height=e.height;const i=Ju.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=Ju}return r.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=sm("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=sa(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(sa(t[r]/255)*255):t[r]=sa(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let sre=0;class gl{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:sre++}),this.uuid=Gi(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(mS(i[o].image)):s.push(mS(i[o]))}else s=mS(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function mS(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?X4.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let ore=0;class Nn extends Eo{constructor(e=Nn.DEFAULT_IMAGE,t=Nn.DEFAULT_MAPPING,r=ji,i=ji,s=Vn,o=cs,a=Fr,c=ms,u=Nn.DEFAULT_ANISOTROPY,d=Xo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:ore++}),this.uuid=Gi(),this.name="",this.source=new gl(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=c,this.offset=new _e(0,0),this.repeat=new _e(1,1),this.center=new _e(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Bt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isTextureArray=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isTextureArray=e.isTextureArray,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Ew)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case jl:e.x=e.x-Math.floor(e.x);break;case ji:e.x=e.x<0?0:1;break;case wh:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case jl:e.y=e.y-Math.floor(e.y);break;case ji:e.y=e.y<0?0:1;break;case wh:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Nn.DEFAULT_IMAGE=null;Nn.DEFAULT_MAPPING=Ew;Nn.DEFAULT_ANISOTROPY=1;class sn{constructor(e=0,t=0,r=0,i=1){sn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const c=e.elements,u=c[0],d=c[4],f=c[8],m=c[1],g=c[5],v=c[9],y=c[2],w=c[6],x=c[10];if(Math.abs(d-m)<.01&&Math.abs(f-y)<.01&&Math.abs(v-w)<.01){if(Math.abs(d+m)<.1&&Math.abs(f+y)<.1&&Math.abs(v+w)<.1&&Math.abs(u+g+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(u+1)/2,A=(g+1)/2,T=(x+1)/2,N=(d+m)/4,P=(f+y)/4,D=(v+w)/4;return S>A&&S>T?S<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(S),i=N/r,s=P/r):A>T?A<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(A),r=N/i,s=D/i):T<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(T),r=P/s,i=D/s),this.set(r,i,s,t),this}let b=Math.sqrt((w-v)*(w-v)+(f-y)*(f-y)+(m-d)*(m-d));return Math.abs(b)<.001&&(b=1),this.x=(w-v)/b,this.y=(f-y)/b,this.z=(m-d)/b,this.w=Math.acos((u+g+x-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Rt(this.x,e.x,t.x),this.y=Rt(this.y,e.y,t.y),this.z=Rt(this.z,e.z,t.z),this.w=Rt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Rt(this.x,e,t),this.y=Rt(this.y,e,t),this.z=Rt(this.z,e,t),this.w=Rt(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Rt(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Bw extends Eo{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=r.depth?r.depth:1,this.scissor=new sn(0,0,e,t),this.scissorTest=!1,this.viewport=new sn(0,0,e,t);const i={width:e,height:t,depth:this.depth};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Vn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,multiview:!1},r);const s=new Nn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);s.flipY=!1,s.generateMipmaps=r.generateMipmaps,s.internalFormat=r.internalFormat,this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,r=e.textures.length;t<r;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const i=Object.assign({},e.textures[t].image);this.textures[t].source=new gl(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class bo extends Bw{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class Fm extends Nn{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=pr,this.minFilter=pr,this.wrapR=ji,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class are extends bo{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Fm(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class Lw extends Nn{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=pr,this.minFilter=pr,this.wrapR=ji,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class lre extends bo{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new Lw(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class mr{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let c=r[i+0],u=r[i+1],d=r[i+2],f=r[i+3];const m=s[o+0],g=s[o+1],v=s[o+2],y=s[o+3];if(a===0){e[t+0]=c,e[t+1]=u,e[t+2]=d,e[t+3]=f;return}if(a===1){e[t+0]=m,e[t+1]=g,e[t+2]=v,e[t+3]=y;return}if(f!==y||c!==m||u!==g||d!==v){let w=1-a;const x=c*m+u*g+d*v+f*y,b=x>=0?1:-1,S=1-x*x;if(S>Number.EPSILON){const T=Math.sqrt(S),N=Math.atan2(T,x*b);w=Math.sin(w*N)/T,a=Math.sin(a*N)/T}const A=a*b;if(c=c*w+m*A,u=u*w+g*A,d=d*w+v*A,f=f*w+y*A,w===1-a){const T=1/Math.sqrt(c*c+u*u+d*d+f*f);c*=T,u*=T,d*=T,f*=T}}e[t]=c,e[t+1]=u,e[t+2]=d,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],c=r[i+1],u=r[i+2],d=r[i+3],f=s[o],m=s[o+1],g=s[o+2],v=s[o+3];return e[t]=a*v+d*f+c*g-u*m,e[t+1]=c*v+d*m+u*f-a*g,e[t+2]=u*v+d*g+a*m-c*f,e[t+3]=d*v-a*f-c*m-u*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,c=Math.sin,u=a(r/2),d=a(i/2),f=a(s/2),m=c(r/2),g=c(i/2),v=c(s/2);switch(o){case"XYZ":this._x=m*d*f+u*g*v,this._y=u*g*f-m*d*v,this._z=u*d*v+m*g*f,this._w=u*d*f-m*g*v;break;case"YXZ":this._x=m*d*f+u*g*v,this._y=u*g*f-m*d*v,this._z=u*d*v-m*g*f,this._w=u*d*f+m*g*v;break;case"ZXY":this._x=m*d*f-u*g*v,this._y=u*g*f+m*d*v,this._z=u*d*v+m*g*f,this._w=u*d*f-m*g*v;break;case"ZYX":this._x=m*d*f-u*g*v,this._y=u*g*f+m*d*v,this._z=u*d*v-m*g*f,this._w=u*d*f+m*g*v;break;case"YZX":this._x=m*d*f+u*g*v,this._y=u*g*f+m*d*v,this._z=u*d*v-m*g*f,this._w=u*d*f-m*g*v;break;case"XZY":this._x=m*d*f-u*g*v,this._y=u*g*f-m*d*v,this._z=u*d*v+m*g*f,this._w=u*d*f+m*g*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],c=t[9],u=t[2],d=t[6],f=t[10],m=r+a+f;if(m>0){const g=.5/Math.sqrt(m+1);this._w=.25/g,this._x=(d-c)*g,this._y=(s-u)*g,this._z=(o-i)*g}else if(r>a&&r>f){const g=2*Math.sqrt(1+r-a-f);this._w=(d-c)/g,this._x=.25*g,this._y=(i+o)/g,this._z=(s+u)/g}else if(a>f){const g=2*Math.sqrt(1+a-r-f);this._w=(s-u)/g,this._x=(i+o)/g,this._y=.25*g,this._z=(c+d)/g}else{const g=2*Math.sqrt(1+f-r-a);this._w=(o-i)/g,this._x=(s+u)/g,this._y=(c+d)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Rt(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,c=t._y,u=t._z,d=t._w;return this._x=r*d+o*a+i*u-s*c,this._y=i*d+o*c+s*a-r*u,this._z=s*d+o*u+r*c-i*a,this._w=o*d-r*a-i*c-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const c=1-a*a;if(c<=Number.EPSILON){const g=1-t;return this._w=g*o+t*this._w,this._x=g*r+t*this._x,this._y=g*i+t*this._y,this._z=g*s+t*this._z,this.normalize(),this}const u=Math.sqrt(c),d=Math.atan2(u,a),f=Math.sin((1-t)*d)/u,m=Math.sin(t*d)/u;return this._w=o*f+this._w*m,this._x=r*f+this._x*m,this._y=i*f+this._y*m,this._z=s*f+this._z*m,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class H{constructor(e=0,t=0,r=0){H.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Y2.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Y2.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,c=e.w,u=2*(o*i-a*r),d=2*(a*t-s*i),f=2*(s*r-o*t);return this.x=t+c*u+o*f-a*d,this.y=r+c*d+a*u-s*f,this.z=i+c*f+s*d-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Rt(this.x,e.x,t.x),this.y=Rt(this.y,e.y,t.y),this.z=Rt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Rt(this.x,e,t),this.y=Rt(this.y,e,t),this.z=Rt(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Rt(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,c=t.z;return this.x=i*c-s*a,this.y=s*o-r*c,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return gS.copy(this).projectOnVector(e),this.sub(gS)}reflect(e){return this.sub(gS.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Rt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const gS=new H,Y2=new mr;class _r{constructor(e=new H(1/0,1/0,1/0),t=new H(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(_s.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(_s.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=_s.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,_s):_s.fromBufferAttribute(s,o),_s.applyMatrix4(e.matrixWorld),this.expandByPoint(_s);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),_x.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),_x.copy(r.boundingBox)),_x.applyMatrix4(e.matrixWorld),this.union(_x)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,_s),_s.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Nf),bx.subVectors(this.max,Nf),Yu.subVectors(e.a,Nf),$u.subVectors(e.b,Nf),qu.subVectors(e.c,Nf),Ha.subVectors($u,Yu),Ga.subVectors(qu,$u),uc.subVectors(Yu,qu);let t=[0,-Ha.z,Ha.y,0,-Ga.z,Ga.y,0,-uc.z,uc.y,Ha.z,0,-Ha.x,Ga.z,0,-Ga.x,uc.z,0,-uc.x,-Ha.y,Ha.x,0,-Ga.y,Ga.x,0,-uc.y,uc.x,0];return!xS(t,Yu,$u,qu,bx)||(t=[1,0,0,0,1,0,0,0,1],!xS(t,Yu,$u,qu,bx))?!1:(Sx.crossVectors(Ha,Ga),t=[Sx.x,Sx.y,Sx.z],xS(t,Yu,$u,qu,bx))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_s).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(_s).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Bo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Bo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Bo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Bo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Bo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Bo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Bo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Bo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Bo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Bo=[new H,new H,new H,new H,new H,new H,new H,new H],_s=new H,_x=new _r,Yu=new H,$u=new H,qu=new H,Ha=new H,Ga=new H,uc=new H,Nf=new H,bx=new H,Sx=new H,dc=new H;function xS(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){dc.fromArray(n,s);const a=i.x*Math.abs(dc.x)+i.y*Math.abs(dc.y)+i.z*Math.abs(dc.z),c=e.dot(dc),u=t.dot(dc),d=r.dot(dc);if(Math.max(-Math.max(c,u,d),Math.min(c,u,d))>a)return!1}return!0}const cre=new _r,Rf=new H,vS=new H;class gr{constructor(e=new H,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):cre.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Rf.subVectors(e,this.center);const t=Rf.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(Rf,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(vS.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Rf.copy(e.center).add(vS)),this.expandByPoint(Rf.copy(e.center).sub(vS))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Lo=new H,yS=new H,Ax=new H,Va=new H,wS=new H,Ex=new H,_S=new H;class Eu{constructor(e=new H,t=new H(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Lo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Lo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Lo.copy(this.origin).addScaledVector(this.direction,t),Lo.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){yS.copy(e).add(t).multiplyScalar(.5),Ax.copy(t).sub(e).normalize(),Va.copy(this.origin).sub(yS);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Ax),a=Va.dot(this.direction),c=-Va.dot(Ax),u=Va.lengthSq(),d=Math.abs(1-o*o);let f,m,g,v;if(d>0)if(f=o*c-a,m=o*a-c,v=s*d,f>=0)if(m>=-v)if(m<=v){const y=1/d;f*=y,m*=y,g=f*(f+o*m+2*a)+m*(o*f+m+2*c)+u}else m=s,f=Math.max(0,-(o*m+a)),g=-f*f+m*(m+2*c)+u;else m=-s,f=Math.max(0,-(o*m+a)),g=-f*f+m*(m+2*c)+u;else m<=-v?(f=Math.max(0,-(-o*s+a)),m=f>0?-s:Math.min(Math.max(-s,-c),s),g=-f*f+m*(m+2*c)+u):m<=v?(f=0,m=Math.min(Math.max(-s,-c),s),g=m*(m+2*c)+u):(f=Math.max(0,-(o*s+a)),m=f>0?s:Math.min(Math.max(-s,-c),s),g=-f*f+m*(m+2*c)+u);else m=o>0?-s:s,f=Math.max(0,-(o*m+a)),g=-f*f+m*(m+2*c)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(yS).addScaledVector(Ax,m),g}intersectSphere(e,t){Lo.subVectors(e.center,this.origin);const r=Lo.dot(this.direction),i=Lo.dot(Lo)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,c=r+o;return c<0?null:a<0?this.at(c,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,c;const u=1/this.direction.x,d=1/this.direction.y,f=1/this.direction.z,m=this.origin;return u>=0?(r=(e.min.x-m.x)*u,i=(e.max.x-m.x)*u):(r=(e.max.x-m.x)*u,i=(e.min.x-m.x)*u),d>=0?(s=(e.min.y-m.y)*d,o=(e.max.y-m.y)*d):(s=(e.max.y-m.y)*d,o=(e.min.y-m.y)*d),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-m.z)*f,c=(e.max.z-m.z)*f):(a=(e.max.z-m.z)*f,c=(e.min.z-m.z)*f),r>c||a>i)||((a>r||r!==r)&&(r=a),(c<i||i!==i)&&(i=c),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Lo)!==null}intersectTriangle(e,t,r,i,s){wS.subVectors(t,e),Ex.subVectors(r,e),_S.crossVectors(wS,Ex);let o=this.direction.dot(_S),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Va.subVectors(this.origin,e);const c=a*this.direction.dot(Ex.crossVectors(Va,Ex));if(c<0)return null;const u=a*this.direction.dot(wS.cross(Va));if(u<0||c+u>o)return null;const d=-a*Va.dot(_S);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class St{constructor(e,t,r,i,s,o,a,c,u,d,f,m,g,v,y,w){St.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,c,u,d,f,m,g,v,y,w)}set(e,t,r,i,s,o,a,c,u,d,f,m,g,v,y,w){const x=this.elements;return x[0]=e,x[4]=t,x[8]=r,x[12]=i,x[1]=s,x[5]=o,x[9]=a,x[13]=c,x[2]=u,x[6]=d,x[10]=f,x[14]=m,x[3]=g,x[7]=v,x[11]=y,x[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new St().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Qu.setFromMatrixColumn(e,0).length(),s=1/Qu.setFromMatrixColumn(e,1).length(),o=1/Qu.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),c=Math.cos(i),u=Math.sin(i),d=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const m=o*d,g=o*f,v=a*d,y=a*f;t[0]=c*d,t[4]=-c*f,t[8]=u,t[1]=g+v*u,t[5]=m-y*u,t[9]=-a*c,t[2]=y-m*u,t[6]=v+g*u,t[10]=o*c}else if(e.order==="YXZ"){const m=c*d,g=c*f,v=u*d,y=u*f;t[0]=m+y*a,t[4]=v*a-g,t[8]=o*u,t[1]=o*f,t[5]=o*d,t[9]=-a,t[2]=g*a-v,t[6]=y+m*a,t[10]=o*c}else if(e.order==="ZXY"){const m=c*d,g=c*f,v=u*d,y=u*f;t[0]=m-y*a,t[4]=-o*f,t[8]=v+g*a,t[1]=g+v*a,t[5]=o*d,t[9]=y-m*a,t[2]=-o*u,t[6]=a,t[10]=o*c}else if(e.order==="ZYX"){const m=o*d,g=o*f,v=a*d,y=a*f;t[0]=c*d,t[4]=v*u-g,t[8]=m*u+y,t[1]=c*f,t[5]=y*u+m,t[9]=g*u-v,t[2]=-u,t[6]=a*c,t[10]=o*c}else if(e.order==="YZX"){const m=o*c,g=o*u,v=a*c,y=a*u;t[0]=c*d,t[4]=y-m*f,t[8]=v*f+g,t[1]=f,t[5]=o*d,t[9]=-a*d,t[2]=-u*d,t[6]=g*f+v,t[10]=m-y*f}else if(e.order==="XZY"){const m=o*c,g=o*u,v=a*c,y=a*u;t[0]=c*d,t[4]=-f,t[8]=u*d,t[1]=m*f+y,t[5]=o*d,t[9]=g*f-v,t[2]=v*f-g,t[6]=a*d,t[10]=y*f+m}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(ure,e,dre)}lookAt(e,t,r){const i=this.elements;return Ii.subVectors(e,t),Ii.lengthSq()===0&&(Ii.z=1),Ii.normalize(),Wa.crossVectors(r,Ii),Wa.lengthSq()===0&&(Math.abs(r.z)===1?Ii.x+=1e-4:Ii.z+=1e-4,Ii.normalize(),Wa.crossVectors(r,Ii)),Wa.normalize(),Cx.crossVectors(Ii,Wa),i[0]=Wa.x,i[4]=Cx.x,i[8]=Ii.x,i[1]=Wa.y,i[5]=Cx.y,i[9]=Ii.y,i[2]=Wa.z,i[6]=Cx.z,i[10]=Ii.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],c=r[8],u=r[12],d=r[1],f=r[5],m=r[9],g=r[13],v=r[2],y=r[6],w=r[10],x=r[14],b=r[3],S=r[7],A=r[11],T=r[15],N=i[0],P=i[4],D=i[8],I=i[12],R=i[1],k=i[5],G=i[9],K=i[13],J=i[2],Q=i[6],Y=i[10],se=i[14],L=i[3],j=i[7],W=i[11],$=i[15];return s[0]=o*N+a*R+c*J+u*L,s[4]=o*P+a*k+c*Q+u*j,s[8]=o*D+a*G+c*Y+u*W,s[12]=o*I+a*K+c*se+u*$,s[1]=d*N+f*R+m*J+g*L,s[5]=d*P+f*k+m*Q+g*j,s[9]=d*D+f*G+m*Y+g*W,s[13]=d*I+f*K+m*se+g*$,s[2]=v*N+y*R+w*J+x*L,s[6]=v*P+y*k+w*Q+x*j,s[10]=v*D+y*G+w*Y+x*W,s[14]=v*I+y*K+w*se+x*$,s[3]=b*N+S*R+A*J+T*L,s[7]=b*P+S*k+A*Q+T*j,s[11]=b*D+S*G+A*Y+T*W,s[15]=b*I+S*K+A*se+T*$,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],c=e[9],u=e[13],d=e[2],f=e[6],m=e[10],g=e[14],v=e[3],y=e[7],w=e[11],x=e[15];return v*(+s*c*f-i*u*f-s*a*m+r*u*m+i*a*g-r*c*g)+y*(+t*c*g-t*u*m+s*o*m-i*o*g+i*u*d-s*c*d)+w*(+t*u*f-t*a*g-s*o*f+r*o*g+s*a*d-r*u*d)+x*(-i*a*d-t*c*f+t*a*m+i*o*f-r*o*m+r*c*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],c=e[6],u=e[7],d=e[8],f=e[9],m=e[10],g=e[11],v=e[12],y=e[13],w=e[14],x=e[15],b=f*w*u-y*m*u+y*c*g-a*w*g-f*c*x+a*m*x,S=v*m*u-d*w*u-v*c*g+o*w*g+d*c*x-o*m*x,A=d*y*u-v*f*u+v*a*g-o*y*g-d*a*x+o*f*x,T=v*f*c-d*y*c-v*a*m+o*y*m+d*a*w-o*f*w,N=t*b+r*S+i*A+s*T;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/N;return e[0]=b*P,e[1]=(y*m*s-f*w*s-y*i*g+r*w*g+f*i*x-r*m*x)*P,e[2]=(a*w*s-y*c*s+y*i*u-r*w*u-a*i*x+r*c*x)*P,e[3]=(f*c*s-a*m*s-f*i*u+r*m*u+a*i*g-r*c*g)*P,e[4]=S*P,e[5]=(d*w*s-v*m*s+v*i*g-t*w*g-d*i*x+t*m*x)*P,e[6]=(v*c*s-o*w*s-v*i*u+t*w*u+o*i*x-t*c*x)*P,e[7]=(o*m*s-d*c*s+d*i*u-t*m*u-o*i*g+t*c*g)*P,e[8]=A*P,e[9]=(v*f*s-d*y*s-v*r*g+t*y*g+d*r*x-t*f*x)*P,e[10]=(o*y*s-v*a*s+v*r*u-t*y*u-o*r*x+t*a*x)*P,e[11]=(d*a*s-o*f*s-d*r*u+t*f*u+o*r*g-t*a*g)*P,e[12]=T*P,e[13]=(d*y*i-v*f*i+v*r*m-t*y*m-d*r*w+t*f*w)*P,e[14]=(v*a*i-o*y*i-v*r*c+t*y*c+o*r*w-t*a*w)*P,e[15]=(o*f*i-d*a*i+d*r*c-t*f*c-o*r*m+t*a*m)*P,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,c=e.z,u=s*o,d=s*a;return this.set(u*o+r,u*a-i*c,u*c+i*a,0,u*a+i*c,d*a+r,d*c-i*o,0,u*c-i*a,d*c+i*o,s*c*c+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,c=t._w,u=s+s,d=o+o,f=a+a,m=s*u,g=s*d,v=s*f,y=o*d,w=o*f,x=a*f,b=c*u,S=c*d,A=c*f,T=r.x,N=r.y,P=r.z;return i[0]=(1-(y+x))*T,i[1]=(g+A)*T,i[2]=(v-S)*T,i[3]=0,i[4]=(g-A)*N,i[5]=(1-(m+x))*N,i[6]=(w+b)*N,i[7]=0,i[8]=(v+S)*P,i[9]=(w-b)*P,i[10]=(1-(m+y))*P,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Qu.set(i[0],i[1],i[2]).length();const o=Qu.set(i[4],i[5],i[6]).length(),a=Qu.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],bs.copy(this);const u=1/s,d=1/o,f=1/a;return bs.elements[0]*=u,bs.elements[1]*=u,bs.elements[2]*=u,bs.elements[4]*=d,bs.elements[5]*=d,bs.elements[6]*=d,bs.elements[8]*=f,bs.elements[9]*=f,bs.elements[10]*=f,t.setFromRotationMatrix(bs),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o,a=us){const c=this.elements,u=2*s/(t-e),d=2*s/(r-i),f=(t+e)/(t-e),m=(r+i)/(r-i);let g,v;if(a===us)g=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===im)g=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return c[0]=u,c[4]=0,c[8]=f,c[12]=0,c[1]=0,c[5]=d,c[9]=m,c[13]=0,c[2]=0,c[6]=0,c[10]=g,c[14]=v,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,r,i,s,o,a=us){const c=this.elements,u=1/(t-e),d=1/(r-i),f=1/(o-s),m=(t+e)*u,g=(r+i)*d;let v,y;if(a===us)v=(o+s)*f,y=-2*f;else if(a===im)v=s*f,y=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return c[0]=2*u,c[4]=0,c[8]=0,c[12]=-m,c[1]=0,c[5]=2*d,c[9]=0,c[13]=-g,c[2]=0,c[6]=0,c[10]=y,c[14]=-v,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Qu=new H,bs=new St,ure=new H(0,0,0),dre=new H(1,1,1),Wa=new H,Cx=new H,Ii=new H,$2=new St,q2=new mr;class Wi{constructor(e=0,t=0,r=0,i=Wi.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],c=i[1],u=i[5],d=i[9],f=i[2],m=i[6],g=i[10];switch(t){case"XYZ":this._y=Math.asin(Rt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,g),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(m,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Rt(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,g),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Rt(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-f,g),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-Rt(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(m,g),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Rt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,g));break;case"XZY":this._z=Math.asin(-Rt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(m,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return $2.makeRotationFromQuaternion(e),this.setFromRotationMatrix($2,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return q2.setFromEuler(this),this.setFromQuaternion(q2,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Wi.DEFAULT_ORDER="XYZ";class qc{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let hre=0;const Q2=new H,Zu=new mr,ko=new St,Mx=new H,Pf=new H,fre=new H,pre=new mr,Z2=new H(1,0,0),eI=new H(0,1,0),tI=new H(0,0,1),nI={type:"added"},mre={type:"removed"},ed={type:"childadded",child:null},bS={type:"childremoved",child:null};class en extends Eo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:hre++}),this.uuid=Gi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=en.DEFAULT_UP.clone();const e=new H,t=new Wi,r=new mr,i=new H(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new St},normalMatrix:{value:new Bt}}),this.matrix=new St,this.matrixWorld=new St,this.matrixAutoUpdate=en.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=en.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new qc,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Zu.setFromAxisAngle(e,t),this.quaternion.multiply(Zu),this}rotateOnWorldAxis(e,t){return Zu.setFromAxisAngle(e,t),this.quaternion.premultiply(Zu),this}rotateX(e){return this.rotateOnAxis(Z2,e)}rotateY(e){return this.rotateOnAxis(eI,e)}rotateZ(e){return this.rotateOnAxis(tI,e)}translateOnAxis(e,t){return Q2.copy(e).applyQuaternion(this.quaternion),this.position.add(Q2.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Z2,e)}translateY(e){return this.translateOnAxis(eI,e)}translateZ(e){return this.translateOnAxis(tI,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ko.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Mx.copy(e):Mx.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Pf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ko.lookAt(Pf,Mx,this.up):ko.lookAt(Mx,Pf,this.up),this.quaternion.setFromRotationMatrix(ko),i&&(ko.extractRotation(i.matrixWorld),Zu.setFromRotationMatrix(ko),this.quaternion.premultiply(Zu.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(nI),ed.child=e,this.dispatchEvent(ed),ed.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(mre),bS.child=e,this.dispatchEvent(bS),bS.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ko.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ko.multiply(e.parent.matrixWorld)),e.applyMatrix4(ko),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(nI),ed.child=e,this.dispatchEvent(ed),ed.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Pf,e,fre),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Pf,pre,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(a=>({...a,boundingBox:a.boundingBox?{min:a.boundingBox.min.toArray(),max:a.boundingBox.max.toArray()}:void 0,boundingSphere:a.boundingSphere?{radius:a.boundingSphere.radius,center:a.boundingSphere.center.toArray()}:void 0})),i.instanceInfo=this._instanceInfo.map(a=>({...a})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:this.boundingSphere.center.toArray(),radius:this.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:this.boundingBox.min.toArray(),max:this.boundingBox.max.toArray()}));function s(a,c){return a[c.uuid]===void 0&&(a[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const c=a.shapes;if(Array.isArray(c))for(let u=0,d=c.length;u<d;u++){const f=c[u];s(e.shapes,f)}else s(e.shapes,c)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let c=0,u=this.material.length;c<u;c++)a.push(s(e.materials,this.material[c]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const c=this.animations[a];i.animations.push(s(e.animations,c))}}if(t){const a=o(e.geometries),c=o(e.materials),u=o(e.textures),d=o(e.images),f=o(e.shapes),m=o(e.skeletons),g=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),c.length>0&&(r.materials=c),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),f.length>0&&(r.shapes=f),m.length>0&&(r.skeletons=m),g.length>0&&(r.animations=g),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const c=[];for(const u in a){const d=a[u];delete d.metadata,c.push(d)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}en.DEFAULT_UP=new H(0,1,0);en.DEFAULT_MATRIX_AUTO_UPDATE=!0;en.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ss=new H,Oo=new H,SS=new H,Fo=new H,td=new H,nd=new H,rI=new H,AS=new H,ES=new H,CS=new H,MS=new sn,TS=new sn,NS=new sn;class xi{constructor(e=new H,t=new H,r=new H){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Ss.subVectors(e,t),i.cross(Ss);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Ss.subVectors(i,t),Oo.subVectors(r,t),SS.subVectors(e,t);const o=Ss.dot(Ss),a=Ss.dot(Oo),c=Ss.dot(SS),u=Oo.dot(Oo),d=Oo.dot(SS),f=o*u-a*a;if(f===0)return s.set(0,0,0),null;const m=1/f,g=(u*c-a*d)*m,v=(o*d-a*c)*m;return s.set(1-g-v,v,g)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Fo)===null?!1:Fo.x>=0&&Fo.y>=0&&Fo.x+Fo.y<=1}static getInterpolation(e,t,r,i,s,o,a,c){return this.getBarycoord(e,t,r,i,Fo)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(s,Fo.x),c.addScaledVector(o,Fo.y),c.addScaledVector(a,Fo.z),c)}static getInterpolatedAttribute(e,t,r,i,s,o){return MS.setScalar(0),TS.setScalar(0),NS.setScalar(0),MS.fromBufferAttribute(e,t),TS.fromBufferAttribute(e,r),NS.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(MS,s.x),o.addScaledVector(TS,s.y),o.addScaledVector(NS,s.z),o}static isFrontFacing(e,t,r,i){return Ss.subVectors(r,t),Oo.subVectors(e,t),Ss.cross(Oo).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ss.subVectors(this.c,this.b),Oo.subVectors(this.a,this.b),Ss.cross(Oo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return xi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return xi.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,s){return xi.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return xi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return xi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;td.subVectors(i,r),nd.subVectors(s,r),AS.subVectors(e,r);const c=td.dot(AS),u=nd.dot(AS);if(c<=0&&u<=0)return t.copy(r);ES.subVectors(e,i);const d=td.dot(ES),f=nd.dot(ES);if(d>=0&&f<=d)return t.copy(i);const m=c*f-d*u;if(m<=0&&c>=0&&d<=0)return o=c/(c-d),t.copy(r).addScaledVector(td,o);CS.subVectors(e,s);const g=td.dot(CS),v=nd.dot(CS);if(v>=0&&g<=v)return t.copy(s);const y=g*u-c*v;if(y<=0&&u>=0&&v<=0)return a=u/(u-v),t.copy(r).addScaledVector(nd,a);const w=d*v-g*f;if(w<=0&&f-d>=0&&g-v>=0)return rI.subVectors(s,i),a=(f-d)/(f-d+(g-v)),t.copy(i).addScaledVector(rI,a);const x=1/(w+y+m);return o=y*x,a=m*x,t.copy(r).addScaledVector(td,o).addScaledVector(nd,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const K4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Xa={h:0,s:0,l:0},Tx={h:0,s:0,l:0};function RS(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Ye{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=mi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,rn.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=rn.workingColorSpace){return this.r=e,this.g=t,this.b=r,rn.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=rn.workingColorSpace){if(e=IM(e,1),t=Rt(t,0,1),r=Rt(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=RS(o,s,e+1/3),this.g=RS(o,s,e),this.b=RS(o,s,e-1/3)}return rn.toWorkingColorSpace(this,i),this}setStyle(e,t=mi){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=mi){const r=K4[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=sa(e.r),this.g=sa(e.g),this.b=sa(e.b),this}copyLinearToSRGB(e){return this.r=Yd(e.r),this.g=Yd(e.g),this.b=Yd(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=mi){return rn.fromWorkingColorSpace(Dr.copy(this),e),Math.round(Rt(Dr.r*255,0,255))*65536+Math.round(Rt(Dr.g*255,0,255))*256+Math.round(Rt(Dr.b*255,0,255))}getHexString(e=mi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=rn.workingColorSpace){rn.fromWorkingColorSpace(Dr.copy(this),t);const r=Dr.r,i=Dr.g,s=Dr.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let c,u;const d=(a+o)/2;if(a===o)c=0,u=0;else{const f=o-a;switch(u=d<=.5?f/(o+a):f/(2-o-a),o){case r:c=(i-s)/f+(i<s?6:0);break;case i:c=(s-r)/f+2;break;case s:c=(r-i)/f+4;break}c/=6}return e.h=c,e.s=u,e.l=d,e}getRGB(e,t=rn.workingColorSpace){return rn.fromWorkingColorSpace(Dr.copy(this),t),e.r=Dr.r,e.g=Dr.g,e.b=Dr.b,e}getStyle(e=mi){rn.fromWorkingColorSpace(Dr.copy(this),e);const t=Dr.r,r=Dr.g,i=Dr.b;return e!==mi?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(Xa),this.setHSL(Xa.h+e,Xa.s+t,Xa.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Xa),e.getHSL(Tx);const r=wp(Xa.h,Tx.h,t),i=wp(Xa.s,Tx.s,t),s=wp(Xa.l,Tx.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Dr=new Ye;Ye.NAMES=K4;let gre=0;class ir extends Eo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:gre++}),this.uuid=Gi(),this.name="",this.type="Material",this.blending=Yc,this.side=_o,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=j0,this.blendDst=U0,this.blendEquation=al,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ye(0,0,0),this.blendAlpha=0,this.depthFunc=du,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=tE,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Nc,this.stencilZFail=Nc,this.stencilZPass=Nc,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Yc&&(r.blending=this.blending),this.side!==_o&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==j0&&(r.blendSrc=this.blendSrc),this.blendDst!==U0&&(r.blendDst=this.blendDst),this.blendEquation!==al&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==du&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==tE&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Nc&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Nc&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Nc&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const c=s[a];delete c.metadata,o.push(c)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ui extends ir{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ye(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wi,this.combine=km,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ko=xre();function xre(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let c=0;c<256;++c){const u=c-127;u<-27?(r[c]=0,r[c|256]=32768,i[c]=24,i[c|256]=24):u<-14?(r[c]=1024>>-u-14,r[c|256]=1024>>-u-14|32768,i[c]=-u-1,i[c|256]=-u-1):u<=15?(r[c]=u+15<<10,r[c|256]=u+15<<10|32768,i[c]=13,i[c|256]=13):u<128?(r[c]=31744,r[c|256]=64512,i[c]=24,i[c|256]=24):(r[c]=31744,r[c|256]=64512,i[c]=13,i[c|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let c=1;c<1024;++c){let u=c<<13,d=0;for(;!(u&8388608);)u<<=1,d-=8388608;u&=-8388609,d+=947912704,s[c]=u|d}for(let c=1024;c<2048;++c)s[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)o[c]=c<<23;o[31]=1199570944,o[32]=2147483648;for(let c=33;c<63;++c)o[c]=2147483648+(c-32<<23);o[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(a[c]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function pi(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Rt(n,-65504,65504),Ko.floatView[0]=n;const e=Ko.uint32View[0],t=e>>23&511;return Ko.baseTable[t]+((e&8388607)>>Ko.shiftTable[t])}function Zf(n){const e=n>>10;return Ko.uint32View[0]=Ko.mantissaTable[Ko.offsetTable[e]+(n&1023)]+Ko.exponentTable[e],Ko.floatView[0]}class vre{static toHalfFloat(e){return pi(e)}static fromHalfFloat(e){return Zf(e)}}const $n=new H,Nx=new _e;let yre=0;class an{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:yre++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=rm,this.updateRanges=[],this.gpuType=wi,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Nx.fromBufferAttribute(this,t),Nx.applyMatrix3(e),this.setXY(t,Nx.x,Nx.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)$n.fromBufferAttribute(this,t),$n.applyMatrix3(e),this.setXYZ(t,$n.x,$n.y,$n.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)$n.fromBufferAttribute(this,t),$n.applyMatrix4(e),this.setXYZ(t,$n.x,$n.y,$n.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)$n.fromBufferAttribute(this,t),$n.applyNormalMatrix(e),this.setXYZ(t,$n.x,$n.y,$n.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)$n.fromBufferAttribute(this,t),$n.transformDirection(e),this.setXYZ(t,$n.x,$n.y,$n.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=ei(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Lt(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ei(t,this.array)),t}setX(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ei(t,this.array)),t}setY(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ei(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ei(t,this.array)),t}setW(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Lt(t,this.array),r=Lt(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Lt(t,this.array),r=Lt(r,this.array),i=Lt(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Lt(t,this.array),r=Lt(r,this.array),i=Lt(i,this.array),s=Lt(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==rm&&(e.usage=this.usage),e}}class wre extends an{constructor(e,t,r){super(new Int8Array(e),t,r)}}class _re extends an{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class bre extends an{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class Sre extends an{constructor(e,t,r){super(new Int16Array(e),t,r)}}class DM extends an{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class Are extends an{constructor(e,t,r){super(new Int32Array(e),t,r)}}class BM extends an{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Ere extends an{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=Zf(this.array[e*this.itemSize]);return this.normalized&&(t=ei(t,this.array)),t}setX(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize]=pi(t),this}getY(e){let t=Zf(this.array[e*this.itemSize+1]);return this.normalized&&(t=ei(t,this.array)),t}setY(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize+1]=pi(t),this}getZ(e){let t=Zf(this.array[e*this.itemSize+2]);return this.normalized&&(t=ei(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize+2]=pi(t),this}getW(e){let t=Zf(this.array[e*this.itemSize+3]);return this.normalized&&(t=ei(t,this.array)),t}setW(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize+3]=pi(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Lt(t,this.array),r=Lt(r,this.array)),this.array[e+0]=pi(t),this.array[e+1]=pi(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Lt(t,this.array),r=Lt(r,this.array),i=Lt(i,this.array)),this.array[e+0]=pi(t),this.array[e+1]=pi(r),this.array[e+2]=pi(i),this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Lt(t,this.array),r=Lt(r,this.array),i=Lt(i,this.array),s=Lt(s,this.array)),this.array[e+0]=pi(t),this.array[e+1]=pi(r),this.array[e+2]=pi(i),this.array[e+3]=pi(s),this}}class dt extends an{constructor(e,t,r){super(new Float32Array(e),t,r)}}let Cre=0;const rs=new St,PS=new en,rd=new H,Di=new _r,If=new _r,dr=new H;class Pt extends Eo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Cre++}),this.uuid=Gi(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(V4(e)?BM:DM)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Bt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return rs.makeRotationFromQuaternion(e),this.applyMatrix4(rs),this}rotateX(e){return rs.makeRotationX(e),this.applyMatrix4(rs),this}rotateY(e){return rs.makeRotationY(e),this.applyMatrix4(rs),this}rotateZ(e){return rs.makeRotationZ(e),this.applyMatrix4(rs),this}translate(e,t,r){return rs.makeTranslation(e,t,r),this.applyMatrix4(rs),this}scale(e,t,r){return rs.makeScale(e,t,r),this.applyMatrix4(rs),this}lookAt(e){return PS.lookAt(e),PS.updateMatrix(),this.applyMatrix4(PS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(rd).negate(),this.translate(rd.x,rd.y,rd.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new dt(r,3))}else{const r=Math.min(e.length,t.count);for(let i=0;i<r;i++){const s=e[i];t.setXYZ(i,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new _r);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new H(-1/0,-1/0,-1/0),new H(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Di.setFromBufferAttribute(s),this.morphTargetsRelative?(dr.addVectors(this.boundingBox.min,Di.min),this.boundingBox.expandByPoint(dr),dr.addVectors(this.boundingBox.max,Di.max),this.boundingBox.expandByPoint(dr)):(this.boundingBox.expandByPoint(Di.min),this.boundingBox.expandByPoint(Di.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new gr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new H,1/0);return}if(e){const r=this.boundingSphere.center;if(Di.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];If.setFromBufferAttribute(a),this.morphTargetsRelative?(dr.addVectors(Di.min,If.min),Di.expandByPoint(dr),dr.addVectors(Di.max,If.max),Di.expandByPoint(dr)):(Di.expandByPoint(If.min),Di.expandByPoint(If.max))}Di.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)dr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(dr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],c=this.morphTargetsRelative;for(let u=0,d=a.count;u<d;u++)dr.fromBufferAttribute(a,u),c&&(rd.fromBufferAttribute(e,u),dr.add(rd)),i=Math.max(i,r.distanceToSquared(dr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,i=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new an(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],c=[];for(let D=0;D<r.count;D++)a[D]=new H,c[D]=new H;const u=new H,d=new H,f=new H,m=new _e,g=new _e,v=new _e,y=new H,w=new H;function x(D,I,R){u.fromBufferAttribute(r,D),d.fromBufferAttribute(r,I),f.fromBufferAttribute(r,R),m.fromBufferAttribute(s,D),g.fromBufferAttribute(s,I),v.fromBufferAttribute(s,R),d.sub(u),f.sub(u),g.sub(m),v.sub(m);const k=1/(g.x*v.y-v.x*g.y);isFinite(k)&&(y.copy(d).multiplyScalar(v.y).addScaledVector(f,-g.y).multiplyScalar(k),w.copy(f).multiplyScalar(g.x).addScaledVector(d,-v.x).multiplyScalar(k),a[D].add(y),a[I].add(y),a[R].add(y),c[D].add(w),c[I].add(w),c[R].add(w))}let b=this.groups;b.length===0&&(b=[{start:0,count:e.count}]);for(let D=0,I=b.length;D<I;++D){const R=b[D],k=R.start,G=R.count;for(let K=k,J=k+G;K<J;K+=3)x(e.getX(K+0),e.getX(K+1),e.getX(K+2))}const S=new H,A=new H,T=new H,N=new H;function P(D){T.fromBufferAttribute(i,D),N.copy(T);const I=a[D];S.copy(I),S.sub(T.multiplyScalar(T.dot(I))).normalize(),A.crossVectors(N,I);const k=A.dot(c[D])<0?-1:1;o.setXYZW(D,S.x,S.y,S.z,k)}for(let D=0,I=b.length;D<I;++D){const R=b[D],k=R.start,G=R.count;for(let K=k,J=k+G;K<J;K+=3)P(e.getX(K+0)),P(e.getX(K+1)),P(e.getX(K+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new an(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let m=0,g=r.count;m<g;m++)r.setXYZ(m,0,0,0);const i=new H,s=new H,o=new H,a=new H,c=new H,u=new H,d=new H,f=new H;if(e)for(let m=0,g=e.count;m<g;m+=3){const v=e.getX(m+0),y=e.getX(m+1),w=e.getX(m+2);i.fromBufferAttribute(t,v),s.fromBufferAttribute(t,y),o.fromBufferAttribute(t,w),d.subVectors(o,s),f.subVectors(i,s),d.cross(f),a.fromBufferAttribute(r,v),c.fromBufferAttribute(r,y),u.fromBufferAttribute(r,w),a.add(d),c.add(d),u.add(d),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(y,c.x,c.y,c.z),r.setXYZ(w,u.x,u.y,u.z)}else for(let m=0,g=t.count;m<g;m+=3)i.fromBufferAttribute(t,m+0),s.fromBufferAttribute(t,m+1),o.fromBufferAttribute(t,m+2),d.subVectors(o,s),f.subVectors(i,s),d.cross(f),r.setXYZ(m+0,d.x,d.y,d.z),r.setXYZ(m+1,d.x,d.y,d.z),r.setXYZ(m+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)dr.fromBufferAttribute(e,t),dr.normalize(),e.setXYZ(t,dr.x,dr.y,dr.z)}toNonIndexed(){function e(a,c){const u=a.array,d=a.itemSize,f=a.normalized,m=new u.constructor(c.length*d);let g=0,v=0;for(let y=0,w=c.length;y<w;y++){a.isInterleavedBufferAttribute?g=c[y]*a.data.stride+a.offset:g=c[y]*d;for(let x=0;x<d;x++)m[v++]=u[g++]}return new an(m,d,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Pt,r=this.index.array,i=this.attributes;for(const a in i){const c=i[a],u=e(c,r);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const c=[],u=s[a];for(let d=0,f=u.length;d<f;d++){const m=u[d],g=e(m,r);c.push(g)}t.morphAttributes[a]=c}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,c=o.length;a<c;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const u in c)c[u]!==void 0&&(e[u]=c[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const c in r){const u=r[c];e.data.attributes[c]=u.toJSON(e.data)}const i={};let s=!1;for(const c in this.morphAttributes){const u=this.morphAttributes[c],d=[];for(let f=0,m=u.length;f<m;f++){const g=u[f];d.push(g.toJSON(e.data))}d.length>0&&(i[c]=d,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const u in i){const d=i[u];this.setAttribute(u,d.clone(t))}const s=e.morphAttributes;for(const u in s){const d=[],f=s[u];for(let m=0,g=f.length;m<g;m++)d.push(f[m].clone(t));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,d=o.length;u<d;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const iI=new St,hc=new Eu,Rx=new gr,sI=new H,Px=new H,Ix=new H,Dx=new H,IS=new H,Bx=new H,oI=new H,Lx=new H;class Wn extends en{constructor(e=new Pt,t=new Ui){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){Bx.set(0,0,0);for(let c=0,u=s.length;c<u;c++){const d=a[c],f=s[c];d!==0&&(IS.fromBufferAttribute(f,e),o?Bx.addScaledVector(IS,d):Bx.addScaledVector(IS.sub(t),d))}t.add(Bx)}return t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Rx.copy(r.boundingSphere),Rx.applyMatrix4(s),hc.copy(e.ray).recast(e.near),!(Rx.containsPoint(hc.origin)===!1&&(hc.intersectSphere(Rx,sI)===null||hc.origin.distanceToSquared(sI)>(e.far-e.near)**2))&&(iI.copy(s).invert(),hc.copy(e.ray).applyMatrix4(iI),!(r.boundingBox!==null&&hc.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,hc)))}_computeIntersections(e,t,r){let i;const s=this.geometry,o=this.material,a=s.index,c=s.attributes.position,u=s.attributes.uv,d=s.attributes.uv1,f=s.attributes.normal,m=s.groups,g=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,y=m.length;v<y;v++){const w=m[v],x=o[w.materialIndex],b=Math.max(w.start,g.start),S=Math.min(a.count,Math.min(w.start+w.count,g.start+g.count));for(let A=b,T=S;A<T;A+=3){const N=a.getX(A),P=a.getX(A+1),D=a.getX(A+2);i=kx(this,x,e,r,u,d,f,N,P,D),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=w.materialIndex,t.push(i))}}else{const v=Math.max(0,g.start),y=Math.min(a.count,g.start+g.count);for(let w=v,x=y;w<x;w+=3){const b=a.getX(w),S=a.getX(w+1),A=a.getX(w+2);i=kx(this,o,e,r,u,d,f,b,S,A),i&&(i.faceIndex=Math.floor(w/3),t.push(i))}}else if(c!==void 0)if(Array.isArray(o))for(let v=0,y=m.length;v<y;v++){const w=m[v],x=o[w.materialIndex],b=Math.max(w.start,g.start),S=Math.min(c.count,Math.min(w.start+w.count,g.start+g.count));for(let A=b,T=S;A<T;A+=3){const N=A,P=A+1,D=A+2;i=kx(this,x,e,r,u,d,f,N,P,D),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=w.materialIndex,t.push(i))}}else{const v=Math.max(0,g.start),y=Math.min(c.count,g.start+g.count);for(let w=v,x=y;w<x;w+=3){const b=w,S=w+1,A=w+2;i=kx(this,o,e,r,u,d,f,b,S,A),i&&(i.faceIndex=Math.floor(w/3),t.push(i))}}}}function Mre(n,e,t,r,i,s,o,a){let c;if(e.side===ni?c=r.intersectTriangle(o,s,i,!0,a):c=r.intersectTriangle(i,s,o,e.side===_o,a),c===null)return null;Lx.copy(a),Lx.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(Lx);return u<t.near||u>t.far?null:{distance:u,point:Lx.clone(),object:n}}function kx(n,e,t,r,i,s,o,a,c,u){n.getVertexPosition(a,Px),n.getVertexPosition(c,Ix),n.getVertexPosition(u,Dx);const d=Mre(n,e,t,r,Px,Ix,Dx,oI);if(d){const f=new H;xi.getBarycoord(oI,Px,Ix,Dx,f),i&&(d.uv=xi.getInterpolatedAttribute(i,a,c,u,f,new _e)),s&&(d.uv1=xi.getInterpolatedAttribute(s,a,c,u,f,new _e)),o&&(d.normal=xi.getInterpolatedAttribute(o,a,c,u,f,new H),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const m={a,b:c,c:u,normal:new H,materialIndex:0};xi.getNormal(Px,Ix,Dx,m.normal),d.face=m,d.barycoord=f}return d}class Cu extends Pt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const c=[],u=[],d=[],f=[];let m=0,g=0;v("z","y","x",-1,-1,r,t,e,o,s,0),v("z","y","x",1,-1,r,t,-e,o,s,1),v("x","z","y",1,1,e,r,t,i,o,2),v("x","z","y",1,-1,e,r,-t,i,o,3),v("x","y","z",1,-1,e,t,r,i,s,4),v("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(c),this.setAttribute("position",new dt(u,3)),this.setAttribute("normal",new dt(d,3)),this.setAttribute("uv",new dt(f,2));function v(y,w,x,b,S,A,T,N,P,D,I){const R=A/P,k=T/D,G=A/2,K=T/2,J=N/2,Q=P+1,Y=D+1;let se=0,L=0;const j=new H;for(let W=0;W<Y;W++){const $=W*k-K;for(let oe=0;oe<Q;oe++){const Se=oe*R-G;j[y]=Se*b,j[w]=$*S,j[x]=J,u.push(j.x,j.y,j.z),j[y]=0,j[w]=0,j[x]=N>0?1:-1,d.push(j.x,j.y,j.z),f.push(oe/P),f.push(1-W/D),se+=1}}for(let W=0;W<D;W++)for(let $=0;$<P;$++){const oe=m+$+Q*W,Se=m+$+Q*(W+1),ne=m+($+1)+Q*(W+1),we=m+($+1)+Q*W;c.push(oe,Se,we),c.push(Se,ne,we),L+=6}a.addGroup(g,L,I),g+=L,m+=se}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Th(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function $r(n){const e={};for(let t=0;t<n.length;t++){const r=Th(n[t]);for(const i in r)e[i]=r[i]}return e}function Tre(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function J4(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:rn.workingColorSpace}const Y4={clone:Th,merge:$r};var Nre=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Rre=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Gs extends ir{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Nre,this.fragmentShader=Rre,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Th(e.uniforms),this.uniformsGroups=Tre(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class jm extends en{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new St,this.projectionMatrix=new St,this.projectionMatrixInverse=new St,this.coordinateSystem=us}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Ka=new H,aI=new _e,lI=new _e;class Un extends jm{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Mh*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan($c*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Mh*2*Math.atan(Math.tan($c*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){Ka.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Ka.x,Ka.y).multiplyScalar(-e/Ka.z),Ka.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Ka.x,Ka.y).multiplyScalar(-e/Ka.z)}getViewSize(e,t){return this.getViewBounds(e,aI,lI),t.subVectors(lI,aI)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan($c*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const c=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/c,t-=o.offsetY*r/u,i*=o.width/c,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const id=-90,sd=1;class $4 extends en{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Un(id,sd,e,t);i.layers=this.layers,this.add(i);const s=new Un(id,sd,e,t);s.layers=this.layers,this.add(s);const o=new Un(id,sd,e,t);o.layers=this.layers,this.add(o);const a=new Un(id,sd,e,t);a.layers=this.layers,this.add(a);const c=new Un(id,sd,e,t);c.layers=this.layers,this.add(c);const u=new Un(id,sd,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,o,a,c]=t;for(const u of t)this.remove(u);if(e===us)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===im)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,c,u,d]=this.children,f=e.getRenderTarget(),m=e.getActiveCubeFace(),g=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const y=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,s),e.setRenderTarget(r,1,i),e.render(t,o),e.setRenderTarget(r,2,i),e.render(t,a),e.setRenderTarget(r,3,i),e.render(t,c),e.setRenderTarget(r,4,i),e.render(t,u),r.texture.generateMipmaps=y,e.setRenderTarget(r,5,i),e.render(t,d),e.setRenderTarget(f,m,g),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class Um extends Nn{constructor(e=[],t=ya,r,i,s,o,a,c,u,d){super(e,t,r,i,s,o,a,c,u,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class q4 extends bo{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Um(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Vn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Cu(5,5,5),s=new Gs({name:"CubemapFromEquirect",uniforms:Th(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ni,blending:ia});s.uniforms.tEquirect.value=t;const o=new Wn(i,s),a=t.minFilter;return t.minFilter===cs&&(t.minFilter=Vn),new $4(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,r=!0,i=!0){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}class Qo extends en{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Pre={type:"move"};class Wv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Qo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Qo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new H,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new H),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Qo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new H,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new H),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,c=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const y of e.hand.values()){const w=t.getJointPose(y,r),x=this._getHandJoint(u,y);w!==null&&(x.matrix.fromArray(w.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.matrixWorldNeedsUpdate=!0,x.jointRadius=w.radius),x.visible=w!==null}const d=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],m=d.position.distanceTo(f.position),g=.02,v=.005;u.inputState.pinching&&m>g+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&m<=g-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Pre)))}return a!==null&&(a.visible=i!==null),c!==null&&(c.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Qo;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class kw{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ye(e),this.density=t}clone(){return new kw(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Ow{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new Ye(e),this.near=t,this.far=r}clone(){return new Ow(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class LM extends en{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Wi,this.environmentIntensity=1,this.environmentRotation=new Wi,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class zm{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=rm,this.updateRanges=[],this.version=0,this.uuid=Gi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Gi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Gi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Yr=new H;class Ul{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Yr.fromBufferAttribute(this,t),Yr.applyMatrix4(e),this.setXYZ(t,Yr.x,Yr.y,Yr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Yr.fromBufferAttribute(this,t),Yr.applyNormalMatrix(e),this.setXYZ(t,Yr.x,Yr.y,Yr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Yr.fromBufferAttribute(this,t),Yr.transformDirection(e),this.setXYZ(t,Yr.x,Yr.y,Yr.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=ei(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Lt(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=Lt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Lt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Lt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Lt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ei(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ei(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ei(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ei(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Lt(t,this.array),r=Lt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Lt(t,this.array),r=Lt(r,this.array),i=Lt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Lt(t,this.array),r=Lt(r,this.array),i=Lt(i,this.array),s=Lt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new an(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ul(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class kM extends ir{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ye(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let od;const Df=new H,ad=new H,ld=new H,cd=new _e,Bf=new _e,Q4=new St,Ox=new H,Lf=new H,Fx=new H,cI=new _e,DS=new _e,uI=new _e;class Z4 extends en{constructor(e=new kM){if(super(),this.isSprite=!0,this.type="Sprite",od===void 0){od=new Pt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new zm(t,5);od.setIndex([0,1,2,0,2,3]),od.setAttribute("position",new Ul(r,3,0,!1)),od.setAttribute("uv",new Ul(r,2,3,!1))}this.geometry=od,this.material=e,this.center=new _e(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ad.setFromMatrixScale(this.matrixWorld),Q4.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ld.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ad.multiplyScalar(-ld.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;jx(Ox.set(-.5,-.5,0),ld,o,ad,i,s),jx(Lf.set(.5,-.5,0),ld,o,ad,i,s),jx(Fx.set(.5,.5,0),ld,o,ad,i,s),cI.set(0,0),DS.set(1,0),uI.set(1,1);let a=e.ray.intersectTriangle(Ox,Lf,Fx,!1,Df);if(a===null&&(jx(Lf.set(-.5,.5,0),ld,o,ad,i,s),DS.set(0,1),a=e.ray.intersectTriangle(Ox,Fx,Lf,!1,Df),a===null))return;const c=e.ray.origin.distanceTo(Df);c<e.near||c>e.far||t.push({distance:c,point:Df.clone(),uv:xi.getInterpolation(Df,Ox,Lf,Fx,cI,DS,uI,new _e),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function jx(n,e,t,r,i,s){cd.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Bf.x=s*cd.x-i*cd.y,Bf.y=i*cd.x+s*cd.y):Bf.copy(cd),n.copy(e),n.x+=Bf.x,n.y+=Bf.y,n.applyMatrix4(Q4)}const Ux=new H,dI=new H;class e5 extends en{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let r=0;r<t.length;r++)if(t[r].distance===e){const i=t.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Ux.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Ux);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Ux.setFromMatrixPosition(e.matrixWorld),dI.setFromMatrixPosition(this.matrixWorld);const r=Ux.distanceTo(dI)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const hI=new H,fI=new sn,pI=new sn,Ire=new H,mI=new St,zx=new H,BS=new gr,gI=new St,LS=new Eu;class OM extends Wn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=eE,this.bindMatrix=new St,this.bindMatrixInverse=new St,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new _r),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,zx),this.boundingBox.expandByPoint(zx)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new gr),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,zx),this.boundingSphere.expandByPoint(zx)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),BS.copy(this.boundingSphere),BS.applyMatrix4(i),e.ray.intersectsSphere(BS)!==!1&&(gI.copy(i).invert(),LS.copy(e.ray).applyMatrix4(gI),!(this.boundingBox!==null&&LS.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,LS)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new sn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===eE?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===T4?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;fI.fromBufferAttribute(i.attributes.skinIndex,e),pI.fromBufferAttribute(i.attributes.skinWeight,e),hI.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=pI.getComponent(s);if(o!==0){const a=fI.getComponent(s);mI.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(Ire.copy(hI).applyMatrix4(mI),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Fw extends en{constructor(){super(),this.isBone=!0,this.type="Bone"}}class yo extends Nn{constructor(e=null,t=1,r=1,i,s,o,a,c,u=pr,d=pr,f,m){super(null,o,a,c,u,d,i,s,f,m),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const xI=new St,Dre=new St;class Hm{constructor(e=[],t=[]){this.uuid=Gi(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new St)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new St;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Dre;xI.multiplyMatrices(a,t[s]),xI.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Hm(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new yo(t,e,e,Fr,wi);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Fw),this.bones.push(o),this.boneInverses.push(new St().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class fu extends an{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ud=new St,vI=new St,Hx=[],yI=new _r,Bre=new St,kf=new Wn,Of=new gr;class FM extends Wn{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new fu(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Bre)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new _r),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,ud),yI.copy(e.boundingBox).applyMatrix4(ud),this.boundingBox.union(yI)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new gr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,ud),Of.copy(e.boundingSphere).applyMatrix4(ud),this.boundingSphere.union(Of)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const r=t.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,o=e*s+1;for(let a=0;a<r.length;a++)r[a]=i[o+a]}raycast(e,t){const r=this.matrixWorld,i=this.count;if(kf.geometry=this.geometry,kf.material=this.material,kf.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Of.copy(this.boundingSphere),Of.applyMatrix4(r),e.ray.intersectsSphere(Of)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,ud),vI.multiplyMatrices(r,ud),kf.matrixWorld=vI,kf.raycast(e,Hx);for(let o=0,a=Hx.length;o<a;o++){const c=Hx[o];c.instanceId=s,c.object=this,t.push(c)}Hx.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new fu(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const r=t.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new yo(new Float32Array(i*this.count),i,this.count,Rw,wi));const s=this.morphTexture.source.data.data;let o=0;for(let u=0;u<r.length;u++)o+=r[u];const a=this.geometry.morphTargetsRelative?1:1-o,c=i*e;s[c]=a,s.set(r,c+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const kS=new H,Lre=new H,kre=new Bt;class Wo{constructor(e=new H(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=kS.subVectors(r,t).cross(Lre.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(kS),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||kre.getNormalMatrix(e),i=this.coplanarPoint(kS).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const fc=new gr,Gx=new H;class Jh{constructor(e=new Wo,t=new Wo,r=new Wo,i=new Wo,s=new Wo,o=new Wo){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=us){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],c=i[3],u=i[4],d=i[5],f=i[6],m=i[7],g=i[8],v=i[9],y=i[10],w=i[11],x=i[12],b=i[13],S=i[14],A=i[15];if(r[0].setComponents(c-s,m-u,w-g,A-x).normalize(),r[1].setComponents(c+s,m+u,w+g,A+x).normalize(),r[2].setComponents(c+o,m+d,w+v,A+b).normalize(),r[3].setComponents(c-o,m-d,w-v,A-b).normalize(),r[4].setComponents(c-a,m-f,w-y,A-S).normalize(),t===us)r[5].setComponents(c+a,m+f,w+y,A+S).normalize();else if(t===im)r[5].setComponents(a,f,y,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),fc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),fc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(fc)}intersectsSprite(e){return fc.center.set(0,0,0),fc.radius=.7071067811865476,fc.applyMatrix4(e.matrixWorld),this.intersectsSphere(fc)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Gx.x=i.normal.x>0?e.max.x:e.min.x,Gx.y=i.normal.y>0?e.max.y:e.min.y,Gx.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Gx)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const ro=new St,io=new Jh;class jw{constructor(){this.coordinateSystem=us}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(ro.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),io.setFromProjectionMatrix(ro,this.coordinateSystem),io.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(ro.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),io.setFromProjectionMatrix(ro,this.coordinateSystem),io.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(ro.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),io.setFromProjectionMatrix(ro,this.coordinateSystem),io.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(ro.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),io.setFromProjectionMatrix(ro,this.coordinateSystem),io.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(ro.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),io.setFromProjectionMatrix(ro,this.coordinateSystem),io.containsPoint(e))return!0}return!1}clone(){return new jw}}function OS(n,e){return n-e}function Ore(n,e){return n.z-e.z}function Fre(n,e){return e.z-n.z}class jre{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,r,i){const s=this.pool,o=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const a=s[this.index];o.push(a),this.index++,a.start=e,a.count=t,a.z=r,a.index=i}reset(){this.list.length=0,this.index=0}}const fi=new St,Ure=new Ye(1,1,1),wI=new Jh,zre=new jw,Vx=new _r,pc=new gr,Ff=new H,_I=new H,Hre=new H,FS=new jre,Br=new Wn,Wx=[];function Gre(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const i=n.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+t,o,n.getComponent(s,o))}else e.array.set(n.array,t*r);e.needsUpdate=!0}function mc(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++)e[r]=n[r]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class t5 extends Wn{constructor(e,t,r=t*2,i){super(new Pt,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new yo(t,e,e,Fr,wi);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),r=new yo(t,e,e,Om,wa);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),r=new yo(t,e,e,Fr,wi);r.colorSpace=rn.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:c,normalized:u}=o,d=new a.constructor(r*c),f=new an(d,c,u);t.setAttribute(s,f)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new an(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=t.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new _r);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const s=t[r].geometryIndex;this.getMatrixAt(r,fi),this.getBoundingBoxAt(s,Vx).applyMatrix4(fi),e.union(Vx)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new gr);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const s=t[r].geometryIndex;this.getMatrixAt(r,fi),this.getBoundingSphereAt(s,pc).applyMatrix4(fi),e.union(pc)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(OS),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const s=this._matricesTexture;fi.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(Ure.toArray(o.image.data,i*4),o.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,t=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?o.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let c;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(OS),c=this._availableGeometryIds.shift(),s[c]=i):(c=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(c,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,c}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=t.getIndex(),a=this._geometryInfo[e];if(i&&o.count>a.reservedIndexCount||t.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const c=a.vertexStart,u=a.reservedVertexCount;a.vertexCount=t.getAttribute("position").count;for(const d in r.attributes){const f=t.getAttribute(d),m=r.getAttribute(d);Gre(f,m,c);const g=f.itemSize;for(let v=f.count,y=u;v<y;v++){const w=c+v;for(let x=0;x<g;x++)m.setComponent(w,x,0)}m.needsUpdate=!0,m.addUpdateRange(c*g,u*g)}if(i){const d=a.indexStart,f=a.reservedIndexCount;a.indexCount=t.getIndex().count;for(let m=0;m<o.count;m++)s.setX(d+m,c+o.getX(m));for(let m=o.count,g=f;m<g;m++)s.setX(d+m,c);s.needsUpdate=!0,s.addUpdateRange(d,a.reservedIndexCount)}return a.start=i?a.indexStart:a.vertexStart,a.count=i?a.indexCount:a.vertexCount,a.boundingBox=null,t.boundingBox!==null&&(a.boundingBox=t.boundingBox.clone()),a.boundingSphere=null,t.boundingSphere!==null&&(a.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,s=r.length;i<s;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const r=this._geometryInfo,i=r.map((o,a)=>a).sort((o,a)=>r[o].vertexStart-r[a].vertexStart),s=this.geometry;for(let o=0,a=r.length;o<a;o++){const c=i[o],u=r[c];if(u.active!==!1){if(s.index!==null){if(u.indexStart!==t){const{indexStart:d,vertexStart:f,reservedIndexCount:m}=u,g=s.index,v=g.array,y=e-f;for(let w=d;w<d+m;w++)v[w]=v[w]+y;g.array.copyWithin(t,d,d+m),g.addUpdateRange(t,m),u.indexStart=t}t+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:d,reservedVertexCount:f}=u,m=s.attributes;for(const g in m){const v=m[g],{array:y,itemSize:w}=v;y.copyWithin(e*w,d*w,(d+f)*w),v.addUpdateRange(e*w,f*w)}u.vertexStart=e}e+=u.reservedVertexCount,u.start=s.index?u.indexStart:u.vertexStart,this._nextIndexStart=s.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const s=new _r,o=r.index,a=r.attributes.position;for(let c=i.start,u=i.start+i.count;c<u;c++){let d=c;o&&(d=o.getX(d)),s.expandByPoint(Ff.fromBufferAttribute(a,d))}i.boundingBox=s}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const s=new gr;this.getBoundingBoxAt(e,Vx),Vx.getCenter(s.center);const o=r.index,a=r.attributes.position;let c=0;for(let u=i.start,d=i.start+i.count;u<d;u++){let f=u;o&&(f=o.getX(f)),Ff.fromBufferAttribute(a,f),c=Math.max(c,s.center.distanceToSquared(Ff))}s.radius=Math.sqrt(c),i.boundingSphere=s}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return t.vertexStart=r.vertexStart,t.vertexCount=r.vertexCount,t.reservedVertexCount=r.reservedVertexCount,t.indexStart=r.indexStart,t.indexCount=r.indexCount,t.reservedIndexCount=r.reservedIndexCount,t.start=r.start,t.count=r.count,t}setInstanceCount(e){const t=this._availableInstanceIds,r=this._instanceInfo;for(t.sort(OS);t[t.length-1]===r.length;)r.pop(),t.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),s=new Int32Array(e);mc(this._multiDrawCounts,i),mc(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=e;const o=this._indirectTexture,a=this._matricesTexture,c=this._colorsTexture;o.dispose(),this._initIndirectTexture(),mc(o.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),mc(a.image.data,this._matricesTexture.image.data),c&&(c.dispose(),this._initColorsTexture(),mc(c.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const r=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...r.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(c=>c.indexStart+c.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Pt,this._initializeGeometry(s));const o=this.geometry;s.index&&mc(s.index.array,o.index.array);for(const a in s.attributes)mc(s.attributes[a].array,o.attributes[a].array)}raycast(e,t){const r=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,o=this.geometry;Br.material=this.material,Br.geometry.index=o.index,Br.geometry.attributes=o.attributes,Br.geometry.boundingBox===null&&(Br.geometry.boundingBox=new _r),Br.geometry.boundingSphere===null&&(Br.geometry.boundingSphere=new gr);for(let a=0,c=r.length;a<c;a++){if(!r[a].visible||!r[a].active)continue;const u=r[a].geometryIndex,d=i[u];Br.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(a,Br.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,Br.geometry.boundingBox),this.getBoundingSphereAt(u,Br.geometry.boundingSphere),Br.raycast(e,Wx);for(let f=0,m=Wx.length;f<m;f++){const g=Wx[f];g.object=this,g.batchId=a,t.push(g)}Wx.length=0}Br.material=null,Br.geometry.index=null,Br.geometry.attributes={},Br.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,c=this._instanceInfo,u=this._multiDrawStarts,d=this._multiDrawCounts,f=this._geometryInfo,m=this.perObjectFrustumCulled,g=this._indirectTexture,v=g.image.data,y=r.isArrayCamera?zre:wI;m&&!r.isArrayCamera&&(fi.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),wI.setFromProjectionMatrix(fi,e.coordinateSystem));let w=0;if(this.sortObjects){fi.copy(this.matrixWorld).invert(),Ff.setFromMatrixPosition(r.matrixWorld).applyMatrix4(fi),_I.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(fi);for(let S=0,A=c.length;S<A;S++)if(c[S].visible&&c[S].active){const T=c[S].geometryIndex;this.getMatrixAt(S,fi),this.getBoundingSphereAt(T,pc).applyMatrix4(fi);let N=!1;if(m&&(N=!y.intersectsSphere(pc,r)),!N){const P=f[T],D=Hre.subVectors(pc.center,Ff).dot(_I);FS.push(P.start,P.count,D,S)}}const x=FS.list,b=this.customSort;b===null?x.sort(s.transparent?Fre:Ore):b.call(this,x,r);for(let S=0,A=x.length;S<A;S++){const T=x[S];u[w]=T.start*a,d[w]=T.count,v[w]=T.index,w++}FS.reset()}else for(let x=0,b=c.length;x<b;x++)if(c[x].visible&&c[x].active){const S=c[x].geometryIndex;let A=!1;if(m&&(this.getMatrixAt(x,fi),this.getBoundingSphereAt(S,pc).applyMatrix4(fi),A=!y.intersectsSphere(pc,r)),!A){const T=f[S];u[w]=T.start*a,d[w]=T.count,v[w]=x,w++}}g.needsUpdate=!0,this._multiDrawCount=w,this._visibilityChanged=!1}onBeforeShadow(e,t,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class Wr extends ir{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ye(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const _y=new H,by=new H,bI=new St,jf=new Eu,Xx=new gr,jS=new H,SI=new H;class _a extends en{constructor(e=new Pt,t=new Wr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)_y.fromBufferAttribute(t,i-1),by.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=_y.distanceTo(by);e.setAttribute("lineDistance",new dt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Xx.copy(r.boundingSphere),Xx.applyMatrix4(i),Xx.radius+=s,e.ray.intersectsSphere(Xx)===!1)return;bI.copy(i).invert(),jf.copy(e.ray).applyMatrix4(bI);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=a*a,u=this.isLineSegments?2:1,d=r.index,m=r.attributes.position;if(d!==null){const g=Math.max(0,o.start),v=Math.min(d.count,o.start+o.count);for(let y=g,w=v-1;y<w;y+=u){const x=d.getX(y),b=d.getX(y+1),S=Kx(this,e,jf,c,x,b,y);S&&t.push(S)}if(this.isLineLoop){const y=d.getX(v-1),w=d.getX(g),x=Kx(this,e,jf,c,y,w,v-1);x&&t.push(x)}}else{const g=Math.max(0,o.start),v=Math.min(m.count,o.start+o.count);for(let y=g,w=v-1;y<w;y+=u){const x=Kx(this,e,jf,c,y,y+1,y);x&&t.push(x)}if(this.isLineLoop){const y=Kx(this,e,jf,c,v-1,g,v-1);y&&t.push(y)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function Kx(n,e,t,r,i,s,o){const a=n.geometry.attributes.position;if(_y.fromBufferAttribute(a,i),by.fromBufferAttribute(a,s),t.distanceSqToSegment(_y,by,jS,SI)>r)return;jS.applyMatrix4(n.matrixWorld);const u=e.ray.origin.distanceTo(jS);if(!(u<e.near||u>e.far))return{distance:u,point:SI.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const AI=new H,EI=new H;class Ws extends _a{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)AI.fromBufferAttribute(t,i),EI.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+AI.distanceTo(EI);e.setAttribute("lineDistance",new dt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class jM extends _a{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Uw extends ir{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ye(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const CI=new St,rE=new Eu,Jx=new gr,Yx=new H;class UM extends en{constructor(e=new Pt,t=new Uw){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Jx.copy(r.boundingSphere),Jx.applyMatrix4(i),Jx.radius+=s,e.ray.intersectsSphere(Jx)===!1)return;CI.copy(i).invert(),rE.copy(e.ray).applyMatrix4(CI);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=a*a,u=r.index,f=r.attributes.position;if(u!==null){const m=Math.max(0,o.start),g=Math.min(u.count,o.start+o.count);for(let v=m,y=g;v<y;v++){const w=u.getX(v);Yx.fromBufferAttribute(f,w),MI(Yx,w,c,i,e,t,this)}}else{const m=Math.max(0,o.start),g=Math.min(f.count,o.start+o.count);for(let v=m,y=g;v<y;v++)Yx.fromBufferAttribute(f,v),MI(Yx,v,c,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function MI(n,e,t,r,i,s,o){const a=rE.distanceSqToPoint(n);if(a<t){const c=new H;rE.closestPointToPoint(n,c),c.applyMatrix4(r);const u=i.ray.origin.distanceTo(c);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:c,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class n5 extends Nn{constructor(e,t,r,i,s=Vn,o=Vn,a,c,u){super(e,t,r,i,s,o,a,c,u),this.isVideoTexture=!0,this.generateMipmaps=!1;const d=this;function f(){d.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Vre extends n5{constructor(e,t,r,i,s,o,a,c){super({},e,t,r,i,s,o,a,c),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Wre extends Nn{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=pr,this.minFilter=pr,this.generateMipmaps=!1,this.needsUpdate=!0}}class zw extends Nn{constructor(e,t,r,i,s,o,a,c,u,d,f,m){super(null,o,a,c,u,d,i,s,f,m),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Xre extends zw{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=ji,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Kre extends zw{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,ya),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Jre extends Nn{constructor(e,t,r,i,s,o,a,c,u){super(e,t,r,i,s,o,a,c,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Hw extends Nn{constructor(e,t,r=wa,i,s,o,a=pr,c=pr,u,d=Sh){if(d!==Sh&&d!==Ah)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,i,s,o,a,c,d,r,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new gl(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Yre extends Hw{constructor(e=1,t=1,r=1){super(e,t),this.isDepthArrayTexture=!0,this.image={width:e,height:t,depth:r},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Gw extends Pt{constructor(e=1,t=1,r=4,i=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i,heightSegments:s},t=Math.max(0,t),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),s=Math.max(1,Math.floor(s));const o=[],a=[],c=[],u=[],d=t/2,f=Math.PI/2*e,m=t,g=2*f+m,v=r*2+s,y=i+1,w=new H,x=new H;for(let b=0;b<=v;b++){let S=0,A=0,T=0,N=0;if(b<=r){const I=b/r,R=I*Math.PI/2;A=-d-e*Math.cos(R),T=e*Math.sin(R),N=-e*Math.cos(R),S=I*f}else if(b<=r+s){const I=(b-r)/s;A=-d+I*t,T=e,N=0,S=f+I*m}else{const I=(b-r-s)/r,R=I*Math.PI/2;A=d+e*Math.sin(R),T=e*Math.cos(R),N=e*Math.sin(R),S=f+m+I*f}const P=Math.max(0,Math.min(1,S/g));let D=0;b===0?D=.5/i:b===v&&(D=-.5/i);for(let I=0;I<=i;I++){const R=I/i,k=R*Math.PI*2,G=Math.sin(k),K=Math.cos(k);x.x=-T*K,x.y=A,x.z=T*G,a.push(x.x,x.y,x.z),w.set(-T*K,N,T*G),w.normalize(),c.push(w.x,w.y,w.z),u.push(R+D,P)}if(b>0){const I=(b-1)*y;for(let R=0;R<i;R++){const k=I+R,G=I+R+1,K=b*y+R,J=b*y+R+1;o.push(k,G,K),o.push(G,J,K)}}}this.setIndex(o),this.setAttribute("position",new dt(a,3)),this.setAttribute("normal",new dt(c,3)),this.setAttribute("uv",new dt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gw(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class Vw extends Pt{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],c=[],u=new H,d=new _e;o.push(0,0,0),a.push(0,0,1),c.push(.5,.5);for(let f=0,m=3;f<=t;f++,m+=3){const g=r+f/t*i;u.x=e*Math.cos(g),u.y=e*Math.sin(g),o.push(u.x,u.y,u.z),a.push(0,0,1),d.x=(o[m]/e+1)/2,d.y=(o[m+1]/e+1)/2,c.push(d.x,d.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new dt(o,3)),this.setAttribute("normal",new dt(a,3)),this.setAttribute("uv",new dt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vw(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Gm extends Pt{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:c};const u=this;i=Math.floor(i),s=Math.floor(s);const d=[],f=[],m=[],g=[];let v=0;const y=[],w=r/2;let x=0;b(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(d),this.setAttribute("position",new dt(f,3)),this.setAttribute("normal",new dt(m,3)),this.setAttribute("uv",new dt(g,2));function b(){const A=new H,T=new H;let N=0;const P=(t-e)/r;for(let D=0;D<=s;D++){const I=[],R=D/s,k=R*(t-e)+e;for(let G=0;G<=i;G++){const K=G/i,J=K*c+a,Q=Math.sin(J),Y=Math.cos(J);T.x=k*Q,T.y=-R*r+w,T.z=k*Y,f.push(T.x,T.y,T.z),A.set(Q,P,Y).normalize(),m.push(A.x,A.y,A.z),g.push(K,1-R),I.push(v++)}y.push(I)}for(let D=0;D<i;D++)for(let I=0;I<s;I++){const R=y[I][D],k=y[I+1][D],G=y[I+1][D+1],K=y[I][D+1];(e>0||I!==0)&&(d.push(R,k,K),N+=3),(t>0||I!==s-1)&&(d.push(k,G,K),N+=3)}u.addGroup(x,N,0),x+=N}function S(A){const T=v,N=new _e,P=new H;let D=0;const I=A===!0?e:t,R=A===!0?1:-1;for(let G=1;G<=i;G++)f.push(0,w*R,0),m.push(0,R,0),g.push(.5,.5),v++;const k=v;for(let G=0;G<=i;G++){const J=G/i*c+a,Q=Math.cos(J),Y=Math.sin(J);P.x=I*Y,P.y=w*R,P.z=I*Q,f.push(P.x,P.y,P.z),m.push(0,R,0),N.x=Q*.5+.5,N.y=Y*.5*R+.5,g.push(N.x,N.y),v++}for(let G=0;G<i;G++){const K=T+G,J=k+G;A===!0?d.push(J,J+1,K):d.push(J+1,J,K),D+=3}u.addGroup(x,D,A===!0?1:2),x+=D}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gm(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Vm extends Gm{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Vm(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ql extends Pt{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),u(r),d(),this.setAttribute("position",new dt(s,3)),this.setAttribute("normal",new dt(s.slice(),3)),this.setAttribute("uv",new dt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(b){const S=new H,A=new H,T=new H;for(let N=0;N<t.length;N+=3)g(t[N+0],S),g(t[N+1],A),g(t[N+2],T),c(S,A,T,b)}function c(b,S,A,T){const N=T+1,P=[];for(let D=0;D<=N;D++){P[D]=[];const I=b.clone().lerp(A,D/N),R=S.clone().lerp(A,D/N),k=N-D;for(let G=0;G<=k;G++)G===0&&D===N?P[D][G]=I:P[D][G]=I.clone().lerp(R,G/k)}for(let D=0;D<N;D++)for(let I=0;I<2*(N-D)-1;I++){const R=Math.floor(I/2);I%2===0?(m(P[D][R+1]),m(P[D+1][R]),m(P[D][R])):(m(P[D][R+1]),m(P[D+1][R+1]),m(P[D+1][R]))}}function u(b){const S=new H;for(let A=0;A<s.length;A+=3)S.x=s[A+0],S.y=s[A+1],S.z=s[A+2],S.normalize().multiplyScalar(b),s[A+0]=S.x,s[A+1]=S.y,s[A+2]=S.z}function d(){const b=new H;for(let S=0;S<s.length;S+=3){b.x=s[S+0],b.y=s[S+1],b.z=s[S+2];const A=w(b)/2/Math.PI+.5,T=x(b)/Math.PI+.5;o.push(A,1-T)}v(),f()}function f(){for(let b=0;b<o.length;b+=6){const S=o[b+0],A=o[b+2],T=o[b+4],N=Math.max(S,A,T),P=Math.min(S,A,T);N>.9&&P<.1&&(S<.2&&(o[b+0]+=1),A<.2&&(o[b+2]+=1),T<.2&&(o[b+4]+=1))}}function m(b){s.push(b.x,b.y,b.z)}function g(b,S){const A=b*3;S.x=e[A+0],S.y=e[A+1],S.z=e[A+2]}function v(){const b=new H,S=new H,A=new H,T=new H,N=new _e,P=new _e,D=new _e;for(let I=0,R=0;I<s.length;I+=9,R+=6){b.set(s[I+0],s[I+1],s[I+2]),S.set(s[I+3],s[I+4],s[I+5]),A.set(s[I+6],s[I+7],s[I+8]),N.set(o[R+0],o[R+1]),P.set(o[R+2],o[R+3]),D.set(o[R+4],o[R+5]),T.copy(b).add(S).add(A).divideScalar(3);const k=w(T);y(N,R+0,b,k),y(P,R+2,S,k),y(D,R+4,A,k)}}function y(b,S,A,T){T<0&&b.x===1&&(o[S]=b.x-1),A.x===0&&A.z===0&&(o[S]=T/2/Math.PI+.5)}function w(b){return Math.atan2(b.z,-b.x)}function x(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ql(e.vertices,e.indices,e.radius,e.details)}}class Ww extends Ql{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ww(e.radius,e.detail)}}const $x=new H,qx=new H,US=new H,Qx=new xi;class r5 extends Pt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos($c*t),o=e.getIndex(),a=e.getAttribute("position"),c=o?o.count:a.count,u=[0,0,0],d=["a","b","c"],f=new Array(3),m={},g=[];for(let v=0;v<c;v+=3){o?(u[0]=o.getX(v),u[1]=o.getX(v+1),u[2]=o.getX(v+2)):(u[0]=v,u[1]=v+1,u[2]=v+2);const{a:y,b:w,c:x}=Qx;if(y.fromBufferAttribute(a,u[0]),w.fromBufferAttribute(a,u[1]),x.fromBufferAttribute(a,u[2]),Qx.getNormal(US),f[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[1]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,f[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let b=0;b<3;b++){const S=(b+1)%3,A=f[b],T=f[S],N=Qx[d[b]],P=Qx[d[S]],D=`${A}_${T}`,I=`${T}_${A}`;I in m&&m[I]?(US.dot(m[I].normal)<=s&&(g.push(N.x,N.y,N.z),g.push(P.x,P.y,P.z)),m[I]=null):D in m||(m[D]={index0:u[b],index1:u[S],normal:US.clone()})}}for(const v in m)if(m[v]){const{index0:y,index1:w}=m[v];$x.fromBufferAttribute(a,y),qx.fromBufferAttribute(a,w),g.push($x.x,$x.y,$x.z),g.push(qx.x,qx.y,qx.z)}this.setAttribute("position",new dt(g,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Xs{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,c=s-1,u;for(;a<=c;)if(i=Math.floor(a+(c-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)c=i-1;else{c=i;break}if(i=c,r[i]===o)return i/(s-1);const d=r[i],m=r[i+1]-d,g=(o-d)/m;return(i+g)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),c=t||(o.isVector2?new _e:new H);return c.copy(a).sub(o).normalize(),c}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t=!1){const r=new H,i=[],s=[],o=[],a=new H,c=new St;for(let g=0;g<=e;g++){const v=g/e;i[g]=this.getTangentAt(v,new H)}s[0]=new H,o[0]=new H;let u=Number.MAX_VALUE;const d=Math.abs(i[0].x),f=Math.abs(i[0].y),m=Math.abs(i[0].z);d<=u&&(u=d,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),m<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let g=1;g<=e;g++){if(s[g]=s[g-1].clone(),o[g]=o[g-1].clone(),a.crossVectors(i[g-1],i[g]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Rt(i[g-1].dot(i[g]),-1,1));s[g].applyMatrix4(c.makeRotationAxis(a,v))}o[g].crossVectors(i[g],s[g])}if(t===!0){let g=Math.acos(Rt(s[0].dot(s[e]),-1,1));g/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(g=-g);for(let v=1;v<=e;v++)s[v].applyMatrix4(c.makeRotationAxis(i[v],g*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Xw extends Xs{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=c}getPoint(e,t=new _e){const r=t,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),f=Math.sin(this.aRotation),m=c-this.aX,g=u-this.aY;c=m*d-g*f+this.aX,u=m*f+g*d+this.aY}return r.set(c,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class i5 extends Xw{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function zM(){let n=0,e=0,t=0,r=0;function i(s,o,a,c){n=s,e=a,t=-3*s+3*o-2*a-c,r=2*s-2*o+a+c}return{initCatmullRom:function(s,o,a,c,u){i(o,a,u*(a-s),u*(c-o))},initNonuniformCatmullRom:function(s,o,a,c,u,d,f){let m=(o-s)/u-(a-s)/(u+d)+(a-o)/d,g=(a-o)/d-(c-o)/(d+f)+(c-a)/f;m*=d,g*=d,i(o,a,m,g)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const Zx=new H,zS=new zM,HS=new zM,GS=new zM;class s5 extends Xs{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new H){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),c=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:c===0&&a===s-1&&(a=s-2,c=1);let u,d;this.closed||a>0?u=i[(a-1)%s]:(Zx.subVectors(i[0],i[1]).add(i[0]),u=Zx);const f=i[a%s],m=i[(a+1)%s];if(this.closed||a+2<s?d=i[(a+2)%s]:(Zx.subVectors(i[s-1],i[s-2]).add(i[s-1]),d=Zx),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(f),g),y=Math.pow(f.distanceToSquared(m),g),w=Math.pow(m.distanceToSquared(d),g);y<1e-4&&(y=1),v<1e-4&&(v=y),w<1e-4&&(w=y),zS.initNonuniformCatmullRom(u.x,f.x,m.x,d.x,v,y,w),HS.initNonuniformCatmullRom(u.y,f.y,m.y,d.y,v,y,w),GS.initNonuniformCatmullRom(u.z,f.z,m.z,d.z,v,y,w)}else this.curveType==="catmullrom"&&(zS.initCatmullRom(u.x,f.x,m.x,d.x,this.tension),HS.initCatmullRom(u.y,f.y,m.y,d.y,this.tension),GS.initCatmullRom(u.z,f.z,m.z,d.z,this.tension));return r.set(zS.calc(c),HS.calc(c),GS.calc(c)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new H().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function TI(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,c=n*a;return(2*t-2*r+s+o)*c+(-3*t+3*r-2*s-o)*a+s*n+t}function $re(n,e){const t=1-n;return t*t*e}function qre(n,e){return 2*(1-n)*n*e}function Qre(n,e){return n*n*e}function _p(n,e,t,r){return $re(n,e)+qre(n,t)+Qre(n,r)}function Zre(n,e){const t=1-n;return t*t*t*e}function eie(n,e){const t=1-n;return 3*t*t*n*e}function tie(n,e){return 3*(1-n)*n*n*e}function nie(n,e){return n*n*n*e}function bp(n,e,t,r,i){return Zre(n,e)+eie(n,t)+tie(n,r)+nie(n,i)}class HM extends Xs{constructor(e=new _e,t=new _e,r=new _e,i=new _e){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new _e){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(bp(e,i.x,s.x,o.x,a.x),bp(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class o5 extends Xs{constructor(e=new H,t=new H,r=new H,i=new H){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new H){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(bp(e,i.x,s.x,o.x,a.x),bp(e,i.y,s.y,o.y,a.y),bp(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class GM extends Xs{constructor(e=new _e,t=new _e){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new _e){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new _e){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class a5 extends Xs{constructor(e=new H,t=new H){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new H){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new H){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class VM extends Xs{constructor(e=new _e,t=new _e,r=new _e){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new _e){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(_p(e,i.x,s.x,o.x),_p(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class WM extends Xs{constructor(e=new H,t=new H,r=new H){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new H){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(_p(e,i.x,s.x,o.x),_p(e,i.y,s.y,o.y),_p(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class XM extends Xs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new _e){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,c=i[o===0?o:o-1],u=i[o],d=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(TI(a,c.x,u.x,d.x,f.x),TI(a,c.y,u.y,d.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new _e().fromArray(i))}return this}}var Sy=Object.freeze({__proto__:null,ArcCurve:i5,CatmullRomCurve3:s5,CubicBezierCurve:HM,CubicBezierCurve3:o5,EllipseCurve:Xw,LineCurve:GM,LineCurve3:a5,QuadraticBezierCurve:VM,QuadraticBezierCurve3:WM,SplineCurve:XM});class l5 extends Xs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Sy[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],c=a.getLength(),u=c===0?0:1-o/c;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,c=o.getPoints(a);for(let u=0;u<c.length;u++){const d=c[u];r&&r.equals(d)||(t.push(d),r=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new Sy[i.type]().fromJSON(i))}return this}}class Ay extends l5{constructor(e){super(),this.type="Path",this.currentPoint=new _e,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new GM(this.currentPoint.clone(),new _e(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new VM(this.currentPoint.clone(),new _e(e,t),new _e(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new HM(this.currentPoint.clone(),new _e(e,t),new _e(r,i),new _e(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new XM(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+a,t+c,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,c){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+u,t+d,r,i,s,o,a,c),this}absellipse(e,t,r,i,s,o,a,c){const u=new Xw(e,t,r,i,s,o,a,c);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const d=u.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Qc extends Ay{constructor(e){super(e),this.uuid=Gi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Ay().fromJSON(i))}return this}}function rie(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=c5(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,c,u;if(r&&(s=lie(n,e,s,t)),n.length>80*t){a=1/0,c=1/0;let d=-1/0,f=-1/0;for(let m=t;m<i;m+=t){const g=n[m],v=n[m+1];g<a&&(a=g),v<c&&(c=v),g>d&&(d=g),v>f&&(f=v)}u=Math.max(d-a,f-c),u=u!==0?32767/u:0}return om(s,o,t,a,c,u,0),o}function c5(n,e,t,r,i){let s;if(i===yie(n,e,t,r)>0)for(let o=e;o<t;o+=r)s=NI(o/r|0,n[o],n[o+1],s);else for(let o=t-r;o>=e;o-=r)s=NI(o/r|0,n[o],n[o+1],s);return s&&Nh(s,s.next)&&(lm(s),s=s.next),s}function pu(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(Nh(t,t.next)||Dn(t.prev,t,t.next)===0)){if(lm(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function om(n,e,t,r,i,s,o){if(!n)return;!o&&s&&fie(n,r,i,s);let a=n;for(;n.prev!==n.next;){const c=n.prev,u=n.next;if(s?sie(n,r,i,s):iie(n)){e.push(c.i,n.i,u.i),lm(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=oie(pu(n),e),om(n,e,t,r,i,s,2)):o===2&&aie(n,e,t,r,i,s):om(pu(n),e,t,r,i,s,1);break}}}function iie(n){const e=n.prev,t=n,r=n.next;if(Dn(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,c=t.y,u=r.y,d=Math.min(i,s,o),f=Math.min(a,c,u),m=Math.max(i,s,o),g=Math.max(a,c,u);let v=r.next;for(;v!==e;){if(v.x>=d&&v.x<=m&&v.y>=f&&v.y<=g&&ep(i,a,s,c,o,u,v.x,v.y)&&Dn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function sie(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Dn(i,s,o)>=0)return!1;const a=i.x,c=s.x,u=o.x,d=i.y,f=s.y,m=o.y,g=Math.min(a,c,u),v=Math.min(d,f,m),y=Math.max(a,c,u),w=Math.max(d,f,m),x=iE(g,v,e,t,r),b=iE(y,w,e,t,r);let S=n.prevZ,A=n.nextZ;for(;S&&S.z>=x&&A&&A.z<=b;){if(S.x>=g&&S.x<=y&&S.y>=v&&S.y<=w&&S!==i&&S!==o&&ep(a,d,c,f,u,m,S.x,S.y)&&Dn(S.prev,S,S.next)>=0||(S=S.prevZ,A.x>=g&&A.x<=y&&A.y>=v&&A.y<=w&&A!==i&&A!==o&&ep(a,d,c,f,u,m,A.x,A.y)&&Dn(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;S&&S.z>=x;){if(S.x>=g&&S.x<=y&&S.y>=v&&S.y<=w&&S!==i&&S!==o&&ep(a,d,c,f,u,m,S.x,S.y)&&Dn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;A&&A.z<=b;){if(A.x>=g&&A.x<=y&&A.y>=v&&A.y<=w&&A!==i&&A!==o&&ep(a,d,c,f,u,m,A.x,A.y)&&Dn(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function oie(n,e){let t=n;do{const r=t.prev,i=t.next.next;!Nh(r,i)&&d5(r,t,t.next,i)&&am(r,i)&&am(i,r)&&(e.push(r.i,t.i,i.i),lm(t),lm(t.next),t=n=i),t=t.next}while(t!==n);return pu(t)}function aie(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&gie(o,a)){let c=h5(o,a);o=pu(o,o.next),c=pu(c,c.next),om(o,e,t,r,i,s,0),om(c,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function lie(n,e,t,r){const i=[];for(let s=0,o=e.length;s<o;s++){const a=e[s]*r,c=s<o-1?e[s+1]*r:n.length,u=c5(n,a,c,r,!1);u===u.next&&(u.steiner=!0),i.push(mie(u))}i.sort(cie);for(let s=0;s<i.length;s++)t=uie(i[s],t);return t}function cie(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const r=(n.next.y-n.y)/(n.next.x-n.x),i=(e.next.y-e.y)/(e.next.x-e.x);t=r-i}return t}function uie(n,e){const t=die(n,e);if(!t)return e;const r=h5(t,n);return pu(r,r.next),pu(t,t.next)}function die(n,e){let t=e;const r=n.x,i=n.y;let s=-1/0,o;if(Nh(n,t))return t;do{if(Nh(n,t.next))return t.next;if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const f=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=r&&f>s&&(s=f,o=t.x<t.next.x?t:t.next,f===r))return o}t=t.next}while(t!==e);if(!o)return null;const a=o,c=o.x,u=o.y;let d=1/0;t=o;do{if(r>=t.x&&t.x>=c&&r!==t.x&&u5(i<u?r:s,i,c,u,i<u?s:r,i,t.x,t.y)){const f=Math.abs(i-t.y)/(r-t.x);am(t,n)&&(f<d||f===d&&(t.x>o.x||t.x===o.x&&hie(o,t)))&&(o=t,d=f)}t=t.next}while(t!==a);return o}function hie(n,e){return Dn(n.prev,n,e.prev)<0&&Dn(e.next,n,n.next)<0}function fie(n,e,t,r){let i=n;do i.z===0&&(i.z=iE(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,pie(i)}function pie(n){let e,t=1;do{let r=n,i;n=null;let s=null;for(e=0;r;){e++;let o=r,a=0;for(let u=0;u<t&&(a++,o=o.nextZ,!!o);u++);let c=t;for(;a>0||c>0&&o;)a!==0&&(c===0||!o||r.z<=o.z)?(i=r,r=r.nextZ,a--):(i=o,o=o.nextZ,c--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;r=o}s.nextZ=null,t*=2}while(e>1);return n}function iE(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function mie(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function u5(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function ep(n,e,t,r,i,s,o,a){return!(n===o&&e===a)&&u5(n,e,t,r,i,s,o,a)}function gie(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!xie(n,e)&&(am(n,e)&&am(e,n)&&vie(n,e)&&(Dn(n.prev,n,e.prev)||Dn(n,e.prev,e))||Nh(n,e)&&Dn(n.prev,n,n.next)>0&&Dn(e.prev,e,e.next)>0)}function Dn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Nh(n,e){return n.x===e.x&&n.y===e.y}function d5(n,e,t,r){const i=tv(Dn(n,e,t)),s=tv(Dn(n,e,r)),o=tv(Dn(t,r,n)),a=tv(Dn(t,r,e));return!!(i!==s&&o!==a||i===0&&ev(n,t,e)||s===0&&ev(n,r,e)||o===0&&ev(t,n,r)||a===0&&ev(t,e,r))}function ev(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function tv(n){return n>0?1:n<0?-1:0}function xie(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&d5(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function am(n,e){return Dn(n.prev,n,n.next)<0?Dn(n,e,n.next)>=0&&Dn(n,n.prev,e)>=0:Dn(n,e,n.prev)<0||Dn(n,n.next,e)<0}function vie(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function h5(n,e){const t=sE(n.i,n.x,n.y),r=sE(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function NI(n,e,t,r){const i=sE(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function lm(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function sE(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function yie(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class wie{static triangulate(e,t,r=2){return rie(e,t,r)}}class Ls{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Ls.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];RI(e),PI(r,e);let o=e.length;t.forEach(RI);for(let c=0;c<t.length;c++)i.push(o),o+=t[c].length,PI(r,t[c]);const a=wie.triangulate(r,i);for(let c=0;c<a.length;c+=3)s.push(a.slice(c,c+3));return s}}function RI(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function PI(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Kw extends Pt{constructor(e=new Qc([new _e(.5,.5),new _e(-.5,.5),new _e(-.5,-.5),new _e(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,c=e.length;a<c;a++){const u=e[a];o(u)}this.setAttribute("position",new dt(i,3)),this.setAttribute("uv",new dt(s,2)),this.computeVertexNormals();function o(a){const c=[],u=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let m=t.bevelEnabled!==void 0?t.bevelEnabled:!0,g=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:g-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,w=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,b=t.UVGenerator!==void 0?t.UVGenerator:_ie;let S,A=!1,T,N,P,D;x&&(S=x.getSpacedPoints(d),A=!0,m=!1,T=x.computeFrenetFrames(d,!1),N=new H,P=new H,D=new H),m||(w=0,g=0,v=0,y=0);const I=a.extractPoints(u);let R=I.shape;const k=I.holes;if(!Ls.isClockWise(R)){R=R.reverse();for(let U=0,Oe=k.length;U<Oe;U++){const Ce=k[U];Ls.isClockWise(Ce)&&(k[U]=Ce.reverse())}}function K(U){const Ce=10000000000000001e-36;let Pe=U[0];for(let Ae=1;Ae<=U.length;Ae++){const ze=Ae%U.length,Ne=U[ze],z=Ne.x-Pe.x,O=Ne.y-Pe.y,ee=z*z+O*O,he=Math.max(Math.abs(Ne.x),Math.abs(Ne.y),Math.abs(Pe.x),Math.abs(Pe.y)),Me=Ce*he*he;if(ee<=Me){U.splice(ze,1),Ae--;continue}Pe=Ne}}K(R),k.forEach(K);const J=k.length,Q=R;for(let U=0;U<J;U++){const Oe=k[U];R=R.concat(Oe)}function Y(U,Oe,Ce){return Oe||console.error("THREE.ExtrudeGeometry: vec does not exist"),U.clone().addScaledVector(Oe,Ce)}const se=R.length;function L(U,Oe,Ce){let Pe,Ae,ze;const Ne=U.x-Oe.x,z=U.y-Oe.y,O=Ce.x-U.x,ee=Ce.y-U.y,he=Ne*Ne+z*z,Me=Ne*ee-z*O;if(Math.abs(Me)>Number.EPSILON){const fe=Math.sqrt(he),tt=Math.sqrt(O*O+ee*ee),Ue=Oe.x-z/fe,ht=Oe.y+Ne/fe,yt=Ce.x-ee/tt,Ie=Ce.y+O/tt,Ze=((yt-Ue)*ee-(Ie-ht)*O)/(Ne*ee-z*O);Pe=Ue+Ne*Ze-U.x,Ae=ht+z*Ze-U.y;const gt=Pe*Pe+Ae*Ae;if(gt<=2)return new _e(Pe,Ae);ze=Math.sqrt(gt/2)}else{let fe=!1;Ne>Number.EPSILON?O>Number.EPSILON&&(fe=!0):Ne<-Number.EPSILON?O<-Number.EPSILON&&(fe=!0):Math.sign(z)===Math.sign(ee)&&(fe=!0),fe?(Pe=-z,Ae=Ne,ze=Math.sqrt(he)):(Pe=Ne,Ae=z,ze=Math.sqrt(he/2))}return new _e(Pe/ze,Ae/ze)}const j=[];for(let U=0,Oe=Q.length,Ce=Oe-1,Pe=U+1;U<Oe;U++,Ce++,Pe++)Ce===Oe&&(Ce=0),Pe===Oe&&(Pe=0),j[U]=L(Q[U],Q[Ce],Q[Pe]);const W=[];let $,oe=j.concat();for(let U=0,Oe=J;U<Oe;U++){const Ce=k[U];$=[];for(let Pe=0,Ae=Ce.length,ze=Ae-1,Ne=Pe+1;Pe<Ae;Pe++,ze++,Ne++)ze===Ae&&(ze=0),Ne===Ae&&(Ne=0),$[Pe]=L(Ce[Pe],Ce[ze],Ce[Ne]);W.push($),oe=oe.concat($)}let Se;if(w===0)Se=Ls.triangulateShape(Q,k);else{const U=[],Oe=[];for(let Ce=0;Ce<w;Ce++){const Pe=Ce/w,Ae=g*Math.cos(Pe*Math.PI/2),ze=v*Math.sin(Pe*Math.PI/2)+y;for(let Ne=0,z=Q.length;Ne<z;Ne++){const O=Y(Q[Ne],j[Ne],ze);He(O.x,O.y,-Ae),Pe===0&&U.push(O)}for(let Ne=0,z=J;Ne<z;Ne++){const O=k[Ne];$=W[Ne];const ee=[];for(let he=0,Me=O.length;he<Me;he++){const fe=Y(O[he],$[he],ze);He(fe.x,fe.y,-Ae),Pe===0&&ee.push(fe)}Pe===0&&Oe.push(ee)}}Se=Ls.triangulateShape(U,Oe)}const ne=Se.length,we=v+y;for(let U=0;U<se;U++){const Oe=m?Y(R[U],oe[U],we):R[U];A?(P.copy(T.normals[0]).multiplyScalar(Oe.x),N.copy(T.binormals[0]).multiplyScalar(Oe.y),D.copy(S[0]).add(P).add(N),He(D.x,D.y,D.z)):He(Oe.x,Oe.y,0)}for(let U=1;U<=d;U++)for(let Oe=0;Oe<se;Oe++){const Ce=m?Y(R[Oe],oe[Oe],we):R[Oe];A?(P.copy(T.normals[U]).multiplyScalar(Ce.x),N.copy(T.binormals[U]).multiplyScalar(Ce.y),D.copy(S[U]).add(P).add(N),He(D.x,D.y,D.z)):He(Ce.x,Ce.y,f/d*U)}for(let U=w-1;U>=0;U--){const Oe=U/w,Ce=g*Math.cos(Oe*Math.PI/2),Pe=v*Math.sin(Oe*Math.PI/2)+y;for(let Ae=0,ze=Q.length;Ae<ze;Ae++){const Ne=Y(Q[Ae],j[Ae],Pe);He(Ne.x,Ne.y,f+Ce)}for(let Ae=0,ze=k.length;Ae<ze;Ae++){const Ne=k[Ae];$=W[Ae];for(let z=0,O=Ne.length;z<O;z++){const ee=Y(Ne[z],$[z],Pe);A?He(ee.x,ee.y+S[d-1].y,S[d-1].x+Ce):He(ee.x,ee.y,f+Ce)}}}ve(),le();function ve(){const U=i.length/3;if(m){let Oe=0,Ce=se*Oe;for(let Pe=0;Pe<ne;Pe++){const Ae=Se[Pe];De(Ae[2]+Ce,Ae[1]+Ce,Ae[0]+Ce)}Oe=d+w*2,Ce=se*Oe;for(let Pe=0;Pe<ne;Pe++){const Ae=Se[Pe];De(Ae[0]+Ce,Ae[1]+Ce,Ae[2]+Ce)}}else{for(let Oe=0;Oe<ne;Oe++){const Ce=Se[Oe];De(Ce[2],Ce[1],Ce[0])}for(let Oe=0;Oe<ne;Oe++){const Ce=Se[Oe];De(Ce[0]+se*d,Ce[1]+se*d,Ce[2]+se*d)}}r.addGroup(U,i.length/3-U,0)}function le(){const U=i.length/3;let Oe=0;ke(Q,Oe),Oe+=Q.length;for(let Ce=0,Pe=k.length;Ce<Pe;Ce++){const Ae=k[Ce];ke(Ae,Oe),Oe+=Ae.length}r.addGroup(U,i.length/3-U,1)}function ke(U,Oe){let Ce=U.length;for(;--Ce>=0;){const Pe=Ce;let Ae=Ce-1;Ae<0&&(Ae=U.length-1);for(let ze=0,Ne=d+w*2;ze<Ne;ze++){const z=se*ze,O=se*(ze+1),ee=Oe+Pe+z,he=Oe+Ae+z,Me=Oe+Ae+O,fe=Oe+Pe+O;st(ee,he,Me,fe)}}}function He(U,Oe,Ce){c.push(U),c.push(Oe),c.push(Ce)}function De(U,Oe,Ce){qe(U),qe(Oe),qe(Ce);const Pe=i.length/3,Ae=b.generateTopUV(r,i,Pe-3,Pe-2,Pe-1);We(Ae[0]),We(Ae[1]),We(Ae[2])}function st(U,Oe,Ce,Pe){qe(U),qe(Oe),qe(Pe),qe(Oe),qe(Ce),qe(Pe);const Ae=i.length/3,ze=b.generateSideWallUV(r,i,Ae-6,Ae-3,Ae-2,Ae-1);We(ze[0]),We(ze[1]),We(ze[3]),We(ze[1]),We(ze[2]),We(ze[3])}function qe(U){i.push(c[U*3+0]),i.push(c[U*3+1]),i.push(c[U*3+2])}function We(U){s.push(U.x),s.push(U.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return bie(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Sy[i.type]().fromJSON(i)),new Kw(r,e.options)}}const _ie={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],c=e[r*3+1],u=e[i*3],d=e[i*3+1];return[new _e(s,o),new _e(a,c),new _e(u,d)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],c=e[t*3+2],u=e[r*3],d=e[r*3+1],f=e[r*3+2],m=e[i*3],g=e[i*3+1],v=e[i*3+2],y=e[s*3],w=e[s*3+1],x=e[s*3+2];return Math.abs(a-d)<Math.abs(o-u)?[new _e(o,1-c),new _e(u,1-f),new _e(m,1-v),new _e(y,1-x)]:[new _e(a,1-c),new _e(d,1-f),new _e(g,1-v),new _e(w,1-x)]}};function bie(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Jw extends Ql{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Jw(e.radius,e.detail)}}class Yw extends Pt{constructor(e=[new _e(0,-.5),new _e(.5,0),new _e(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Rt(i,0,Math.PI*2);const s=[],o=[],a=[],c=[],u=[],d=1/t,f=new H,m=new _e,g=new H,v=new H,y=new H;let w=0,x=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:w=e[b+1].x-e[b].x,x=e[b+1].y-e[b].y,g.x=x*1,g.y=-w,g.z=x*0,y.copy(g),g.normalize(),c.push(g.x,g.y,g.z);break;case e.length-1:c.push(y.x,y.y,y.z);break;default:w=e[b+1].x-e[b].x,x=e[b+1].y-e[b].y,g.x=x*1,g.y=-w,g.z=x*0,v.copy(g),g.x+=y.x,g.y+=y.y,g.z+=y.z,g.normalize(),c.push(g.x,g.y,g.z),y.copy(v)}for(let b=0;b<=t;b++){const S=r+b*d*i,A=Math.sin(S),T=Math.cos(S);for(let N=0;N<=e.length-1;N++){f.x=e[N].x*A,f.y=e[N].y,f.z=e[N].x*T,o.push(f.x,f.y,f.z),m.x=b/t,m.y=N/(e.length-1),a.push(m.x,m.y);const P=c[3*N+0]*A,D=c[3*N+1],I=c[3*N+0]*T;u.push(P,D,I)}}for(let b=0;b<t;b++)for(let S=0;S<e.length-1;S++){const A=S+b*e.length,T=A,N=A+e.length,P=A+e.length+1,D=A+1;s.push(T,N,D),s.push(P,D,N)}this.setIndex(s),this.setAttribute("position",new dt(o,3)),this.setAttribute("uv",new dt(a,2)),this.setAttribute("normal",new dt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yw(e.points,e.segments,e.phiStart,e.phiLength)}}class Wm extends Ql{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Wm(e.radius,e.detail)}}class Yh extends Pt{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),c=Math.floor(i),u=a+1,d=c+1,f=e/a,m=t/c,g=[],v=[],y=[],w=[];for(let x=0;x<d;x++){const b=x*m-o;for(let S=0;S<u;S++){const A=S*f-s;v.push(A,-b,0),y.push(0,0,1),w.push(S/a),w.push(1-x/c)}}for(let x=0;x<c;x++)for(let b=0;b<a;b++){const S=b+u*x,A=b+u*(x+1),T=b+1+u*(x+1),N=b+1+u*x;g.push(S,A,N),g.push(A,T,N)}this.setIndex(g),this.setAttribute("position",new dt(v,3)),this.setAttribute("normal",new dt(y,3)),this.setAttribute("uv",new dt(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yh(e.width,e.height,e.widthSegments,e.heightSegments)}}class $w extends Pt{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],c=[],u=[],d=[];let f=e;const m=(t-e)/i,g=new H,v=new _e;for(let y=0;y<=i;y++){for(let w=0;w<=r;w++){const x=s+w/r*o;g.x=f*Math.cos(x),g.y=f*Math.sin(x),c.push(g.x,g.y,g.z),u.push(0,0,1),v.x=(g.x/t+1)/2,v.y=(g.y/t+1)/2,d.push(v.x,v.y)}f+=m}for(let y=0;y<i;y++){const w=y*(r+1);for(let x=0;x<r;x++){const b=x+w,S=b,A=b+r+1,T=b+r+2,N=b+1;a.push(S,A,N),a.push(A,T,N)}}this.setIndex(a),this.setAttribute("position",new dt(c,3)),this.setAttribute("normal",new dt(u,3)),this.setAttribute("uv",new dt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $w(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class qw extends Pt{constructor(e=new Qc([new _e(0,.5),new _e(-.5,-.5),new _e(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,c=0;if(Array.isArray(e)===!1)u(e);else for(let d=0;d<e.length;d++)u(e[d]),this.addGroup(a,c,d),a+=c,c=0;this.setIndex(r),this.setAttribute("position",new dt(i,3)),this.setAttribute("normal",new dt(s,3)),this.setAttribute("uv",new dt(o,2));function u(d){const f=i.length/3,m=d.extractPoints(t);let g=m.shape;const v=m.holes;Ls.isClockWise(g)===!1&&(g=g.reverse());for(let w=0,x=v.length;w<x;w++){const b=v[w];Ls.isClockWise(b)===!0&&(v[w]=b.reverse())}const y=Ls.triangulateShape(g,v);for(let w=0,x=v.length;w<x;w++){const b=v[w];g=g.concat(b)}for(let w=0,x=g.length;w<x;w++){const b=g[w];i.push(b.x,b.y,0),s.push(0,0,1),o.push(b.x,b.y)}for(let w=0,x=y.length;w<x;w++){const b=y[w],S=b[0]+f,A=b[1]+f,T=b[2]+f;r.push(S,A,T),c+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Sie(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new qw(r,e.curveSegments)}}function Sie(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class Xm extends Pt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const c=Math.min(o+a,Math.PI);let u=0;const d=[],f=new H,m=new H,g=[],v=[],y=[],w=[];for(let x=0;x<=r;x++){const b=[],S=x/r;let A=0;x===0&&o===0?A=.5/t:x===r&&c===Math.PI&&(A=-.5/t);for(let T=0;T<=t;T++){const N=T/t;f.x=-e*Math.cos(i+N*s)*Math.sin(o+S*a),f.y=e*Math.cos(o+S*a),f.z=e*Math.sin(i+N*s)*Math.sin(o+S*a),v.push(f.x,f.y,f.z),m.copy(f).normalize(),y.push(m.x,m.y,m.z),w.push(N+A,1-S),b.push(u++)}d.push(b)}for(let x=0;x<r;x++)for(let b=0;b<t;b++){const S=d[x][b+1],A=d[x][b],T=d[x+1][b],N=d[x+1][b+1];(x!==0||o>0)&&g.push(S,A,N),(x!==r-1||c<Math.PI)&&g.push(A,T,N)}this.setIndex(g),this.setAttribute("position",new dt(v,3)),this.setAttribute("normal",new dt(y,3)),this.setAttribute("uv",new dt(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xm(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Qw extends Ql{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Qw(e.radius,e.detail)}}class Zw extends Pt{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],c=[],u=[],d=new H,f=new H,m=new H;for(let g=0;g<=r;g++)for(let v=0;v<=i;v++){const y=v/i*s,w=g/r*Math.PI*2;f.x=(e+t*Math.cos(w))*Math.cos(y),f.y=(e+t*Math.cos(w))*Math.sin(y),f.z=t*Math.sin(w),a.push(f.x,f.y,f.z),d.x=e*Math.cos(y),d.y=e*Math.sin(y),m.subVectors(f,d).normalize(),c.push(m.x,m.y,m.z),u.push(v/i),u.push(g/r)}for(let g=1;g<=r;g++)for(let v=1;v<=i;v++){const y=(i+1)*g+v-1,w=(i+1)*(g-1)+v-1,x=(i+1)*(g-1)+v,b=(i+1)*g+v;o.push(y,w,b),o.push(w,x,b)}this.setIndex(o),this.setAttribute("position",new dt(a,3)),this.setAttribute("normal",new dt(c,3)),this.setAttribute("uv",new dt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zw(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class e_ extends Pt{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],c=[],u=[],d=[],f=new H,m=new H,g=new H,v=new H,y=new H,w=new H,x=new H;for(let S=0;S<=r;++S){const A=S/r*s*Math.PI*2;b(A,s,o,e,g),b(A+.01,s,o,e,v),w.subVectors(v,g),x.addVectors(v,g),y.crossVectors(w,x),x.crossVectors(y,w),y.normalize(),x.normalize();for(let T=0;T<=i;++T){const N=T/i*Math.PI*2,P=-t*Math.cos(N),D=t*Math.sin(N);f.x=g.x+(P*x.x+D*y.x),f.y=g.y+(P*x.y+D*y.y),f.z=g.z+(P*x.z+D*y.z),c.push(f.x,f.y,f.z),m.subVectors(f,g).normalize(),u.push(m.x,m.y,m.z),d.push(S/r),d.push(T/i)}}for(let S=1;S<=r;S++)for(let A=1;A<=i;A++){const T=(i+1)*(S-1)+(A-1),N=(i+1)*S+(A-1),P=(i+1)*S+A,D=(i+1)*(S-1)+A;a.push(T,N,D),a.push(N,P,D)}this.setIndex(a),this.setAttribute("position",new dt(c,3)),this.setAttribute("normal",new dt(u,3)),this.setAttribute("uv",new dt(d,2));function b(S,A,T,N,P){const D=Math.cos(S),I=Math.sin(S),R=T/A*S,k=Math.cos(R);P.x=N*(2+k)*.5*D,P.y=N*(2+k)*I*.5,P.z=N*Math.sin(R)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new e_(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class t_ extends Pt{constructor(e=new WM(new H(-1,-1,0),new H(-1,1,0),new H(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new H,c=new H,u=new _e;let d=new H;const f=[],m=[],g=[],v=[];y(),this.setIndex(v),this.setAttribute("position",new dt(f,3)),this.setAttribute("normal",new dt(m,3)),this.setAttribute("uv",new dt(g,2));function y(){for(let S=0;S<t;S++)w(S);w(s===!1?t:0),b(),x()}function w(S){d=e.getPointAt(S/t,d);const A=o.normals[S],T=o.binormals[S];for(let N=0;N<=i;N++){const P=N/i*Math.PI*2,D=Math.sin(P),I=-Math.cos(P);c.x=I*A.x+D*T.x,c.y=I*A.y+D*T.y,c.z=I*A.z+D*T.z,c.normalize(),m.push(c.x,c.y,c.z),a.x=d.x+r*c.x,a.y=d.y+r*c.y,a.z=d.z+r*c.z,f.push(a.x,a.y,a.z)}}function x(){for(let S=1;S<=t;S++)for(let A=1;A<=i;A++){const T=(i+1)*(S-1)+(A-1),N=(i+1)*S+(A-1),P=(i+1)*S+A,D=(i+1)*(S-1)+A;v.push(T,N,D),v.push(N,P,D)}}function b(){for(let S=0;S<=t;S++)for(let A=0;A<=i;A++)u.x=S/t,u.y=A/i,g.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new t_(new Sy[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class f5 extends Pt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new H,s=new H;if(e.index!==null){const o=e.attributes.position,a=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,d=c.length;u<d;++u){const f=c[u],m=f.start,g=f.count;for(let v=m,y=m+g;v<y;v+=3)for(let w=0;w<3;w++){const x=a.getX(v+w),b=a.getX(v+(w+1)%3);i.fromBufferAttribute(o,x),s.fromBufferAttribute(o,b),II(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,c=o.count/3;a<c;a++)for(let u=0;u<3;u++){const d=3*a+u,f=3*a+(u+1)%3;i.fromBufferAttribute(o,d),s.fromBufferAttribute(o,f),II(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new dt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function II(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var DI=Object.freeze({__proto__:null,BoxGeometry:Cu,CapsuleGeometry:Gw,CircleGeometry:Vw,ConeGeometry:Vm,CylinderGeometry:Gm,DodecahedronGeometry:Ww,EdgesGeometry:r5,ExtrudeGeometry:Kw,IcosahedronGeometry:Jw,LatheGeometry:Yw,OctahedronGeometry:Wm,PlaneGeometry:Yh,PolyhedronGeometry:Ql,RingGeometry:$w,ShapeGeometry:qw,SphereGeometry:Xm,TetrahedronGeometry:Qw,TorusGeometry:Zw,TorusKnotGeometry:e_,TubeGeometry:t_,WireframeGeometry:f5});class p5 extends ir{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ye(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class m5 extends Gs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Km extends ir{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Ye(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ye(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ql,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wi,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class gs extends Km{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new _e(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Rt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ye(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ye(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ye(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class g5 extends ir{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ye(16777215),this.specular=new Ye(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ye(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ql,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wi,this.combine=km,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class x5 extends ir{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ye(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ye(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ql,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class v5 extends ir{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ql,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class y5 extends ir{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ye(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ye(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ql,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wi,this.combine=km,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class KM extends ir{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=D4,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class JM extends ir{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class w5 extends ir{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ye(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ql,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _5 extends Wr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function jc(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function b5(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function S5(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function oE(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let c=0;c!==e;++c)i[o++]=n[a+c]}return i}function YM(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push(...o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function Aie(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let c=0;c<s.tracks.length;++c){const u=s.tracks[c],d=u.getValueSize(),f=[],m=[];for(let g=0;g<u.times.length;++g){const v=u.times[g]*i;if(!(v<t||v>=r)){f.push(u.times[g]);for(let y=0;y<d;++y)m.push(u.values[g*d+y])}}f.length!==0&&(u.times=jc(f,u.times.constructor),u.values=jc(m,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let c=0;c<s.tracks.length;++c)a>s.tracks[c].times[0]&&(a=s.tracks[c].times[0]);for(let c=0;c<s.tracks.length;++c)s.tracks[c].shift(-1*a);return s.resetDuration(),s}function Eie(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],c=a.ValueTypeName;if(c==="bool"||c==="string")continue;const u=n.tracks.find(function(x){return x.name===a.name&&x.ValueTypeName===c});if(u===void 0)continue;let d=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=f/3);let m=0;const g=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);const v=a.times.length-1;let y;if(s<=a.times[0]){const x=d,b=f-d;y=a.values.slice(x,b)}else if(s>=a.times[v]){const x=v*f+d,b=x+f-d;y=a.values.slice(x,b)}else{const x=a.createInterpolant(),b=d,S=f-d;x.evaluate(s),y=x.resultBuffer.slice(b,S)}c==="quaternion"&&new mr().fromArray(y).normalize().conjugate().toArray(y);const w=u.times.length;for(let x=0;x<w;++x){const b=x*g+m;if(c==="quaternion")mr.multiplyQuaternionsFlat(u.values,b,y,0,u.values,b);else{const S=g-m*2;for(let A=0;A<S;++A)u.values[b+A]-=y[A]}}}return n.blendMode=NM,n}class Cie{static convertArray(e,t){return jc(e,t)}static isTypedArray(e){return b5(e)}static getKeyframeOrder(e){return S5(e)}static sortedArray(e,t,r){return oE(e,t,r)}static flattenJSON(e,t,r,i){YM(e,t,r,i)}static subclip(e,t,r,i,s=30){return Aie(e,t,r,i,s)}static makeClipAdditive(e,t=0,r=e,i=30){return Eie(e,t,r,i)}}class $h{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let c=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===c)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class A5 extends $h{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Oc,endingEnd:Oc}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],c=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Fc:s=e,a=2*t-r;break;case tm:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(c===void 0)switch(this.getSettings_().endingEnd){case Fc:o=e,c=2*r-t;break;case tm:o=1,c=r+i[1]-i[0];break;default:o=e-1,c=t}const u=(r-t)*.5,d=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(c-r),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=e*a,u=c-a,d=this._offsetPrev,f=this._offsetNext,m=this._weightPrev,g=this._weightNext,v=(r-t)/(i-t),y=v*v,w=y*v,x=-m*w+2*m*y-m*v,b=(1+m)*w+(-1.5-2*m)*y+(-.5+m)*v+1,S=(-1-g)*w+(1.5+g)*y+.5*v,A=g*w-g*y;for(let T=0;T!==a;++T)s[T]=x*o[d+T]+b*o[u+T]+S*o[c+T]+A*o[f+T];return s}}class $M extends $h{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=e*a,u=c-a,d=(r-t)/(i-t),f=1-d;for(let m=0;m!==a;++m)s[m]=o[u+m]*f+o[c+m]*d;return s}}class E5 extends $h{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class xs{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=jc(t,this.TimeBufferType),this.values=jc(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:jc(e.times,Array),values:jc(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new E5(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new $M(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new A5(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Eh:t=this.InterpolantFactoryMethodDiscrete;break;case Ch:t=this.InterpolantFactoryMethodLinear;break;case Gv:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Eh;case this.InterpolantFactoryMethodLinear:return Ch;case this.InterpolantFactoryMethodSmooth:return Gv}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const c=r[a];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,c),e=!1;break}if(o!==null&&o>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,c,o),e=!1;break}o=c}if(i!==void 0&&b5(i))for(let a=0,c=i.length;a!==c;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===Gv,s=e.length-1;let o=1;for(let a=1;a<s;++a){let c=!1;const u=e[a],d=e[a+1];if(u!==d&&(a!==1||u!==e[0]))if(i)c=!0;else{const f=a*r,m=f-r,g=f+r;for(let v=0;v!==r;++v){const y=t[f+v];if(y!==t[m+v]||y!==t[g+v]){c=!0;break}}}if(c){if(a!==o){e[o]=e[a];const f=a*r,m=o*r;for(let g=0;g!==r;++g)t[m+g]=t[f+g]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,c=o*r,u=0;u!==r;++u)t[c+u]=t[a+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}xs.prototype.ValueTypeName="";xs.prototype.TimeBufferType=Float32Array;xs.prototype.ValueBufferType=Float32Array;xs.prototype.DefaultInterpolation=Ch;class Mu extends xs{constructor(e,t,r){super(e,t,r)}}Mu.prototype.ValueTypeName="bool";Mu.prototype.ValueBufferType=Array;Mu.prototype.DefaultInterpolation=Eh;Mu.prototype.InterpolantFactoryMethodLinear=void 0;Mu.prototype.InterpolantFactoryMethodSmooth=void 0;class qM extends xs{constructor(e,t,r,i){super(e,t,r,i)}}qM.prototype.ValueTypeName="color";class mu extends xs{constructor(e,t,r,i){super(e,t,r,i)}}mu.prototype.ValueTypeName="number";class C5 extends $h{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=(r-t)/(i-t);let u=e*a;for(let d=u+a;u!==d;u+=4)mr.slerpFlat(s,0,o,u-a,o,u,c);return s}}class gu extends xs{constructor(e,t,r,i){super(e,t,r,i)}InterpolantFactoryMethodLinear(e){return new C5(this.times,this.values,this.getValueSize(),e)}}gu.prototype.ValueTypeName="quaternion";gu.prototype.InterpolantFactoryMethodSmooth=void 0;class Tu extends xs{constructor(e,t,r){super(e,t,r)}}Tu.prototype.ValueTypeName="string";Tu.prototype.ValueBufferType=Array;Tu.prototype.DefaultInterpolation=Eh;Tu.prototype.InterpolantFactoryMethodLinear=void 0;Tu.prototype.InterpolantFactoryMethodSmooth=void 0;class xu extends xs{constructor(e,t,r,i){super(e,t,r,i)}}xu.prototype.ValueTypeName="vector";class Rh{constructor(e="",t=-1,r=[],i=Dw){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Gi(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(Tie(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(xs.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let c=[],u=[];c.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const d=S5(c);c=oE(c,1,d),u=oE(u,1,d),!i&&c[0]===0&&(c.push(s),u.push(u[0])),o.push(new mu(".morphTargetInfluences["+t[a].name+"]",c,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,c=e.length;a<c;a++){const u=e[a],d=u.name.match(s);if(d&&d.length>1){const f=d[1];let m=i[f];m||(i[f]=m=[]),m.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,m,g,v,y){if(g.length!==0){const w=[],x=[];YM(g,w,x,v),w.length!==0&&y.push(new f(m,w,x))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let c=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const m=u[f].keys;if(!(!m||m.length===0))if(m[0].morphTargets){const g={};let v;for(v=0;v<m.length;v++)if(m[v].morphTargets)for(let y=0;y<m[v].morphTargets.length;y++)g[m[v].morphTargets[y]]=-1;for(const y in g){const w=[],x=[];for(let b=0;b!==m[v].morphTargets.length;++b){const S=m[v];w.push(S.time),x.push(S.morphTarget===y?1:0)}i.push(new mu(".morphTargetInfluence["+y+"]",w,x))}c=g.length*o}else{const g=".bones["+t[f].name+"]";r(xu,g+".position",m,"pos",i),r(gu,g+".quaternion",m,"rot",i),r(xu,g+".scale",m,"scl",i)}}return i.length===0?null:new this(s,c,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Mie(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return mu;case"vector":case"vector2":case"vector3":case"vector4":return xu;case"color":return qM;case"quaternion":return gu;case"bool":case"boolean":return Mu;case"string":return Tu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Tie(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Mie(n.type);if(n.times===void 0){const t=[],r=[];YM(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Zo={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class QM{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,c;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(d){a++,s===!1&&i.onStart!==void 0&&i.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,i.onProgress!==void 0&&i.onProgress(d,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return c?c(d):d},this.setURLModifier=function(d){return c=d,this},this.addHandler=function(d,f){return u.push(d,f),this},this.removeHandler=function(d){const f=u.indexOf(d);return f!==-1&&u.splice(f,2),this},this.getHandler=function(d){for(let f=0,m=u.length;f<m;f+=2){const g=u[f],v=u[f+1];if(g.global&&(g.lastIndex=0),g.test(d))return v}return null}}}const M5=new QM;class Xr{constructor(e){this.manager=e!==void 0?e:M5,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Xr.DEFAULT_MATERIAL_NAME="__DEFAULT";const jo={};class Nie extends Error{constructor(e,t){super(e),this.response=t}}class Xi extends Xr{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Zo.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(jo[e]!==void 0){jo[e].push({onLoad:t,onProgress:r,onError:i});return}jo[e]=[],jo[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,c=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const d=jo[e],f=u.body.getReader(),m=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),g=m?parseInt(m):0,v=g!==0;let y=0;const w=new ReadableStream({start(x){b();function b(){f.read().then(({done:S,value:A})=>{if(S)x.close();else{y+=A.byteLength;const T=new ProgressEvent("progress",{lengthComputable:v,loaded:y,total:g});for(let N=0,P=d.length;N<P;N++){const D=d[N];D.onProgress&&D.onProgress(T)}x.enqueue(A),b()}},S=>{x.error(S)})}}});return new Response(w)}else throw new Nie(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(c){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return u.json();default:if(a==="")return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),m=f&&f[1]?f[1].toLowerCase():void 0,g=new TextDecoder(m);return u.arrayBuffer().then(v=>g.decode(v))}}}).then(u=>{Zo.add(e,u);const d=jo[e];delete jo[e];for(let f=0,m=d.length;f<m;f++){const g=d[f];g.onLoad&&g.onLoad(u)}}).catch(u=>{const d=jo[e];if(d===void 0)throw this.manager.itemError(e),u;delete jo[e];for(let f=0,m=d.length;f<m;f++){const g=d[f];g.onError&&g.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Rie extends Xr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Xi(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Rh.parse(e[r]);t.push(i)}return t}}class Pie extends Xr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new zw,c=new Xi(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(s.withCredentials);let u=0;function d(f){c.load(e[f],function(m){const g=s.parse(m,!0);o[f]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},u+=1,u===6&&(g.mipmapCount===1&&(a.minFilter=Vn),a.image=o,a.format=g.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let f=0,m=e.length;f<m;++f)d(f);else c.load(e,function(f){const m=s.parse(f,!0);if(m.isCubemap){const g=m.mipmaps.length/m.mipmapCount;for(let v=0;v<g;v++){o[v]={mipmaps:[]};for(let y=0;y<m.mipmapCount;y++)o[v].mipmaps.push(m.mipmaps[v*m.mipmapCount+y]),o[v].format=m.format,o[v].width=m.width,o[v].height=m.height}a.image=o}else a.image.width=m.width,a.image.height=m.height,a.mipmaps=m.mipmaps;m.mipmapCount===1&&(a.minFilter=Vn),a.format=m.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class cm extends Xr{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Zo.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=sm("img");function c(){d(),Zo.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(f){d(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",c,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",c,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class Iie extends Xr{constructor(e){super(e)}load(e,t,r,i){const s=new Um;s.colorSpace=mi;const o=new cm(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function c(u){o.load(e[u],function(d){s.images[u]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let u=0;u<e.length;++u)c(u);return s}}class Die extends Xr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new yo,a=new Xi(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(c){let u;try{u=s.parse(c)}catch(d){if(i!==void 0)i(d);else{console.error(d);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:ji,o.wrapT=u.wrapT!==void 0?u.wrapT:ji,o.magFilter=u.magFilter!==void 0?u.magFilter:Vn,o.minFilter=u.minFilter!==void 0?u.minFilter:Vn,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(o.colorSpace=u.colorSpace),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=cs),u.mipmapCount===1&&(o.minFilter=Vn),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u)},r,i),o}}class T5 extends Xr{constructor(e){super(e)}load(e,t,r,i){const s=new Nn,o=new cm(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class Zl extends en{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ye(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class N5 extends Zl{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(en.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ye(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const VS=new St,BI=new H,LI=new H;class ZM{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new _e(512,512),this.mapType=ms,this.map=null,this.mapPass=null,this.matrix=new St,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Jh,this._frameExtents=new _e(1,1),this._viewportCount=1,this._viewports=[new sn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;BI.setFromMatrixPosition(e.matrixWorld),t.position.copy(BI),LI.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(LI),t.updateMatrixWorld(),VS.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(VS),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(VS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Bie extends ZM{constructor(){super(new Un(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=Mh*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class eT extends Zl{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(en.DEFAULT_UP),this.updateMatrix(),this.target=new en,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new Bie}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const kI=new St,Uf=new H,WS=new H;class Lie extends ZM{constructor(){super(new Un(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new _e(4,2),this._viewportCount=6,this._viewports=[new sn(2,1,1,1),new sn(0,1,1,1),new sn(3,1,1,1),new sn(1,1,1,1),new sn(3,0,1,1),new sn(1,0,1,1)],this._cubeDirections=[new H(1,0,0),new H(-1,0,0),new H(0,0,1),new H(0,0,-1),new H(0,1,0),new H(0,-1,0)],this._cubeUps=[new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,0,1),new H(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Uf.setFromMatrixPosition(e.matrixWorld),r.position.copy(Uf),WS.copy(r.position),WS.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(WS),r.updateMatrixWorld(),i.makeTranslation(-Uf.x,-Uf.y,-Uf.z),kI.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(kI)}}class tT extends Zl{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Lie}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class oa extends jm{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,c=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=d*this.view.offsetY,c=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class kie extends ZM{constructor(){super(new oa(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class nT extends Zl{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(en.DEFAULT_UP),this.updateMatrix(),this.target=new en,this.shadow=new kie}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class R5 extends Zl{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class P5 extends Zl{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class I5{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new H)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class D5 extends Zl{constructor(e=new I5,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class n_ extends Xr{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new Xi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Ye().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Ye().setHex(o.value);break;case"v2":i.uniforms[s].value=new _e().fromArray(o.value);break;case"v3":i.uniforms[s].value=new H().fromArray(o.value);break;case"v4":i.uniforms[s].value=new sn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Bt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new St().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new _e().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new _e().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return n_.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:p5,SpriteMaterial:kM,RawShaderMaterial:m5,ShaderMaterial:Gs,PointsMaterial:Uw,MeshPhysicalMaterial:gs,MeshStandardMaterial:Km,MeshPhongMaterial:g5,MeshToonMaterial:x5,MeshNormalMaterial:v5,MeshLambertMaterial:y5,MeshDepthMaterial:KM,MeshDistanceMaterial:JM,MeshBasicMaterial:Ui,MeshMatcapMaterial:w5,LineDashedMaterial:_5,LineBasicMaterial:Wr,Material:ir};return new t[e]}}class Nl{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class B5 extends Pt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class L5 extends Xr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Xi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(g,v){if(t[v]!==void 0)return t[v];const w=g.interleavedBuffers[v],x=s(g,w.buffer),b=Pd(w.type,x),S=new zm(b,w.stride);return S.uuid=w.uuid,t[v]=S,S}function s(g,v){if(r[v]!==void 0)return r[v];const w=g.arrayBuffers[v],x=new Uint32Array(w).buffer;return r[v]=x,x}const o=e.isInstancedBufferGeometry?new B5:new Pt,a=e.data.index;if(a!==void 0){const g=Pd(a.type,a.array);o.setIndex(new an(g,1))}const c=e.data.attributes;for(const g in c){const v=c[g];let y;if(v.isInterleavedBufferAttribute){const w=i(e.data,v.data);y=new Ul(w,v.itemSize,v.offset,v.normalized)}else{const w=Pd(v.type,v.array),x=v.isInstancedBufferAttribute?fu:an;y=new x(w,v.itemSize,v.normalized)}v.name!==void 0&&(y.name=v.name),v.usage!==void 0&&y.setUsage(v.usage),o.setAttribute(g,y)}const u=e.data.morphAttributes;if(u)for(const g in u){const v=u[g],y=[];for(let w=0,x=v.length;w<x;w++){const b=v[w];let S;if(b.isInterleavedBufferAttribute){const A=i(e.data,b.data);S=new Ul(A,b.itemSize,b.offset,b.normalized)}else{const A=Pd(b.type,b.array);S=new an(A,b.itemSize,b.normalized)}b.name!==void 0&&(S.name=b.name),y.push(S)}o.morphAttributes[g]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let g=0,v=f.length;g!==v;++g){const y=f[g];o.addGroup(y.start,y.count,y.materialIndex)}const m=e.data.boundingSphere;if(m!==void 0){const g=new H;m.center!==void 0&&g.fromArray(m.center),o.boundingSphere=new gr(g,m.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Oie extends Xr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?Nl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Xi(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(c){let u=null;try{u=JSON.parse(c)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Nl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Xi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),c=a.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),c=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,c,a,r),d=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,d),this.bindLightTargets(u),t!==void 0){let f=!1;for(const m in o)if(o[m].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,i,a,o,t),u=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,u),this.bindLightTargets(c),c}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Qc().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Hm().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new L5;for(let s=0,o=e.length;s<o;s++){let a;const c=e[s];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(c);break;default:c.type in DI?a=DI[c.type].fromJSON(c,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}a.uuid=c.uuid,c.name!==void 0&&(a.name=c.name),c.userData!==void 0&&(a.userData=c.userData),r[c.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new n_;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const c=e[o];r[c.uuid]===void 0&&(r[c.uuid]=s.parse(c)),i[c.uuid]=r[c.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Rh.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(c){return r.manager.itemStart(c),s.load(c,function(){r.manager.itemEnd(c)},void 0,function(){r.manager.itemError(c),r.manager.itemEnd(c)})}function a(c){if(typeof c=="string"){const u=c,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(d)}else return c.data?{data:Pd(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){const c=new QM(t);s=new cm(c),s.setCrossOrigin(this.crossOrigin);for(let u=0,d=e.length;u<d;u++){const f=e[u],m=f.url;if(Array.isArray(m)){const g=[];for(let v=0,y=m.length;v<y;v++){const w=m[v],x=a(w);x!==null&&(x instanceof HTMLImageElement?g.push(x):g.push(new yo(x.data,x.width,x.height)))}i[f.uuid]=new gl(g)}else{const g=a(f.url);i[f.uuid]=new gl(g)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(c)}else return o.data?{data:Pd(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new cm(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const c=e[o],u=c.url;if(Array.isArray(u)){const d=[];for(let f=0,m=u.length;f<m;f++){const g=u[f],v=await s(g);v!==null&&(v instanceof HTMLImageElement?d.push(v):d.push(new yo(v.data,v.width,v.height)))}r[c.uuid]=new gl(d)}else{const d=await s(c.url);r[c.uuid]=new gl(d)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const c=t[a.image],u=c.data;let d;Array.isArray(u)?(d=new Um,u.length===6&&(d.needsUpdate=!0)):(u&&u.data?d=new yo:d=new Nn,u&&(d.needsUpdate=!0)),d.source=c,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=r(a.mapping,Fie)),a.channel!==void 0&&(d.channel=a.channel),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=r(a.wrap[0],OI),d.wrapT=r(a.wrap[1],OI)),a.format!==void 0&&(d.format=a.format),a.internalFormat!==void 0&&(d.internalFormat=a.internalFormat),a.type!==void 0&&(d.type=a.type),a.colorSpace!==void 0&&(d.colorSpace=a.colorSpace),a.minFilter!==void 0&&(d.minFilter=r(a.minFilter,FI)),a.magFilter!==void 0&&(d.magFilter=r(a.magFilter,FI)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(d.compareFunction=a.compareFunction),a.userData!==void 0&&(d.userData=a.userData),i[a.uuid]=d}return i}parseObject(e,t,r,i,s){let o;function a(m){return t[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",m),t[m]}function c(m){if(m!==void 0){if(Array.isArray(m)){const g=[];for(let v=0,y=m.length;v<y;v++){const w=m[v];r[w]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",w),g.push(r[w])}return g}return r[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),r[m]}}function u(m){return i[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",m),i[m]}let d,f;switch(e.type){case"Scene":o=new LM,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ye(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Ow(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new kw(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Un(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new oa(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new R5(e.color,e.intensity);break;case"DirectionalLight":o=new nT(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new tT(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new P5(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new eT(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new N5(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new D5().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),f=c(e.material),o=new OM(d,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),f=c(e.material),o=new Wn(d,f);break;case"InstancedMesh":d=a(e.geometry),f=c(e.material);const m=e.count,g=e.instanceMatrix,v=e.instanceColor;o=new FM(d,f,m),o.instanceMatrix=new fu(new Float32Array(g.array),16),v!==void 0&&(o.instanceColor=new fu(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":d=a(e.geometry),f=c(e.material),o=new t5(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),o.geometry=d,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(y=>{let w=null,x=null;return y.boundingBox!==void 0&&(w=new _r,w.min.fromArray(y.boundingBox.min),w.max.fromArray(y.boundingBox.max)),y.boundingSphere!==void 0&&(x=new gr,x.radius=y.boundingSphere.radius,x.center.fromArray(y.boundingSphere.center)),{...y,boundingBox:w,boundingSphere:x}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=u(e.matricesTexture.uuid),o._indirectTexture=u(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=u(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new gr,o.boundingSphere.center.fromArray(e.boundingSphere.center),o.boundingSphere.radius=e.boundingSphere.radius),e.boundingBox!==void 0&&(o.boundingBox=new _r,o.boundingBox.min.fromArray(e.boundingBox.min),o.boundingBox.max.fromArray(e.boundingBox.max));break;case"LOD":o=new e5;break;case"Line":o=new _a(a(e.geometry),c(e.material));break;case"LineLoop":o=new jM(a(e.geometry),c(e.material));break;case"LineSegments":o=new Ws(a(e.geometry),c(e.material));break;case"PointCloud":case"Points":o=new UM(a(e.geometry),c(e.material));break;case"Sprite":o=new Z4(c(e.material));break;case"Group":o=new Qo;break;case"Bone":o=new Fw;break;default:o=new en}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const m=e.children;for(let g=0;g<m.length;g++)o.add(this.parseObject(m[g],t,r,i,s))}if(e.animations!==void 0){const m=e.animations;for(let g=0;g<m.length;g++){const v=m[g];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const m=e.levels;for(let g=0;g<m.length;g++){const v=m[g],y=o.getObjectByProperty("uuid",v.object);y!==void 0&&o.addLevel(y,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const r=t.target,i=e.getObjectByProperty("uuid",r);i!==void 0?t.target=i:t.target=new en}})}}const Fie={UVMapping:Ew,CubeReflectionMapping:ya,CubeRefractionMapping:Fl,EquirectangularReflectionMapping:Zp,EquirectangularRefractionMapping:em,CubeUVReflectionMapping:Xh},OI={RepeatWrapping:jl,ClampToEdgeWrapping:ji,MirroredRepeatWrapping:wh},FI={NearestFilter:pr,NearestMipmapNearestFilter:Cw,NearestMipmapLinearFilter:kc,LinearFilter:Vn,LinearMipmapNearestFilter:Jd,LinearMipmapLinearFilter:cs};class k5 extends Xr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Zo.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(u=>{t&&t(u),s.manager.itemEnd(e)}).catch(u=>{i&&i(u)});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const c=fetch(e,a).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return Zo.add(e,u),t&&t(u),s.manager.itemEnd(e),u}).catch(function(u){i&&i(u),Zo.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Zo.add(e,c),s.manager.itemStart(e)}}let nv;class rT{static getContext(){return nv===void 0&&(nv=new(window.AudioContext||window.webkitAudioContext)),nv}static setContext(e){nv=e}}class jie extends Xr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Xi(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){try{const u=c.slice(0);rT.getContext().decodeAudioData(u,function(f){t(f)}).catch(a)}catch(u){a(u)}},r,i);function a(c){i?i(c):console.error(c),s.manager.itemError(e)}}}const jI=new St,UI=new St,gc=new St;class Uie{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Un,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Un,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,gc.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan($c*t.fov*.5)/t.zoom;let a,c;UI.elements[12]=-i,jI.elements[12]=i,a=-o*t.aspect+s,c=o*t.aspect+s,gc.elements[0]=2*t.near/(c-a),gc.elements[8]=(c+a)/(c-a),this.cameraL.projectionMatrix.copy(gc),a=-o*t.aspect-s,c=o*t.aspect-s,gc.elements[0]=2*t.near/(c-a),gc.elements[8]=(c+a)/(c-a),this.cameraR.projectionMatrix.copy(gc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(UI),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(jI)}}class O5 extends Un{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class iT{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=zI(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=zI();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function zI(){return performance.now()}const xc=new H,HI=new mr,zie=new H,vc=new H;class Hie extends en{constructor(){super(),this.type="AudioListener",this.context=rT.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new iT}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(xc,HI,zie),vc.set(0,0,-1).applyQuaternion(HI),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(xc.x,i),t.positionY.linearRampToValueAtTime(xc.y,i),t.positionZ.linearRampToValueAtTime(xc.z,i),t.forwardX.linearRampToValueAtTime(vc.x,i),t.forwardY.linearRampToValueAtTime(vc.y,i),t.forwardZ.linearRampToValueAtTime(vc.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(xc.x,xc.y,xc.z),t.setOrientation(vc.x,vc.y,vc.z,r.x,r.y,r.z)}}class F5 extends en{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const yc=new H,GI=new mr,Gie=new H,wc=new H;class Vie extends F5{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(yc,GI,Gie),wc.set(0,0,1).applyQuaternion(GI);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(yc.x,r),t.positionY.linearRampToValueAtTime(yc.y,r),t.positionZ.linearRampToValueAtTime(yc.z,r),t.orientationX.linearRampToValueAtTime(wc.x,r),t.orientationY.linearRampToValueAtTime(wc.y,r),t.orientationZ.linearRampToValueAtTime(wc.z,r)}else t.setPosition(yc.x,yc.y,yc.z),t.setOrientation(wc.x,wc.y,wc.z)}}class Wie{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class j5{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const c=t*this._origIndex;this._mixBufferRegion(r,i,c,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let c=t,u=t+t;c!==u;++c)if(r[c]!==r[c+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){mr.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;mr.multiplyQuaternionsFlat(e,o,e,t,e,r),mr.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const c=t+a;e[c]=e[c]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const sT="\\[\\]\\.:\\/",Xie=new RegExp("["+sT+"]","g"),oT="[^"+sT+"]",Kie="[^"+sT.replace("\\.","")+"]",Jie=/((?:WC+[\/:])*)/.source.replace("WC",oT),Yie=/(WCOD+)?/.source.replace("WCOD",Kie),$ie=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",oT),qie=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",oT),Qie=new RegExp("^"+Jie+Yie+$ie+qie+"$"),Zie=["material","materials","bones","map"];class ese{constructor(e,t,r){const i=r||nn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class nn{constructor(e,t,r){this.path=t,this.parsedPath=r||nn.parseTrackName(t),this.node=nn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new nn.Composite(e,t,r):new nn(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Xie,"")}static parseTrackName(e){const t=Qie.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Zie.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const c=r(a.children);if(c)return c}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=nn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?a=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}c=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(c=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}nn.Composite=ese;nn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};nn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};nn.prototype.GetterByBindingType=[nn.prototype._getValue_direct,nn.prototype._getValue_array,nn.prototype._getValue_arrayElement,nn.prototype._getValue_toArray];nn.prototype.SetterByBindingTypeAndVersioning=[[nn.prototype._setValue_direct,nn.prototype._setValue_direct_setNeedsUpdate,nn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[nn.prototype._setValue_array,nn.prototype._setValue_array_setNeedsUpdate,nn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[nn.prototype._setValue_arrayElement,nn.prototype._setValue_arrayElement_setNeedsUpdate,nn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[nn.prototype._setValue_fromArray,nn.prototype._setValue_fromArray_setNeedsUpdate,nn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class tse{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Gi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,c=e.length,u=this.nCachedObjects_;for(let d=0,f=arguments.length;d!==f;++d){const m=arguments[d],g=m.uuid;let v=t[g];if(v===void 0){v=c++,t[g]=v,e.push(m);for(let y=0,w=o;y!==w;++y)s[y].push(new nn(m,r[y],i[y]))}else if(v<u){a=e[v];const y=--u,w=e[y];t[w.uuid]=v,e[v]=w,t[g]=y,e[y]=m;for(let x=0,b=o;x!==b;++x){const S=s[x],A=S[y];let T=S[v];S[v]=A,T===void 0&&(T=new nn(m,r[x],i[x])),S[y]=T}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const c=arguments[o],u=c.uuid,d=t[u];if(d!==void 0&&d>=s){const f=s++,m=e[f];t[m.uuid]=d,e[d]=m,t[u]=f,e[f]=c;for(let g=0,v=i;g!==v;++g){const y=r[g],w=y[f],x=y[d];y[d]=w,y[f]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,c=arguments.length;a!==c;++a){const u=arguments[a],d=u.uuid,f=t[d];if(f!==void 0)if(delete t[d],f<s){const m=--s,g=e[m],v=--o,y=e[v];t[g.uuid]=f,e[f]=g,t[y.uuid]=m,e[m]=y,e.pop();for(let w=0,x=i;w!==x;++w){const b=r[w],S=b[m],A=b[v];b[f]=S,b[m]=A,b.pop()}}else{const m=--o,g=e[m];m>0&&(t[g.uuid]=f),e[f]=g,e.pop();for(let v=0,y=i;v!==y;++v){const w=r[v];w[f]=w[m],w.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,c=this._objects,u=c.length,d=this.nCachedObjects_,f=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(f);for(let m=d,g=c.length;m!==g;++m){const v=c[m];f[m]=new nn(v,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,c=o[a],u=e[a];t[u]=r,o[r]=c,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class U5{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),c={endingStart:Oc,endingEnd:Oc};for(let u=0;u!==o;++u){const d=s[u].createInterpolant(null);a[u]=d,d.settings=c}this._interpolantSettings=c,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=R4,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r=!1){if(e.fadeOut(t),this.fadeIn(t),r===!0){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r=!1){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const c=a.parameterPositions,u=a.sampleValues;return c[0]=s,c[1]=s+r,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const c=(e-s)*r;c<0||r===0?t=0:(this._startTime=null,t=r*c)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const c=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case NM:for(let d=0,f=c.length;d!==f;++d)c[d].evaluate(o),u[d].accumulateAdditive(a);break;case Dw:default:for(let d=0,f=c.length;d!==f;++d)c[d].evaluate(o),u[d].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===P4;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===N4){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const c=this.repetitions-s;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Fc,i.endingEnd=Fc):(e?i.endingStart=this.zeroSlopeAtStart?Fc:Oc:i.endingStart=tm,t?i.endingEnd=this.zeroSlopeAtEnd?Fc:Oc:i.endingEnd=tm)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,c=o.sampleValues;return a[0]=s,c[0]=t,a[1]=s+e,c[1]=r,this}}const nse=new Float32Array(1);class rse extends Eo{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,c=r.uuid,u=this._bindingsByRootAndName;let d=u[c];d===void 0&&(d={},u[c]=d);for(let f=0;f!==s;++f){const m=i[f],g=m.name;let v=d[g];if(v!==void 0)++v.referenceCount,o[f]=v;else{if(v=o[f],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,c,g));continue}const y=t&&t._propertyBindings[f].binding.parsedPath;v=new j5(nn.create(r,g,y),m.ValueTypeName,m.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,c,g),o[f]=v}a[f].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],c=a.knownActions,u=c[c.length-1],d=e._byClipCacheIndex;u._byClipCacheIndex=d,c[d]=u,c.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,m=(e._localRoot||this._root).uuid;delete f[m],c.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],c=t[t.length-1],u=e._cacheIndex;c._cacheIndex=u,t[u]=c,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new $M(new Float32Array(2),new Float32Array(2),1,nse),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?Rh.findByName(i,e):e;const a=o!==null?o.uuid:e,c=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=Dw),c!==void 0){const f=c.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;u=c.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const d=new U5(this,o,t,r);return this._bindAction(d,u),this._addInactiveAction(d,a,s),d}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?Rh.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)t[u]._update(i,e,s,o);const a=this._bindings,c=this._nActiveBindings;for(let u=0;u!==c;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,c=o.length;a!==c;++a){const u=o[a];this._deactivateAction(u);const d=u._cacheIndex,f=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=d,t[d]=f,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,c=a[t];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class ise extends Bw{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new Lw(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class sse extends Bw{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isRenderTargetArray=!0,this.depth=r,this.texture=new Fm(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class aT{constructor(e){this.value=e}clone(){return new aT(this.value.clone===void 0?this.value:this.value.clone())}}let ose=0;class ase extends Eo{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:ose++}),this.name="",this.usage=rm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++){const s=Array.isArray(t[r])?t[r]:[t[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class lse extends zm{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class cse{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const VI=new St;class z5{constructor(e,t,r=0,i=1/0){this.ray=new Eu(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new qc,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return VI.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(VI),this}intersectObject(e,t=!0,r=[]){return aE(e,this,r,t),r.sort(WI),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)aE(e[i],this,r,t);return r.sort(WI),r}}function WI(n,e){return n.distance-e.distance}function aE(n,e,t,r){let i=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(i=!1),i===!0&&r===!0){const s=n.children;for(let o=0,a=s.length;o<a;o++)aE(s[o],e,t,!0)}}class lE{constructor(e=1,t=0,r=0){this.radius=e,this.phi=t,this.theta=r}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Rt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Rt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class use{constructor(e=1,t=0,r=0){this.radius=e,this.theta=t,this.y=r}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}class lT{constructor(e,t,r,i){lT.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let r=0;r<4;r++)this.elements[r]=e[r+t];return this}set(e,t,r,i){const s=this.elements;return s[0]=e,s[2]=t,s[1]=r,s[3]=i,this}}const XI=new _e;class dse{constructor(e=new _e(1/0,1/0),t=new _e(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=XI.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,XI).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const KI=new H,rv=new H;class hse{constructor(e=new H,t=new H){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){KI.subVectors(e,this.start),rv.subVectors(this.end,this.start);const r=rv.dot(rv);let s=rv.dot(KI)/r;return t&&(s=Rt(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const JI=new H;class fse extends en{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Pt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,c=32;o<c;o++,a++){const u=o/c*Math.PI*2,d=a/c*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(d),Math.sin(d),1)}r.setAttribute("position",new dt(i,3));const s=new Wr({fog:!1,toneMapped:!1});this.cone=new Ws(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),JI.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(JI),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ja=new H,iv=new St,XS=new St;class pse extends Ws{constructor(e){const t=H5(e),r=new Pt,i=[],s=[],o=new Ye(0,0,1),a=new Ye(0,1,0);for(let u=0;u<t.length;u++){const d=t[u];d.parent&&d.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new dt(i,3)),r.setAttribute("color",new dt(s,3));const c=new Wr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,c),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");XS.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(iv.multiplyMatrices(XS,a.matrixWorld),Ja.setFromMatrixPosition(iv),i.setXYZ(o,Ja.x,Ja.y,Ja.z),iv.multiplyMatrices(XS,a.parent.matrixWorld),Ja.setFromMatrixPosition(iv),i.setXYZ(o+1,Ja.x,Ja.y,Ja.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function H5(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...H5(n.children[t]));return e}class mse extends Wn{constructor(e,t,r){const i=new Xm(t,4,2),s=new Ui({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const gse=new H,YI=new Ye,$I=new Ye;class xse extends en{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Wm(t);i.rotateY(Math.PI*.5),this.material=new Ui({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new an(o,3)),this.add(new Wn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");YI.copy(this.light.color),$I.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?YI:$I;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(gse.setFromMatrixPosition(this.light.matrixWorld).negate())}}class vse extends Ws{constructor(e=10,t=10,r=4473924,i=8947848){r=new Ye(r),i=new Ye(i);const s=t/2,o=e/t,a=e/2,c=[],u=[];for(let m=0,g=0,v=-a;m<=t;m++,v+=o){c.push(-a,0,v,a,0,v),c.push(v,0,-a,v,0,a);const y=m===s?r:i;y.toArray(u,g),g+=3,y.toArray(u,g),g+=3,y.toArray(u,g),g+=3,y.toArray(u,g),g+=3}const d=new Pt;d.setAttribute("position",new dt(c,3)),d.setAttribute("color",new dt(u,3));const f=new Wr({vertexColors:!0,toneMapped:!1});super(d,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class yse extends Ws{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new Ye(s),o=new Ye(o);const a=[],c=[];if(t>1)for(let f=0;f<t;f++){const m=f/t*(Math.PI*2),g=Math.sin(m)*e,v=Math.cos(m)*e;a.push(0,0,0),a.push(g,0,v);const y=f&1?s:o;c.push(y.r,y.g,y.b),c.push(y.r,y.g,y.b)}for(let f=0;f<r;f++){const m=f&1?s:o,g=e-e/r*f;for(let v=0;v<i;v++){let y=v/i*(Math.PI*2),w=Math.sin(y)*g,x=Math.cos(y)*g;a.push(w,0,x),c.push(m.r,m.g,m.b),y=(v+1)/i*(Math.PI*2),w=Math.sin(y)*g,x=Math.cos(y)*g,a.push(w,0,x),c.push(m.r,m.g,m.b)}}const u=new Pt;u.setAttribute("position",new dt(a,3)),u.setAttribute("color",new dt(c,3));const d=new Wr({vertexColors:!0,toneMapped:!1});super(u,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const qI=new H,sv=new H,QI=new H;class wse extends en{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Pt;i.setAttribute("position",new dt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Wr({fog:!1,toneMapped:!1});this.lightPlane=new _a(i,s),this.add(this.lightPlane),i=new Pt,i.setAttribute("position",new dt([0,0,0,0,0,1],3)),this.targetLine=new _a(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),qI.setFromMatrixPosition(this.light.matrixWorld),sv.setFromMatrixPosition(this.light.target.matrixWorld),QI.subVectors(sv,qI),this.lightPlane.lookAt(sv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(sv),this.targetLine.scale.z=QI.length()}}const ov=new H,On=new jm;class _se extends Ws{constructor(e){const t=new Pt,r=new Wr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,y){c(v),c(y)}function c(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}t.setAttribute("position",new dt(i,3)),t.setAttribute("color",new dt(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Ye(16755200),d=new Ye(16711680),f=new Ye(43775),m=new Ye(16777215),g=new Ye(3355443);this.setColors(u,d,f,m,g)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;On.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const s=this.camera.coordinateSystem===us?-1:0;Hn("c",t,e,On,0,0,s),Hn("t",t,e,On,0,0,1),Hn("n1",t,e,On,-1,-1,s),Hn("n2",t,e,On,r,-1,s),Hn("n3",t,e,On,-1,i,s),Hn("n4",t,e,On,r,i,s),Hn("f1",t,e,On,-1,-1,1),Hn("f2",t,e,On,r,-1,1),Hn("f3",t,e,On,-1,i,1),Hn("f4",t,e,On,r,i,1),Hn("u1",t,e,On,r*.7,i*1.1,s),Hn("u2",t,e,On,-1*.7,i*1.1,s),Hn("u3",t,e,On,0,i*2,s),Hn("cf1",t,e,On,-1,0,1),Hn("cf2",t,e,On,r,0,1),Hn("cf3",t,e,On,0,-1,1),Hn("cf4",t,e,On,0,i,1),Hn("cn1",t,e,On,-1,0,s),Hn("cn2",t,e,On,r,0,s),Hn("cn3",t,e,On,0,-1,s),Hn("cn4",t,e,On,0,i,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Hn(n,e,t,r,i,s,o){ov.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const c=t.getAttribute("position");for(let u=0,d=a.length;u<d;u++)c.setXYZ(a[u],ov.x,ov.y,ov.z)}}const av=new _r;class bse extends Ws{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Pt;s.setIndex(new an(r,1)),s.setAttribute("position",new an(i,3)),super(s,new Wr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&av.setFromObject(this.object),av.isEmpty())return;const e=av.min,t=av.max,r=this.geometry.attributes.position,i=r.array;i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=e.x,i[4]=t.y,i[5]=t.z,i[6]=e.x,i[7]=e.y,i[8]=t.z,i[9]=t.x,i[10]=e.y,i[11]=t.z,i[12]=t.x,i[13]=t.y,i[14]=e.z,i[15]=e.x,i[16]=t.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=t.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Sse extends Ws{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Pt;s.setIndex(new an(r,1)),s.setAttribute("position",new dt(i,3)),super(s,new Wr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ase extends _a{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Pt;o.setAttribute("position",new dt(s,3)),o.computeBoundingSphere(),super(o,new Wr({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new Pt;c.setAttribute("position",new dt(a,3)),c.computeBoundingSphere(),this.add(new Wn(c,new Ui({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const ZI=new H;let lv,KS;class Ese extends en{constructor(e=new H(0,0,1),t=new H(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",lv===void 0&&(lv=new Pt,lv.setAttribute("position",new dt([0,0,0,0,1,0],3)),KS=new Vm(.5,1,5,1),KS.translate(0,-.5,0)),this.position.copy(t),this.line=new _a(lv,new Wr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Wn(KS,new Ui({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{ZI.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(ZI,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Cse extends Ws{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Pt;i.setAttribute("position",new dt(t,3)),i.setAttribute("color",new dt(r,3));const s=new Wr({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new Ye,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Mse{constructor(){this.type="ShapePath",this.color=new Ye,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Ay,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const b=[];for(let S=0,A=x.length;S<A;S++){const T=x[S],N=new Qc;N.curves=T.curves,b.push(N)}return b}function r(x,b){const S=b.length;let A=!1;for(let T=S-1,N=0;N<S;T=N++){let P=b[T],D=b[N],I=D.x-P.x,R=D.y-P.y;if(Math.abs(R)>Number.EPSILON){if(R<0&&(P=b[N],I=-I,D=b[T],R=-R),x.y<P.y||x.y>D.y)continue;if(x.y===P.y){if(x.x===P.x)return!0}else{const k=R*(x.x-P.x)-I*(x.y-P.y);if(k===0)return!0;if(k<0)continue;A=!A}}else{if(x.y!==P.y)continue;if(D.x<=x.x&&x.x<=P.x||P.x<=x.x&&x.x<=D.x)return!0}}return A}const i=Ls.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,c;const u=[];if(s.length===1)return a=s[0],c=new Qc,c.curves=a.curves,u.push(c),u;let d=!i(s[0].getPoints());d=e?!d:d;const f=[],m=[];let g=[],v=0,y;m[v]=void 0,g[v]=[];for(let x=0,b=s.length;x<b;x++)a=s[x],y=a.getPoints(),o=i(y),o=e?!o:o,o?(!d&&m[v]&&v++,m[v]={s:new Qc,p:y},m[v].s.curves=a.curves,d&&v++,g[v]=[]):g[v].push({h:a,p:y[0]});if(!m[0])return t(s);if(m.length>1){let x=!1,b=0;for(let S=0,A=m.length;S<A;S++)f[S]=[];for(let S=0,A=m.length;S<A;S++){const T=g[S];for(let N=0;N<T.length;N++){const P=T[N];let D=!0;for(let I=0;I<m.length;I++)r(P.p,m[I].p)&&(S!==I&&b++,D?(D=!1,f[I].push(P)):x=!0);D&&f[S].push(P)}}b>0&&x===!1&&(g=f)}let w;for(let x=0,b=m.length;x<b;x++){c=m[x].s,u.push(c),w=g[x];for(let S=0,A=w.length;S<A;S++)c.holes.push(w[S].h)}return u}}class Tse extends Eo{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function Nse(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function Rse(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function Pse(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function cE(n,e,t,r){const i=Ise(r);switch(t){case EM:return n*e;case Rw:return n*e/i.components*i.byteLength;case Om:return n*e/i.components*i.byteLength;case MM:return n*e*2/i.components*i.byteLength;case Pw:return n*e*2/i.components*i.byteLength;case CM:return n*e*3/i.components*i.byteLength;case Fr:return n*e*4/i.components*i.byteLength;case Iw:return n*e*4/i.components*i.byteLength;case mp:case gp:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case xp:case vp:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Y0:case q0:return Math.max(n,16)*Math.max(e,8)/4;case J0:case $0:return Math.max(n,8)*Math.max(e,8)/2;case Q0:case Z0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case ey:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case ty:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case ny:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case ry:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case iy:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case sy:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case oy:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case ay:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case ly:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case cy:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case uy:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case dy:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case hy:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case fy:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case py:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case yp:case my:case gy:return Math.ceil(n/4)*Math.ceil(e/4)*16;case TM:case xy:return Math.ceil(n/4)*Math.ceil(e/4)*8;case vy:case yy:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function Ise(n){switch(n){case ms:case bM:return{byteLength:1,components:1};case _h:case SM:case Kh:return{byteLength:2,components:1};case Tw:case Nw:return{byteLength:2,components:4};case wa:case Mw:case wi:return{byteLength:4,components:1};case AM:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class Dse{static contain(e,t){return Nse(e,t)}static cover(e,t){return Rse(e,t)}static fill(e){return Pse(e)}static getByteLength(e,t,r,i){return cE(e,t,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Lm}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Lm);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function G5(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function Bse(n){const e=new WeakMap;function t(a,c){const u=a.array,d=a.usage,f=u.byteLength,m=n.createBuffer();n.bindBuffer(c,m),n.bufferData(c,u,d),a.onUploadCallback();let g;if(u instanceof Float32Array)g=n.FLOAT;else if(u instanceof Uint16Array)a.isFloat16BufferAttribute?g=n.HALF_FLOAT:g=n.UNSIGNED_SHORT;else if(u instanceof Int16Array)g=n.SHORT;else if(u instanceof Uint32Array)g=n.UNSIGNED_INT;else if(u instanceof Int32Array)g=n.INT;else if(u instanceof Int8Array)g=n.BYTE;else if(u instanceof Uint8Array)g=n.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)g=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:m,type:g,bytesPerElement:u.BYTES_PER_ELEMENT,version:a.version,size:f}}function r(a,c,u){const d=c.array,f=c.updateRanges;if(n.bindBuffer(u,a),f.length===0)n.bufferSubData(u,0,d);else{f.sort((g,v)=>g.start-v.start);let m=0;for(let g=1;g<f.length;g++){const v=f[m],y=f[g];y.start<=v.start+v.count+1?v.count=Math.max(v.count,y.start+y.count-v.start):(++m,f[m]=y)}f.length=m+1;for(let g=0,v=f.length;g<v;g++){const y=f[g];n.bufferSubData(u,y.start*d.BYTES_PER_ELEMENT,d,y.start,y.count)}c.clearUpdateRanges()}c.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const c=e.get(a);c&&(n.deleteBuffer(c.buffer),e.delete(a))}function o(a,c){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const d=e.get(a);(!d||d.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const u=e.get(a);if(u===void 0)e.set(a,t(a,c));else if(u.version<a.version){if(u.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,a,c),u.version=a.version}}return{get:i,remove:s,update:o}}var Lse=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,kse=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Ose=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Fse=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,jse=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Use=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,zse=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Hse=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Gse=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Vse=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Wse=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Xse=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Kse=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Jse=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Yse=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,$se=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,qse=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Qse=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Zse=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,eoe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,toe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,noe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,roe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,ioe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,soe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,ooe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,aoe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,loe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,coe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,uoe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,doe="gl_FragColor = linearToOutputTexel( gl_FragColor );",hoe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,foe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,poe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,moe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,goe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,xoe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,voe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,yoe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,woe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,_oe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,boe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Soe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Aoe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Eoe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Coe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Moe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Toe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Noe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Roe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Poe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Ioe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Doe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Boe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Loe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,koe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Ooe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Foe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,joe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Uoe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,zoe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Hoe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Goe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Voe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Woe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Xoe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Koe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Joe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Yoe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,$oe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,qoe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Qoe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Zoe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,eae=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,tae=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,nae=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,rae=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,iae=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,sae=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,oae=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,aae=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,lae=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,cae=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,uae=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,dae=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,hae=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,fae=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,pae=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,mae=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,gae=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,xae=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,vae=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,yae=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,wae=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,_ae=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,bae=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Sae=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Aae=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Eae=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Cae=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Mae=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Tae=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Nae=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Rae=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Pae=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Iae=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Dae=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Bae=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Lae=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,kae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Oae=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Fae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,jae=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Uae=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,zae=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Hae=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Gae=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Vae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Wae=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Xae=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Kae=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Jae=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Yae=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$ae=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qae=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Qae=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Zae=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ele=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,tle=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,nle=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rle=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ile=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,sle=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ole=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ale=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lle=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,cle=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ule=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dle=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,hle=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fle=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,zt={alphahash_fragment:Lse,alphahash_pars_fragment:kse,alphamap_fragment:Ose,alphamap_pars_fragment:Fse,alphatest_fragment:jse,alphatest_pars_fragment:Use,aomap_fragment:zse,aomap_pars_fragment:Hse,batching_pars_vertex:Gse,batching_vertex:Vse,begin_vertex:Wse,beginnormal_vertex:Xse,bsdfs:Kse,iridescence_fragment:Jse,bumpmap_pars_fragment:Yse,clipping_planes_fragment:$se,clipping_planes_pars_fragment:qse,clipping_planes_pars_vertex:Qse,clipping_planes_vertex:Zse,color_fragment:eoe,color_pars_fragment:toe,color_pars_vertex:noe,color_vertex:roe,common:ioe,cube_uv_reflection_fragment:soe,defaultnormal_vertex:ooe,displacementmap_pars_vertex:aoe,displacementmap_vertex:loe,emissivemap_fragment:coe,emissivemap_pars_fragment:uoe,colorspace_fragment:doe,colorspace_pars_fragment:hoe,envmap_fragment:foe,envmap_common_pars_fragment:poe,envmap_pars_fragment:moe,envmap_pars_vertex:goe,envmap_physical_pars_fragment:Moe,envmap_vertex:xoe,fog_vertex:voe,fog_pars_vertex:yoe,fog_fragment:woe,fog_pars_fragment:_oe,gradientmap_pars_fragment:boe,lightmap_pars_fragment:Soe,lights_lambert_fragment:Aoe,lights_lambert_pars_fragment:Eoe,lights_pars_begin:Coe,lights_toon_fragment:Toe,lights_toon_pars_fragment:Noe,lights_phong_fragment:Roe,lights_phong_pars_fragment:Poe,lights_physical_fragment:Ioe,lights_physical_pars_fragment:Doe,lights_fragment_begin:Boe,lights_fragment_maps:Loe,lights_fragment_end:koe,logdepthbuf_fragment:Ooe,logdepthbuf_pars_fragment:Foe,logdepthbuf_pars_vertex:joe,logdepthbuf_vertex:Uoe,map_fragment:zoe,map_pars_fragment:Hoe,map_particle_fragment:Goe,map_particle_pars_fragment:Voe,metalnessmap_fragment:Woe,metalnessmap_pars_fragment:Xoe,morphinstance_vertex:Koe,morphcolor_vertex:Joe,morphnormal_vertex:Yoe,morphtarget_pars_vertex:$oe,morphtarget_vertex:qoe,normal_fragment_begin:Qoe,normal_fragment_maps:Zoe,normal_pars_fragment:eae,normal_pars_vertex:tae,normal_vertex:nae,normalmap_pars_fragment:rae,clearcoat_normal_fragment_begin:iae,clearcoat_normal_fragment_maps:sae,clearcoat_pars_fragment:oae,iridescence_pars_fragment:aae,opaque_fragment:lae,packing:cae,premultiplied_alpha_fragment:uae,project_vertex:dae,dithering_fragment:hae,dithering_pars_fragment:fae,roughnessmap_fragment:pae,roughnessmap_pars_fragment:mae,shadowmap_pars_fragment:gae,shadowmap_pars_vertex:xae,shadowmap_vertex:vae,shadowmask_pars_fragment:yae,skinbase_vertex:wae,skinning_pars_vertex:_ae,skinning_vertex:bae,skinnormal_vertex:Sae,specularmap_fragment:Aae,specularmap_pars_fragment:Eae,tonemapping_fragment:Cae,tonemapping_pars_fragment:Mae,transmission_fragment:Tae,transmission_pars_fragment:Nae,uv_pars_fragment:Rae,uv_pars_vertex:Pae,uv_vertex:Iae,worldpos_vertex:Dae,background_vert:Bae,background_frag:Lae,backgroundCube_vert:kae,backgroundCube_frag:Oae,cube_vert:Fae,cube_frag:jae,depth_vert:Uae,depth_frag:zae,distanceRGBA_vert:Hae,distanceRGBA_frag:Gae,equirect_vert:Vae,equirect_frag:Wae,linedashed_vert:Xae,linedashed_frag:Kae,meshbasic_vert:Jae,meshbasic_frag:Yae,meshlambert_vert:$ae,meshlambert_frag:qae,meshmatcap_vert:Qae,meshmatcap_frag:Zae,meshnormal_vert:ele,meshnormal_frag:tle,meshphong_vert:nle,meshphong_frag:rle,meshphysical_vert:ile,meshphysical_frag:sle,meshtoon_vert:ole,meshtoon_frag:ale,points_vert:lle,points_frag:cle,shadow_vert:ule,shadow_frag:dle,sprite_vert:hle,sprite_frag:fle},Je={common:{diffuse:{value:new Ye(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Bt},alphaMap:{value:null},alphaMapTransform:{value:new Bt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Bt}},envmap:{envMap:{value:null},envMapRotation:{value:new Bt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Bt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Bt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Bt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Bt},normalScale:{value:new _e(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Bt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Bt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Bt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Bt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ye(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ye(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Bt},alphaTest:{value:0},uvTransform:{value:new Bt}},sprite:{diffuse:{value:new Ye(16777215)},opacity:{value:1},center:{value:new _e(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Bt},alphaMap:{value:null},alphaMapTransform:{value:new Bt},alphaTest:{value:0}}},Ps={basic:{uniforms:$r([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.fog]),vertexShader:zt.meshbasic_vert,fragmentShader:zt.meshbasic_frag},lambert:{uniforms:$r([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.fog,Je.lights,{emissive:{value:new Ye(0)}}]),vertexShader:zt.meshlambert_vert,fragmentShader:zt.meshlambert_frag},phong:{uniforms:$r([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.fog,Je.lights,{emissive:{value:new Ye(0)},specular:{value:new Ye(1118481)},shininess:{value:30}}]),vertexShader:zt.meshphong_vert,fragmentShader:zt.meshphong_frag},standard:{uniforms:$r([Je.common,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.roughnessmap,Je.metalnessmap,Je.fog,Je.lights,{emissive:{value:new Ye(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:zt.meshphysical_vert,fragmentShader:zt.meshphysical_frag},toon:{uniforms:$r([Je.common,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.gradientmap,Je.fog,Je.lights,{emissive:{value:new Ye(0)}}]),vertexShader:zt.meshtoon_vert,fragmentShader:zt.meshtoon_frag},matcap:{uniforms:$r([Je.common,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.fog,{matcap:{value:null}}]),vertexShader:zt.meshmatcap_vert,fragmentShader:zt.meshmatcap_frag},points:{uniforms:$r([Je.points,Je.fog]),vertexShader:zt.points_vert,fragmentShader:zt.points_frag},dashed:{uniforms:$r([Je.common,Je.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:zt.linedashed_vert,fragmentShader:zt.linedashed_frag},depth:{uniforms:$r([Je.common,Je.displacementmap]),vertexShader:zt.depth_vert,fragmentShader:zt.depth_frag},normal:{uniforms:$r([Je.common,Je.bumpmap,Je.normalmap,Je.displacementmap,{opacity:{value:1}}]),vertexShader:zt.meshnormal_vert,fragmentShader:zt.meshnormal_frag},sprite:{uniforms:$r([Je.sprite,Je.fog]),vertexShader:zt.sprite_vert,fragmentShader:zt.sprite_frag},background:{uniforms:{uvTransform:{value:new Bt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:zt.background_vert,fragmentShader:zt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Bt}},vertexShader:zt.backgroundCube_vert,fragmentShader:zt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:zt.cube_vert,fragmentShader:zt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:zt.equirect_vert,fragmentShader:zt.equirect_frag},distanceRGBA:{uniforms:$r([Je.common,Je.displacementmap,{referencePosition:{value:new H},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:zt.distanceRGBA_vert,fragmentShader:zt.distanceRGBA_frag},shadow:{uniforms:$r([Je.lights,Je.fog,{color:{value:new Ye(0)},opacity:{value:1}}]),vertexShader:zt.shadow_vert,fragmentShader:zt.shadow_frag}};Ps.physical={uniforms:$r([Ps.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Bt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Bt},clearcoatNormalScale:{value:new _e(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Bt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Bt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Bt},sheen:{value:0},sheenColor:{value:new Ye(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Bt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Bt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Bt},transmissionSamplerSize:{value:new _e},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Bt},attenuationDistance:{value:0},attenuationColor:{value:new Ye(0)},specularColor:{value:new Ye(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Bt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Bt},anisotropyVector:{value:new _e},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Bt}}]),vertexShader:zt.meshphysical_vert,fragmentShader:zt.meshphysical_frag};const cv={r:0,b:0,g:0},_c=new Wi,ple=new St;function mle(n,e,t,r,i,s,o){const a=new Ye(0);let c=s===!0?0:1,u,d,f=null,m=0,g=null;function v(S){let A=S.isScene===!0?S.background:null;return A&&A.isTexture&&(A=(S.backgroundBlurriness>0?t:e).get(A)),A}function y(S){let A=!1;const T=v(S);T===null?x(a,c):T&&T.isColor&&(x(T,1),A=!0);const N=n.xr.getEnvironmentBlendMode();N==="additive"?r.buffers.color.setClear(0,0,0,1,o):N==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(n.autoClear||A)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function w(S,A){const T=v(A);T&&(T.isCubeTexture||T.mapping===Xh)?(d===void 0&&(d=new Wn(new Cu(1,1,1),new Gs({name:"BackgroundCubeMaterial",uniforms:Th(Ps.backgroundCube.uniforms),vertexShader:Ps.backgroundCube.vertexShader,fragmentShader:Ps.backgroundCube.fragmentShader,side:ni,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(N,P,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(d)),_c.copy(A.backgroundRotation),_c.x*=-1,_c.y*=-1,_c.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(_c.y*=-1,_c.z*=-1),d.material.uniforms.envMap.value=T,d.material.uniforms.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=A.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(ple.makeRotationFromEuler(_c)),d.material.toneMapped=rn.getTransfer(T.colorSpace)!==gn,(f!==T||m!==T.version||g!==n.toneMapping)&&(d.material.needsUpdate=!0,f=T,m=T.version,g=n.toneMapping),d.layers.enableAll(),S.unshift(d,d.geometry,d.material,0,0,null)):T&&T.isTexture&&(u===void 0&&(u=new Wn(new Yh(2,2),new Gs({name:"BackgroundMaterial",uniforms:Th(Ps.background.uniforms),vertexShader:Ps.background.vertexShader,fragmentShader:Ps.background.fragmentShader,side:_o,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=T,u.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,u.material.toneMapped=rn.getTransfer(T.colorSpace)!==gn,T.matrixAutoUpdate===!0&&T.updateMatrix(),u.material.uniforms.uvTransform.value.copy(T.matrix),(f!==T||m!==T.version||g!==n.toneMapping)&&(u.material.needsUpdate=!0,f=T,m=T.version,g=n.toneMapping),u.layers.enableAll(),S.unshift(u,u.geometry,u.material,0,0,null))}function x(S,A){S.getRGB(cv,J4(n)),r.buffers.color.setClear(cv.r,cv.g,cv.b,A,o)}function b(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return a},setClearColor:function(S,A=1){a.set(S),c=A,x(a,c)},getClearAlpha:function(){return c},setClearAlpha:function(S){c=S,x(a,c)},render:y,addToRenderList:w,dispose:b}}function gle(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},i=m(null);let s=i,o=!1;function a(R,k,G,K,J){let Q=!1;const Y=f(K,G,k);s!==Y&&(s=Y,u(s.object)),Q=g(R,K,G,J),Q&&v(R,K,G,J),J!==null&&e.update(J,n.ELEMENT_ARRAY_BUFFER),(Q||o)&&(o=!1,A(R,k,G,K),J!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(J).buffer))}function c(){return n.createVertexArray()}function u(R){return n.bindVertexArray(R)}function d(R){return n.deleteVertexArray(R)}function f(R,k,G){const K=G.wireframe===!0;let J=r[R.id];J===void 0&&(J={},r[R.id]=J);let Q=J[k.id];Q===void 0&&(Q={},J[k.id]=Q);let Y=Q[K];return Y===void 0&&(Y=m(c()),Q[K]=Y),Y}function m(R){const k=[],G=[],K=[];for(let J=0;J<t;J++)k[J]=0,G[J]=0,K[J]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:G,attributeDivisors:K,object:R,attributes:{},index:null}}function g(R,k,G,K){const J=s.attributes,Q=k.attributes;let Y=0;const se=G.getAttributes();for(const L in se)if(se[L].location>=0){const W=J[L];let $=Q[L];if($===void 0&&(L==="instanceMatrix"&&R.instanceMatrix&&($=R.instanceMatrix),L==="instanceColor"&&R.instanceColor&&($=R.instanceColor)),W===void 0||W.attribute!==$||$&&W.data!==$.data)return!0;Y++}return s.attributesNum!==Y||s.index!==K}function v(R,k,G,K){const J={},Q=k.attributes;let Y=0;const se=G.getAttributes();for(const L in se)if(se[L].location>=0){let W=Q[L];W===void 0&&(L==="instanceMatrix"&&R.instanceMatrix&&(W=R.instanceMatrix),L==="instanceColor"&&R.instanceColor&&(W=R.instanceColor));const $={};$.attribute=W,W&&W.data&&($.data=W.data),J[L]=$,Y++}s.attributes=J,s.attributesNum=Y,s.index=K}function y(){const R=s.newAttributes;for(let k=0,G=R.length;k<G;k++)R[k]=0}function w(R){x(R,0)}function x(R,k){const G=s.newAttributes,K=s.enabledAttributes,J=s.attributeDivisors;G[R]=1,K[R]===0&&(n.enableVertexAttribArray(R),K[R]=1),J[R]!==k&&(n.vertexAttribDivisor(R,k),J[R]=k)}function b(){const R=s.newAttributes,k=s.enabledAttributes;for(let G=0,K=k.length;G<K;G++)k[G]!==R[G]&&(n.disableVertexAttribArray(G),k[G]=0)}function S(R,k,G,K,J,Q,Y){Y===!0?n.vertexAttribIPointer(R,k,G,J,Q):n.vertexAttribPointer(R,k,G,K,J,Q)}function A(R,k,G,K){y();const J=K.attributes,Q=G.getAttributes(),Y=k.defaultAttributeValues;for(const se in Q){const L=Q[se];if(L.location>=0){let j=J[se];if(j===void 0&&(se==="instanceMatrix"&&R.instanceMatrix&&(j=R.instanceMatrix),se==="instanceColor"&&R.instanceColor&&(j=R.instanceColor)),j!==void 0){const W=j.normalized,$=j.itemSize,oe=e.get(j);if(oe===void 0)continue;const Se=oe.buffer,ne=oe.type,we=oe.bytesPerElement,ve=ne===n.INT||ne===n.UNSIGNED_INT||j.gpuType===Mw;if(j.isInterleavedBufferAttribute){const le=j.data,ke=le.stride,He=j.offset;if(le.isInstancedInterleavedBuffer){for(let De=0;De<L.locationSize;De++)x(L.location+De,le.meshPerAttribute);R.isInstancedMesh!==!0&&K._maxInstanceCount===void 0&&(K._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let De=0;De<L.locationSize;De++)w(L.location+De);n.bindBuffer(n.ARRAY_BUFFER,Se);for(let De=0;De<L.locationSize;De++)S(L.location+De,$/L.locationSize,ne,W,ke*we,(He+$/L.locationSize*De)*we,ve)}else{if(j.isInstancedBufferAttribute){for(let le=0;le<L.locationSize;le++)x(L.location+le,j.meshPerAttribute);R.isInstancedMesh!==!0&&K._maxInstanceCount===void 0&&(K._maxInstanceCount=j.meshPerAttribute*j.count)}else for(let le=0;le<L.locationSize;le++)w(L.location+le);n.bindBuffer(n.ARRAY_BUFFER,Se);for(let le=0;le<L.locationSize;le++)S(L.location+le,$/L.locationSize,ne,W,$*we,$/L.locationSize*le*we,ve)}}else if(Y!==void 0){const W=Y[se];if(W!==void 0)switch(W.length){case 2:n.vertexAttrib2fv(L.location,W);break;case 3:n.vertexAttrib3fv(L.location,W);break;case 4:n.vertexAttrib4fv(L.location,W);break;default:n.vertexAttrib1fv(L.location,W)}}}}b()}function T(){D();for(const R in r){const k=r[R];for(const G in k){const K=k[G];for(const J in K)d(K[J].object),delete K[J];delete k[G]}delete r[R]}}function N(R){if(r[R.id]===void 0)return;const k=r[R.id];for(const G in k){const K=k[G];for(const J in K)d(K[J].object),delete K[J];delete k[G]}delete r[R.id]}function P(R){for(const k in r){const G=r[k];if(G[R.id]===void 0)continue;const K=G[R.id];for(const J in K)d(K[J].object),delete K[J];delete G[R.id]}}function D(){I(),o=!0,s!==i&&(s=i,u(s.object))}function I(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:D,resetDefaultState:I,dispose:T,releaseStatesOfGeometry:N,releaseStatesOfProgram:P,initAttributes:y,enableAttribute:w,disableUnusedAttributes:b}}function xle(n,e,t){let r;function i(u){r=u}function s(u,d){n.drawArrays(r,u,d),t.update(d,r,1)}function o(u,d,f){f!==0&&(n.drawArraysInstanced(r,u,d,f),t.update(d,r,f))}function a(u,d,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,d,0,f);let g=0;for(let v=0;v<f;v++)g+=d[v];t.update(g,r,1)}function c(u,d,f,m){if(f===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let v=0;v<u.length;v++)o(u[v],d[v],m[v]);else{g.multiDrawArraysInstancedWEBGL(r,u,0,d,0,m,0,f);let v=0;for(let y=0;y<f;y++)v+=d[y]*m[y];t.update(v,r,1)}}this.setMode=i,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=c}function vle(n,e,t,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(P){return!(P!==Fr&&r.convert(P)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(P){const D=P===Kh&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(P!==ms&&r.convert(P)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&P!==wi&&!D)}function c(P){if(P==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=t.precision!==void 0?t.precision:"highp";const d=c(u);d!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",d,"instead."),u=d);const f=t.logarithmicDepthBuffer===!0,m=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),g=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),v=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),y=n.getParameter(n.MAX_TEXTURE_SIZE),w=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),x=n.getParameter(n.MAX_VERTEX_ATTRIBS),b=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),S=n.getParameter(n.MAX_VARYING_VECTORS),A=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),T=v>0,N=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:c,textureFormatReadable:o,textureTypeReadable:a,precision:u,logarithmicDepthBuffer:f,reverseDepthBuffer:m,maxTextures:g,maxVertexTextures:v,maxTextureSize:y,maxCubemapSize:w,maxAttributes:x,maxVertexUniforms:b,maxVaryings:S,maxFragmentUniforms:A,vertexTextures:T,maxSamples:N}}function yle(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new Wo,a=new Bt,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(f,m){const g=f.length!==0||m||r!==0||i;return i=m,r=f.length,g},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,m){t=d(f,m,0)},this.setState=function(f,m,g){const v=f.clippingPlanes,y=f.clipIntersection,w=f.clipShadows,x=n.get(f);if(!i||v===null||v.length===0||s&&!w)s?d(null):u();else{const b=s?0:r,S=b*4;let A=x.clippingState||null;c.value=A,A=d(v,m,S,g);for(let T=0;T!==S;++T)A[T]=t[T];x.clippingState=A,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=b}};function u(){c.value!==t&&(c.value=t,c.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(f,m,g,v){const y=f!==null?f.length:0;let w=null;if(y!==0){if(w=c.value,v!==!0||w===null){const x=g+y*4,b=m.matrixWorldInverse;a.getNormalMatrix(b),(w===null||w.length<x)&&(w=new Float32Array(x));for(let S=0,A=g;S!==y;++S,A+=4)o.copy(f[S]).applyMatrix4(b,a),o.normal.toArray(w,A),w[A+3]=o.constant}c.value=w,c.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,w}}function wle(n){let e=new WeakMap;function t(o,a){return a===Zp?o.mapping=ya:a===em&&(o.mapping=Fl),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===Zp||a===em)if(e.has(o)){const c=e.get(o).texture;return t(c,o.mapping)}else{const c=o.image;if(c&&c.height>0){const u=new q4(c.height);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",i),t(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const c=e.get(a);c!==void 0&&(e.delete(a),c.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}const Id=4,eD=[.125,.215,.35,.446,.526,.582],Pc=20,JS=new oa,tD=new Ye;let YS=null,$S=0,qS=0,QS=!1;const Rc=(1+Math.sqrt(5))/2,dd=1/Rc,nD=[new H(-Rc,dd,0),new H(Rc,dd,0),new H(-dd,0,Rc),new H(dd,0,Rc),new H(0,Rc,-dd),new H(0,Rc,dd),new H(-1,1,-1),new H(1,1,-1),new H(-1,1,1),new H(1,1,1)],_le=new H;class uE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100,s={}){const{size:o=256,position:a=_le}=s;YS=this._renderer.getRenderTarget(),$S=this._renderer.getActiveCubeFace(),qS=this._renderer.getActiveMipmapLevel(),QS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const c=this._allocateTargets();return c.depthBuffer=!0,this._sceneToCubeUV(e,r,i,c,a),t>0&&this._blur(c,0,0,t),this._applyPMREM(c),this._cleanup(c),c}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=sD(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=iD(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(YS,$S,qS),this._renderer.xr.enabled=QS,e.scissorTest=!1,uv(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===ya||e.mapping===Fl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),YS=this._renderer.getRenderTarget(),$S=this._renderer.getActiveCubeFace(),qS=this._renderer.getActiveMipmapLevel(),QS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Vn,minFilter:Vn,generateMipmaps:!1,type:Kh,format:Fr,colorSpace:hu,depthBuffer:!1},i=rD(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=rD(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=ble(s)),this._blurMaterial=Sle(s,e,t)}return i}_compileMaterial(e){const t=new Wn(this._lodPlanes[0],e);this._renderer.compile(t,JS)}_sceneToCubeUV(e,t,r,i,s){const c=new Un(90,1,t,r),u=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],f=this._renderer,m=f.autoClear,g=f.toneMapping;f.getClearColor(tD),f.toneMapping=vo,f.autoClear=!1;const v=new Ui({name:"PMREM.Background",side:ni,depthWrite:!1,depthTest:!1}),y=new Wn(new Cu,v);let w=!1;const x=e.background;x?x.isColor&&(v.color.copy(x),e.background=null,w=!0):(v.color.copy(tD),w=!0);for(let b=0;b<6;b++){const S=b%3;S===0?(c.up.set(0,u[b],0),c.position.set(s.x,s.y,s.z),c.lookAt(s.x+d[b],s.y,s.z)):S===1?(c.up.set(0,0,u[b]),c.position.set(s.x,s.y,s.z),c.lookAt(s.x,s.y+d[b],s.z)):(c.up.set(0,u[b],0),c.position.set(s.x,s.y,s.z),c.lookAt(s.x,s.y,s.z+d[b]));const A=this._cubeSize;uv(i,S*A,b>2?A:0,A,A),f.setRenderTarget(i),w&&f.render(y,c),f.render(e,c)}y.geometry.dispose(),y.material.dispose(),f.toneMapping=g,f.autoClear=m,e.background=x}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===ya||e.mapping===Fl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=sD()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=iD());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Wn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const c=this._cubeSize;uv(t,0,0,3*c,2*c),r.setRenderTarget(t),r.render(o,JS)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=nD[(i-s-1)%nD.length];this._blur(e,s-1,s,o,a)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const c=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,f=new Wn(this._lodPlanes[i],u),m=u.uniforms,g=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*g):2*Math.PI/(2*Pc-1),y=s/v,w=isFinite(s)?1+Math.floor(d*y):Pc;w>Pc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${Pc}`);const x=[];let b=0;for(let P=0;P<Pc;++P){const D=P/y,I=Math.exp(-D*D/2);x.push(I),P===0?b+=I:P<w&&(b+=2*I)}for(let P=0;P<x.length;P++)x[P]=x[P]/b;m.envMap.value=e.texture,m.samples.value=w,m.weights.value=x,m.latitudinal.value=o==="latitudinal",a&&(m.poleAxis.value=a);const{_lodMax:S}=this;m.dTheta.value=v,m.mipInt.value=S-r;const A=this._sizeLods[i],T=3*A*(i>S-Id?i-S+Id:0),N=4*(this._cubeSize-A);uv(t,T,N,3*A,2*A),c.setRenderTarget(t),c.render(f,JS)}}function ble(n){const e=[],t=[],r=[];let i=n;const s=n-Id+1+eD.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let c=1/a;o>n-Id?c=eD[o-n+Id-1]:o===0&&(c=0),r.push(c);const u=1/(a-2),d=-u,f=1+u,m=[d,d,f,d,f,f,d,d,f,f,d,f],g=6,v=6,y=3,w=2,x=1,b=new Float32Array(y*v*g),S=new Float32Array(w*v*g),A=new Float32Array(x*v*g);for(let N=0;N<g;N++){const P=N%3*2/3-1,D=N>2?0:-1,I=[P,D,0,P+2/3,D,0,P+2/3,D+1,0,P,D,0,P+2/3,D+1,0,P,D+1,0];b.set(I,y*v*N),S.set(m,w*v*N);const R=[N,N,N,N,N,N];A.set(R,x*v*N)}const T=new Pt;T.setAttribute("position",new an(b,y)),T.setAttribute("uv",new an(S,w)),T.setAttribute("faceIndex",new an(A,x)),e.push(T),i>Id&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function rD(n,e,t){const r=new bo(n,e,t);return r.texture.mapping=Xh,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function uv(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Sle(n,e,t){const r=new Float32Array(Pc),i=new H(0,1,0);return new Gs({name:"SphericalGaussianBlur",defines:{n:Pc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:cT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ia,depthTest:!1,depthWrite:!1})}function iD(){return new Gs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:cT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ia,depthTest:!1,depthWrite:!1})}function sD(){return new Gs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:cT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ia,depthTest:!1,depthWrite:!1})}function cT(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Ale(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const c=a.mapping,u=c===Zp||c===em,d=c===ya||c===Fl;if(u||d){let f=e.get(a);const m=f!==void 0?f.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==m)return t===null&&(t=new uE(n)),f=u?t.fromEquirectangular(a,f):t.fromCubemap(a,f),f.texture.pmremVersion=a.pmremVersion,e.set(a,f),f.texture;if(f!==void 0)return f.texture;{const g=a.image;return u&&g&&g.height>0||d&&g&&i(g)?(t===null&&(t=new uE(n)),f=u?t.fromEquirectangular(a):t.fromCubemap(a),f.texture.pmremVersion=a.pmremVersion,e.set(a,f),a.addEventListener("dispose",s),f.texture):null}}}return a}function i(a){let c=0;const u=6;for(let d=0;d<u;d++)a[d]!==void 0&&c++;return c===u}function s(a){const c=a.target;c.removeEventListener("dispose",s);const u=e.get(c);u!==void 0&&(e.delete(c),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function Ele(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const i=t(r);return i===null&&Vv("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Cle(n,e,t,r){const i={},s=new WeakMap;function o(f){const m=f.target;m.index!==null&&e.remove(m.index);for(const v in m.attributes)e.remove(m.attributes[v]);m.removeEventListener("dispose",o),delete i[m.id];const g=s.get(m);g&&(e.remove(g),s.delete(m)),r.releaseStatesOfGeometry(m),m.isInstancedBufferGeometry===!0&&delete m._maxInstanceCount,t.memory.geometries--}function a(f,m){return i[m.id]===!0||(m.addEventListener("dispose",o),i[m.id]=!0,t.memory.geometries++),m}function c(f){const m=f.attributes;for(const g in m)e.update(m[g],n.ARRAY_BUFFER)}function u(f){const m=[],g=f.index,v=f.attributes.position;let y=0;if(g!==null){const b=g.array;y=g.version;for(let S=0,A=b.length;S<A;S+=3){const T=b[S+0],N=b[S+1],P=b[S+2];m.push(T,N,N,P,P,T)}}else if(v!==void 0){const b=v.array;y=v.version;for(let S=0,A=b.length/3-1;S<A;S+=3){const T=S+0,N=S+1,P=S+2;m.push(T,N,N,P,P,T)}}else return;const w=new(V4(m)?BM:DM)(m,1);w.version=y;const x=s.get(f);x&&e.remove(x),s.set(f,w)}function d(f){const m=s.get(f);if(m){const g=f.index;g!==null&&m.version<g.version&&u(f)}else u(f);return s.get(f)}return{get:a,update:c,getWireframeAttribute:d}}function Mle(n,e,t){let r;function i(m){r=m}let s,o;function a(m){s=m.type,o=m.bytesPerElement}function c(m,g){n.drawElements(r,g,s,m*o),t.update(g,r,1)}function u(m,g,v){v!==0&&(n.drawElementsInstanced(r,g,s,m*o,v),t.update(g,r,v))}function d(m,g,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,g,0,s,m,0,v);let w=0;for(let x=0;x<v;x++)w+=g[x];t.update(w,r,1)}function f(m,g,v,y){if(v===0)return;const w=e.get("WEBGL_multi_draw");if(w===null)for(let x=0;x<m.length;x++)u(m[x]/o,g[x],y[x]);else{w.multiDrawElementsInstancedWEBGL(r,g,0,s,m,0,y,0,v);let x=0;for(let b=0;b<v;b++)x+=g[b]*y[b];t.update(x,r,1)}}this.setMode=i,this.setIndex=a,this.render=c,this.renderInstances=u,this.renderMultiDraw=d,this.renderMultiDrawInstances=f}function Tle(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function Nle(n,e,t){const r=new WeakMap,i=new sn;function s(o,a,c){const u=o.morphTargetInfluences,d=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,f=d!==void 0?d.length:0;let m=r.get(a);if(m===void 0||m.count!==f){let R=function(){D.dispose(),r.delete(a),a.removeEventListener("dispose",R)};var g=R;m!==void 0&&m.texture.dispose();const v=a.morphAttributes.position!==void 0,y=a.morphAttributes.normal!==void 0,w=a.morphAttributes.color!==void 0,x=a.morphAttributes.position||[],b=a.morphAttributes.normal||[],S=a.morphAttributes.color||[];let A=0;v===!0&&(A=1),y===!0&&(A=2),w===!0&&(A=3);let T=a.attributes.position.count*A,N=1;T>e.maxTextureSize&&(N=Math.ceil(T/e.maxTextureSize),T=e.maxTextureSize);const P=new Float32Array(T*N*4*f),D=new Fm(P,T,N,f);D.type=wi,D.needsUpdate=!0;const I=A*4;for(let k=0;k<f;k++){const G=x[k],K=b[k],J=S[k],Q=T*N*4*k;for(let Y=0;Y<G.count;Y++){const se=Y*I;v===!0&&(i.fromBufferAttribute(G,Y),P[Q+se+0]=i.x,P[Q+se+1]=i.y,P[Q+se+2]=i.z,P[Q+se+3]=0),y===!0&&(i.fromBufferAttribute(K,Y),P[Q+se+4]=i.x,P[Q+se+5]=i.y,P[Q+se+6]=i.z,P[Q+se+7]=0),w===!0&&(i.fromBufferAttribute(J,Y),P[Q+se+8]=i.x,P[Q+se+9]=i.y,P[Q+se+10]=i.z,P[Q+se+11]=J.itemSize===4?i.w:1)}}m={count:f,texture:D,size:new _e(T,N)},r.set(a,m),a.addEventListener("dispose",R)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)c.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let v=0;for(let w=0;w<u.length;w++)v+=u[w];const y=a.morphTargetsRelative?1:1-v;c.getUniforms().setValue(n,"morphTargetBaseInfluence",y),c.getUniforms().setValue(n,"morphTargetInfluences",u)}c.getUniforms().setValue(n,"morphTargetsTexture",m.texture,t),c.getUniforms().setValue(n,"morphTargetsTextureSize",m.size)}return{update:s}}function Rle(n,e,t,r){let i=new WeakMap;function s(c){const u=r.render.frame,d=c.geometry,f=e.get(c,d);if(i.get(f)!==u&&(e.update(f),i.set(f,u)),c.isInstancedMesh&&(c.hasEventListener("dispose",a)===!1&&c.addEventListener("dispose",a),i.get(c)!==u&&(t.update(c.instanceMatrix,n.ARRAY_BUFFER),c.instanceColor!==null&&t.update(c.instanceColor,n.ARRAY_BUFFER),i.set(c,u))),c.isSkinnedMesh){const m=c.skeleton;i.get(m)!==u&&(m.update(),i.set(m,u))}return f}function o(){i=new WeakMap}function a(c){const u=c.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const V5=new Nn,oD=new Hw(1,1),W5=new Fm,X5=new Lw,K5=new Um,aD=[],lD=[],cD=new Float32Array(16),uD=new Float32Array(9),dD=new Float32Array(4);function qh(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=aD[i];if(s===void 0&&(s=new Float32Array(i),aD[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function sr(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function or(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function r_(n,e){let t=lD[e];t===void 0&&(t=new Int32Array(e),lD[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function Ple(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Ile(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(sr(t,e))return;n.uniform2fv(this.addr,e),or(t,e)}}function Dle(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(sr(t,e))return;n.uniform3fv(this.addr,e),or(t,e)}}function Ble(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(sr(t,e))return;n.uniform4fv(this.addr,e),or(t,e)}}function Lle(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(sr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),or(t,e)}else{if(sr(t,r))return;dD.set(r),n.uniformMatrix2fv(this.addr,!1,dD),or(t,r)}}function kle(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(sr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),or(t,e)}else{if(sr(t,r))return;uD.set(r),n.uniformMatrix3fv(this.addr,!1,uD),or(t,r)}}function Ole(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(sr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),or(t,e)}else{if(sr(t,r))return;cD.set(r),n.uniformMatrix4fv(this.addr,!1,cD),or(t,r)}}function Fle(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function jle(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(sr(t,e))return;n.uniform2iv(this.addr,e),or(t,e)}}function Ule(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(sr(t,e))return;n.uniform3iv(this.addr,e),or(t,e)}}function zle(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(sr(t,e))return;n.uniform4iv(this.addr,e),or(t,e)}}function Hle(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Gle(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(sr(t,e))return;n.uniform2uiv(this.addr,e),or(t,e)}}function Vle(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(sr(t,e))return;n.uniform3uiv(this.addr,e),or(t,e)}}function Wle(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(sr(t,e))return;n.uniform4uiv(this.addr,e),or(t,e)}}function Xle(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);let s;this.type===n.SAMPLER_2D_SHADOW?(oD.compareFunction=PM,s=oD):s=V5,t.setTexture2D(e||s,i)}function Kle(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||X5,i)}function Jle(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||K5,i)}function Yle(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||W5,i)}function $le(n){switch(n){case 5126:return Ple;case 35664:return Ile;case 35665:return Dle;case 35666:return Ble;case 35674:return Lle;case 35675:return kle;case 35676:return Ole;case 5124:case 35670:return Fle;case 35667:case 35671:return jle;case 35668:case 35672:return Ule;case 35669:case 35673:return zle;case 5125:return Hle;case 36294:return Gle;case 36295:return Vle;case 36296:return Wle;case 35678:case 36198:case 36298:case 36306:case 35682:return Xle;case 35679:case 36299:case 36307:return Kle;case 35680:case 36300:case 36308:case 36293:return Jle;case 36289:case 36303:case 36311:case 36292:return Yle}}function qle(n,e){n.uniform1fv(this.addr,e)}function Qle(n,e){const t=qh(e,this.size,2);n.uniform2fv(this.addr,t)}function Zle(n,e){const t=qh(e,this.size,3);n.uniform3fv(this.addr,t)}function ece(n,e){const t=qh(e,this.size,4);n.uniform4fv(this.addr,t)}function tce(n,e){const t=qh(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function nce(n,e){const t=qh(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function rce(n,e){const t=qh(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function ice(n,e){n.uniform1iv(this.addr,e)}function sce(n,e){n.uniform2iv(this.addr,e)}function oce(n,e){n.uniform3iv(this.addr,e)}function ace(n,e){n.uniform4iv(this.addr,e)}function lce(n,e){n.uniform1uiv(this.addr,e)}function cce(n,e){n.uniform2uiv(this.addr,e)}function uce(n,e){n.uniform3uiv(this.addr,e)}function dce(n,e){n.uniform4uiv(this.addr,e)}function hce(n,e,t){const r=this.cache,i=e.length,s=r_(t,i);sr(r,s)||(n.uniform1iv(this.addr,s),or(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||V5,s[o])}function fce(n,e,t){const r=this.cache,i=e.length,s=r_(t,i);sr(r,s)||(n.uniform1iv(this.addr,s),or(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||X5,s[o])}function pce(n,e,t){const r=this.cache,i=e.length,s=r_(t,i);sr(r,s)||(n.uniform1iv(this.addr,s),or(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||K5,s[o])}function mce(n,e,t){const r=this.cache,i=e.length,s=r_(t,i);sr(r,s)||(n.uniform1iv(this.addr,s),or(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||W5,s[o])}function gce(n){switch(n){case 5126:return qle;case 35664:return Qle;case 35665:return Zle;case 35666:return ece;case 35674:return tce;case 35675:return nce;case 35676:return rce;case 5124:case 35670:return ice;case 35667:case 35671:return sce;case 35668:case 35672:return oce;case 35669:case 35673:return ace;case 5125:return lce;case 36294:return cce;case 36295:return uce;case 36296:return dce;case 35678:case 36198:case 36298:case 36306:case 35682:return hce;case 35679:case 36299:case 36307:return fce;case 35680:case 36300:case 36308:case 36293:return pce;case 36289:case 36303:case 36311:case 36292:return mce}}class xce{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=$le(t.type)}}class vce{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=gce(t.type)}}class yce{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const ZS=/(\w+)(\])?(\[|\.)?/g;function hD(n,e){n.seq.push(e),n.map[e.id]=e}function wce(n,e,t){const r=n.name,i=r.length;for(ZS.lastIndex=0;;){const s=ZS.exec(r),o=ZS.lastIndex;let a=s[1];const c=s[2]==="]",u=s[3];if(c&&(a=a|0),u===void 0||u==="["&&o+2===i){hD(t,u===void 0?new xce(a,n,e):new vce(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new yce(a),hD(t,f)),t=f}}}class Xv{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);wce(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],c=r[a.id];c.needsUpdate!==!1&&a.setValue(e,c.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function fD(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const _ce=37297;let bce=0;function Sce(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}const pD=new Bt;function Ace(n){rn._getMatrix(pD,rn.workingColorSpace,n);const e=`mat3( ${pD.elements.map(t=>t.toFixed(4))} )`;switch(rn.getTransfer(n)){case nm:return[e,"LinearTransferOETF"];case gn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function mD(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+Sce(n.getShaderSource(e),o)}else return i}function Ece(n,e){const t=Ace(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function Cce(n,e){let t;switch(e){case b4:t="Linear";break;case S4:t="Reinhard";break;case A4:t="Cineon";break;case _M:t="ACESFilmic";break;case C4:t="AgX";break;case M4:t="Neutral";break;case E4:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const dv=new H;function Mce(){rn.getLuminanceCoefficients(dv);const n=dv.x.toFixed(4),e=dv.y.toFixed(4),t=dv.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Tce(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(tp).join(`
`)}function Nce(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function Rce(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function tp(n){return n!==""}function gD(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function xD(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Pce=/^[ \t]*#include +<([\w\d./]+)>/gm;function dE(n){return n.replace(Pce,Dce)}const Ice=new Map;function Dce(n,e){let t=zt[e];if(t===void 0){const r=Ice.get(e);if(r!==void 0)t=zt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return dE(t)}const Bce=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function vD(n){return n.replace(Bce,Lce)}function Lce(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function yD(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function kce(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Aw?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===pp?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ms&&(e="SHADOWMAP_TYPE_VSM"),e}function Oce(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case ya:case Fl:e="ENVMAP_TYPE_CUBE";break;case Xh:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Fce(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Fl:e="ENVMAP_MODE_REFRACTION";break}return e}function jce(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case km:e="ENVMAP_BLENDING_MULTIPLY";break;case w4:e="ENVMAP_BLENDING_MIX";break;case _4:e="ENVMAP_BLENDING_ADD";break}return e}function Uce(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function zce(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const c=kce(t),u=Oce(t),d=Fce(t),f=jce(t),m=Uce(t),g=Tce(t),v=Nce(s),y=i.createProgram();let w,x,b=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(w=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(tp).join(`
`),w.length>0&&(w+=`
`),x=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(tp).join(`
`),x.length>0&&(x+=`
`)):(w=[yD(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(tp).join(`
`),x=[yD(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",t.envMap?"#define "+f:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==vo?"#define TONE_MAPPING":"",t.toneMapping!==vo?zt.tonemapping_pars_fragment:"",t.toneMapping!==vo?Cce("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",zt.colorspace_pars_fragment,Ece("linearToOutputTexel",t.outputColorSpace),Mce(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(tp).join(`
`)),o=dE(o),o=gD(o,t),o=xD(o,t),a=dE(a),a=gD(a,t),a=xD(a,t),o=vD(o),a=vD(a),t.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,w=[g,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+w,x=["#define varying in",t.glslVersion===nE?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===nE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const S=b+w+o,A=b+x+a,T=fD(i,i.VERTEX_SHADER,S),N=fD(i,i.FRAGMENT_SHADER,A);i.attachShader(y,T),i.attachShader(y,N),t.index0AttributeName!==void 0?i.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);function P(k){if(n.debug.checkShaderErrors){const G=i.getProgramInfoLog(y).trim(),K=i.getShaderInfoLog(T).trim(),J=i.getShaderInfoLog(N).trim();let Q=!0,Y=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(Q=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,y,T,N);else{const se=mD(i,T,"vertex"),L=mD(i,N,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Material Name: `+k.name+`
Material Type: `+k.type+`

Program Info Log: `+G+`
`+se+`
`+L)}else G!==""?console.warn("THREE.WebGLProgram: Program Info Log:",G):(K===""||J==="")&&(Y=!1);Y&&(k.diagnostics={runnable:Q,programLog:G,vertexShader:{log:K,prefix:w},fragmentShader:{log:J,prefix:x}})}i.deleteShader(T),i.deleteShader(N),D=new Xv(i,y),I=Rce(i,y)}let D;this.getUniforms=function(){return D===void 0&&P(this),D};let I;this.getAttributes=function(){return I===void 0&&P(this),I};let R=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return R===!1&&(R=i.getProgramParameter(y,_ce)),R},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=bce++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=T,this.fragmentShader=N,this}let Hce=0;class Gce{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new Vce(e),t.set(e,r)),r}}class Vce{constructor(e){this.id=Hce++,this.code=e,this.usedTimes=0}}function Wce(n,e,t,r,i,s,o){const a=new qc,c=new Gce,u=new Set,d=[],f=i.logarithmicDepthBuffer,m=i.vertexTextures;let g=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(I){return u.add(I),I===0?"uv":`uv${I}`}function w(I,R,k,G,K){const J=G.fog,Q=K.geometry,Y=I.isMeshStandardMaterial?G.environment:null,se=(I.isMeshStandardMaterial?t:e).get(I.envMap||Y),L=se&&se.mapping===Xh?se.image.height:null,j=v[I.type];I.precision!==null&&(g=i.getMaxPrecision(I.precision),g!==I.precision&&console.warn("THREE.WebGLProgram.getParameters:",I.precision,"not supported, using",g,"instead."));const W=Q.morphAttributes.position||Q.morphAttributes.normal||Q.morphAttributes.color,$=W!==void 0?W.length:0;let oe=0;Q.morphAttributes.position!==void 0&&(oe=1),Q.morphAttributes.normal!==void 0&&(oe=2),Q.morphAttributes.color!==void 0&&(oe=3);let Se,ne,we,ve;if(j){const Kt=Ps[j];Se=Kt.vertexShader,ne=Kt.fragmentShader}else Se=I.vertexShader,ne=I.fragmentShader,c.update(I),we=c.getVertexShaderID(I),ve=c.getFragmentShaderID(I);const le=n.getRenderTarget(),ke=n.state.buffers.depth.getReversed(),He=K.isInstancedMesh===!0,De=K.isBatchedMesh===!0,st=!!I.map,qe=!!I.matcap,We=!!se,U=!!I.aoMap,Oe=!!I.lightMap,Ce=!!I.bumpMap,Pe=!!I.normalMap,Ae=!!I.displacementMap,ze=!!I.emissiveMap,Ne=!!I.metalnessMap,z=!!I.roughnessMap,O=I.anisotropy>0,ee=I.clearcoat>0,he=I.dispersion>0,Me=I.iridescence>0,fe=I.sheen>0,tt=I.transmission>0,Ue=O&&!!I.anisotropyMap,ht=ee&&!!I.clearcoatMap,yt=ee&&!!I.clearcoatNormalMap,Ie=ee&&!!I.clearcoatRoughnessMap,Ze=Me&&!!I.iridescenceMap,gt=Me&&!!I.iridescenceThicknessMap,At=fe&&!!I.sheenColorMap,et=fe&&!!I.sheenRoughnessMap,q=!!I.specularMap,ye=!!I.specularColorMap,Ee=!!I.specularIntensityMap,X=tt&&!!I.transmissionMap,be=tt&&!!I.thicknessMap,ce=!!I.gradientMap,xe=!!I.alphaMap,Xe=I.alphaTest>0,Ge=!!I.alphaHash,_t=!!I.extensions;let tn=vo;I.toneMapped&&(le===null||le.isXRRenderTarget===!0)&&(tn=n.toneMapping);const bn={shaderID:j,shaderType:I.type,shaderName:I.name,vertexShader:Se,fragmentShader:ne,defines:I.defines,customVertexShaderID:we,customFragmentShaderID:ve,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:g,batching:De,batchingColor:De&&K._colorsTexture!==null,instancing:He,instancingColor:He&&K.instanceColor!==null,instancingMorph:He&&K.morphTexture!==null,supportsVertexTextures:m,outputColorSpace:le===null?n.outputColorSpace:le.isXRRenderTarget===!0?le.texture.colorSpace:hu,alphaToCoverage:!!I.alphaToCoverage,map:st,matcap:qe,envMap:We,envMapMode:We&&se.mapping,envMapCubeUVHeight:L,aoMap:U,lightMap:Oe,bumpMap:Ce,normalMap:Pe,displacementMap:m&&Ae,emissiveMap:ze,normalMapObjectSpace:Pe&&I.normalMapType===L4,normalMapTangentSpace:Pe&&I.normalMapType===ql,metalnessMap:Ne,roughnessMap:z,anisotropy:O,anisotropyMap:Ue,clearcoat:ee,clearcoatMap:ht,clearcoatNormalMap:yt,clearcoatRoughnessMap:Ie,dispersion:he,iridescence:Me,iridescenceMap:Ze,iridescenceThicknessMap:gt,sheen:fe,sheenColorMap:At,sheenRoughnessMap:et,specularMap:q,specularColorMap:ye,specularIntensityMap:Ee,transmission:tt,transmissionMap:X,thicknessMap:be,gradientMap:ce,opaque:I.transparent===!1&&I.blending===Yc&&I.alphaToCoverage===!1,alphaMap:xe,alphaTest:Xe,alphaHash:Ge,combine:I.combine,mapUv:st&&y(I.map.channel),aoMapUv:U&&y(I.aoMap.channel),lightMapUv:Oe&&y(I.lightMap.channel),bumpMapUv:Ce&&y(I.bumpMap.channel),normalMapUv:Pe&&y(I.normalMap.channel),displacementMapUv:Ae&&y(I.displacementMap.channel),emissiveMapUv:ze&&y(I.emissiveMap.channel),metalnessMapUv:Ne&&y(I.metalnessMap.channel),roughnessMapUv:z&&y(I.roughnessMap.channel),anisotropyMapUv:Ue&&y(I.anisotropyMap.channel),clearcoatMapUv:ht&&y(I.clearcoatMap.channel),clearcoatNormalMapUv:yt&&y(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ie&&y(I.clearcoatRoughnessMap.channel),iridescenceMapUv:Ze&&y(I.iridescenceMap.channel),iridescenceThicknessMapUv:gt&&y(I.iridescenceThicknessMap.channel),sheenColorMapUv:At&&y(I.sheenColorMap.channel),sheenRoughnessMapUv:et&&y(I.sheenRoughnessMap.channel),specularMapUv:q&&y(I.specularMap.channel),specularColorMapUv:ye&&y(I.specularColorMap.channel),specularIntensityMapUv:Ee&&y(I.specularIntensityMap.channel),transmissionMapUv:X&&y(I.transmissionMap.channel),thicknessMapUv:be&&y(I.thicknessMap.channel),alphaMapUv:xe&&y(I.alphaMap.channel),vertexTangents:!!Q.attributes.tangent&&(Pe||O),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!Q.attributes.color&&Q.attributes.color.itemSize===4,pointsUvs:K.isPoints===!0&&!!Q.attributes.uv&&(st||xe),fog:!!J,useFog:I.fog===!0,fogExp2:!!J&&J.isFogExp2,flatShading:I.flatShading===!0,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:f,reverseDepthBuffer:ke,skinning:K.isSkinnedMesh===!0,morphTargets:Q.morphAttributes.position!==void 0,morphNormals:Q.morphAttributes.normal!==void 0,morphColors:Q.morphAttributes.color!==void 0,morphTargetsCount:$,morphTextureStride:oe,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numLightProbes:R.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:I.dithering,shadowMapEnabled:n.shadowMap.enabled&&k.length>0,shadowMapType:n.shadowMap.type,toneMapping:tn,decodeVideoTexture:st&&I.map.isVideoTexture===!0&&rn.getTransfer(I.map.colorSpace)===gn,decodeVideoTextureEmissive:ze&&I.emissiveMap.isVideoTexture===!0&&rn.getTransfer(I.emissiveMap.colorSpace)===gn,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===Ds,flipSided:I.side===ni,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionClipCullDistance:_t&&I.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(_t&&I.extensions.multiDraw===!0||De)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()};return bn.vertexUv1s=u.has(1),bn.vertexUv2s=u.has(2),bn.vertexUv3s=u.has(3),u.clear(),bn}function x(I){const R=[];if(I.shaderID?R.push(I.shaderID):(R.push(I.customVertexShaderID),R.push(I.customFragmentShaderID)),I.defines!==void 0)for(const k in I.defines)R.push(k),R.push(I.defines[k]);return I.isRawShaderMaterial===!1&&(b(R,I),S(R,I),R.push(n.outputColorSpace)),R.push(I.customProgramCacheKey),R.join()}function b(I,R){I.push(R.precision),I.push(R.outputColorSpace),I.push(R.envMapMode),I.push(R.envMapCubeUVHeight),I.push(R.mapUv),I.push(R.alphaMapUv),I.push(R.lightMapUv),I.push(R.aoMapUv),I.push(R.bumpMapUv),I.push(R.normalMapUv),I.push(R.displacementMapUv),I.push(R.emissiveMapUv),I.push(R.metalnessMapUv),I.push(R.roughnessMapUv),I.push(R.anisotropyMapUv),I.push(R.clearcoatMapUv),I.push(R.clearcoatNormalMapUv),I.push(R.clearcoatRoughnessMapUv),I.push(R.iridescenceMapUv),I.push(R.iridescenceThicknessMapUv),I.push(R.sheenColorMapUv),I.push(R.sheenRoughnessMapUv),I.push(R.specularMapUv),I.push(R.specularColorMapUv),I.push(R.specularIntensityMapUv),I.push(R.transmissionMapUv),I.push(R.thicknessMapUv),I.push(R.combine),I.push(R.fogExp2),I.push(R.sizeAttenuation),I.push(R.morphTargetsCount),I.push(R.morphAttributeCount),I.push(R.numDirLights),I.push(R.numPointLights),I.push(R.numSpotLights),I.push(R.numSpotLightMaps),I.push(R.numHemiLights),I.push(R.numRectAreaLights),I.push(R.numDirLightShadows),I.push(R.numPointLightShadows),I.push(R.numSpotLightShadows),I.push(R.numSpotLightShadowsWithMaps),I.push(R.numLightProbes),I.push(R.shadowMapType),I.push(R.toneMapping),I.push(R.numClippingPlanes),I.push(R.numClipIntersection),I.push(R.depthPacking)}function S(I,R){a.disableAll(),R.supportsVertexTextures&&a.enable(0),R.instancing&&a.enable(1),R.instancingColor&&a.enable(2),R.instancingMorph&&a.enable(3),R.matcap&&a.enable(4),R.envMap&&a.enable(5),R.normalMapObjectSpace&&a.enable(6),R.normalMapTangentSpace&&a.enable(7),R.clearcoat&&a.enable(8),R.iridescence&&a.enable(9),R.alphaTest&&a.enable(10),R.vertexColors&&a.enable(11),R.vertexAlphas&&a.enable(12),R.vertexUv1s&&a.enable(13),R.vertexUv2s&&a.enable(14),R.vertexUv3s&&a.enable(15),R.vertexTangents&&a.enable(16),R.anisotropy&&a.enable(17),R.alphaHash&&a.enable(18),R.batching&&a.enable(19),R.dispersion&&a.enable(20),R.batchingColor&&a.enable(21),I.push(a.mask),a.disableAll(),R.fog&&a.enable(0),R.useFog&&a.enable(1),R.flatShading&&a.enable(2),R.logarithmicDepthBuffer&&a.enable(3),R.reverseDepthBuffer&&a.enable(4),R.skinning&&a.enable(5),R.morphTargets&&a.enable(6),R.morphNormals&&a.enable(7),R.morphColors&&a.enable(8),R.premultipliedAlpha&&a.enable(9),R.shadowMapEnabled&&a.enable(10),R.doubleSided&&a.enable(11),R.flipSided&&a.enable(12),R.useDepthPacking&&a.enable(13),R.dithering&&a.enable(14),R.transmission&&a.enable(15),R.sheen&&a.enable(16),R.opaque&&a.enable(17),R.pointsUvs&&a.enable(18),R.decodeVideoTexture&&a.enable(19),R.decodeVideoTextureEmissive&&a.enable(20),R.alphaToCoverage&&a.enable(21),I.push(a.mask)}function A(I){const R=v[I.type];let k;if(R){const G=Ps[R];k=Y4.clone(G.uniforms)}else k=I.uniforms;return k}function T(I,R){let k;for(let G=0,K=d.length;G<K;G++){const J=d[G];if(J.cacheKey===R){k=J,++k.usedTimes;break}}return k===void 0&&(k=new zce(n,R,I,s),d.push(k)),k}function N(I){if(--I.usedTimes===0){const R=d.indexOf(I);d[R]=d[d.length-1],d.pop(),I.destroy()}}function P(I){c.remove(I)}function D(){c.dispose()}return{getParameters:w,getProgramCacheKey:x,getUniforms:A,acquireProgram:T,releaseProgram:N,releaseShaderCache:P,programs:d,dispose:D}}function Xce(){let n=new WeakMap;function e(o){return n.has(o)}function t(o){let a=n.get(o);return a===void 0&&(a={},n.set(o,a)),a}function r(o){n.delete(o)}function i(o,a,c){n.get(o)[a]=c}function s(){n=new WeakMap}return{has:e,get:t,remove:r,update:i,dispose:s}}function Kce(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function wD(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function _D(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(f,m,g,v,y,w){let x=n[e];return x===void 0?(x={id:f.id,object:f,geometry:m,material:g,groupOrder:v,renderOrder:f.renderOrder,z:y,group:w},n[e]=x):(x.id=f.id,x.object=f,x.geometry=m,x.material=g,x.groupOrder=v,x.renderOrder=f.renderOrder,x.z=y,x.group=w),e++,x}function a(f,m,g,v,y,w){const x=o(f,m,g,v,y,w);g.transmission>0?r.push(x):g.transparent===!0?i.push(x):t.push(x)}function c(f,m,g,v,y,w){const x=o(f,m,g,v,y,w);g.transmission>0?r.unshift(x):g.transparent===!0?i.unshift(x):t.unshift(x)}function u(f,m){t.length>1&&t.sort(f||Kce),r.length>1&&r.sort(m||wD),i.length>1&&i.sort(m||wD)}function d(){for(let f=e,m=n.length;f<m;f++){const g=n[f];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:c,finish:d,sort:u}}function Jce(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new _D,n.set(r,[o])):i>=s.length?(o=new _D,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function Yce(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new H,color:new Ye};break;case"SpotLight":t={position:new H,direction:new H,color:new Ye,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new H,color:new Ye,distance:0,decay:0};break;case"HemisphereLight":t={direction:new H,skyColor:new Ye,groundColor:new Ye};break;case"RectAreaLight":t={color:new Ye,position:new H,halfWidth:new H,halfHeight:new H};break}return n[e.id]=t,t}}}function $ce(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _e};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _e};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _e,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let qce=0;function Qce(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Zce(n){const e=new Yce,t=$ce(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new H);const i=new H,s=new St,o=new St;function a(u){let d=0,f=0,m=0;for(let I=0;I<9;I++)r.probe[I].set(0,0,0);let g=0,v=0,y=0,w=0,x=0,b=0,S=0,A=0,T=0,N=0,P=0;u.sort(Qce);for(let I=0,R=u.length;I<R;I++){const k=u[I],G=k.color,K=k.intensity,J=k.distance,Q=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)d+=G.r*K,f+=G.g*K,m+=G.b*K;else if(k.isLightProbe){for(let Y=0;Y<9;Y++)r.probe[Y].addScaledVector(k.sh.coefficients[Y],K);P++}else if(k.isDirectionalLight){const Y=e.get(k);if(Y.color.copy(k.color).multiplyScalar(k.intensity),k.castShadow){const se=k.shadow,L=t.get(k);L.shadowIntensity=se.intensity,L.shadowBias=se.bias,L.shadowNormalBias=se.normalBias,L.shadowRadius=se.radius,L.shadowMapSize=se.mapSize,r.directionalShadow[g]=L,r.directionalShadowMap[g]=Q,r.directionalShadowMatrix[g]=k.shadow.matrix,b++}r.directional[g]=Y,g++}else if(k.isSpotLight){const Y=e.get(k);Y.position.setFromMatrixPosition(k.matrixWorld),Y.color.copy(G).multiplyScalar(K),Y.distance=J,Y.coneCos=Math.cos(k.angle),Y.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),Y.decay=k.decay,r.spot[y]=Y;const se=k.shadow;if(k.map&&(r.spotLightMap[T]=k.map,T++,se.updateMatrices(k),k.castShadow&&N++),r.spotLightMatrix[y]=se.matrix,k.castShadow){const L=t.get(k);L.shadowIntensity=se.intensity,L.shadowBias=se.bias,L.shadowNormalBias=se.normalBias,L.shadowRadius=se.radius,L.shadowMapSize=se.mapSize,r.spotShadow[y]=L,r.spotShadowMap[y]=Q,A++}y++}else if(k.isRectAreaLight){const Y=e.get(k);Y.color.copy(G).multiplyScalar(K),Y.halfWidth.set(k.width*.5,0,0),Y.halfHeight.set(0,k.height*.5,0),r.rectArea[w]=Y,w++}else if(k.isPointLight){const Y=e.get(k);if(Y.color.copy(k.color).multiplyScalar(k.intensity),Y.distance=k.distance,Y.decay=k.decay,k.castShadow){const se=k.shadow,L=t.get(k);L.shadowIntensity=se.intensity,L.shadowBias=se.bias,L.shadowNormalBias=se.normalBias,L.shadowRadius=se.radius,L.shadowMapSize=se.mapSize,L.shadowCameraNear=se.camera.near,L.shadowCameraFar=se.camera.far,r.pointShadow[v]=L,r.pointShadowMap[v]=Q,r.pointShadowMatrix[v]=k.shadow.matrix,S++}r.point[v]=Y,v++}else if(k.isHemisphereLight){const Y=e.get(k);Y.skyColor.copy(k.color).multiplyScalar(K),Y.groundColor.copy(k.groundColor).multiplyScalar(K),r.hemi[x]=Y,x++}}w>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Je.LTC_FLOAT_1,r.rectAreaLTC2=Je.LTC_FLOAT_2):(r.rectAreaLTC1=Je.LTC_HALF_1,r.rectAreaLTC2=Je.LTC_HALF_2)),r.ambient[0]=d,r.ambient[1]=f,r.ambient[2]=m;const D=r.hash;(D.directionalLength!==g||D.pointLength!==v||D.spotLength!==y||D.rectAreaLength!==w||D.hemiLength!==x||D.numDirectionalShadows!==b||D.numPointShadows!==S||D.numSpotShadows!==A||D.numSpotMaps!==T||D.numLightProbes!==P)&&(r.directional.length=g,r.spot.length=y,r.rectArea.length=w,r.point.length=v,r.hemi.length=x,r.directionalShadow.length=b,r.directionalShadowMap.length=b,r.pointShadow.length=S,r.pointShadowMap.length=S,r.spotShadow.length=A,r.spotShadowMap.length=A,r.directionalShadowMatrix.length=b,r.pointShadowMatrix.length=S,r.spotLightMatrix.length=A+T-N,r.spotLightMap.length=T,r.numSpotLightShadowsWithMaps=N,r.numLightProbes=P,D.directionalLength=g,D.pointLength=v,D.spotLength=y,D.rectAreaLength=w,D.hemiLength=x,D.numDirectionalShadows=b,D.numPointShadows=S,D.numSpotShadows=A,D.numSpotMaps=T,D.numLightProbes=P,r.version=qce++)}function c(u,d){let f=0,m=0,g=0,v=0,y=0;const w=d.matrixWorldInverse;for(let x=0,b=u.length;x<b;x++){const S=u[x];if(S.isDirectionalLight){const A=r.directional[f];A.direction.setFromMatrixPosition(S.matrixWorld),i.setFromMatrixPosition(S.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(w),f++}else if(S.isSpotLight){const A=r.spot[g];A.position.setFromMatrixPosition(S.matrixWorld),A.position.applyMatrix4(w),A.direction.setFromMatrixPosition(S.matrixWorld),i.setFromMatrixPosition(S.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(w),g++}else if(S.isRectAreaLight){const A=r.rectArea[v];A.position.setFromMatrixPosition(S.matrixWorld),A.position.applyMatrix4(w),o.identity(),s.copy(S.matrixWorld),s.premultiply(w),o.extractRotation(s),A.halfWidth.set(S.width*.5,0,0),A.halfHeight.set(0,S.height*.5,0),A.halfWidth.applyMatrix4(o),A.halfHeight.applyMatrix4(o),v++}else if(S.isPointLight){const A=r.point[m];A.position.setFromMatrixPosition(S.matrixWorld),A.position.applyMatrix4(w),m++}else if(S.isHemisphereLight){const A=r.hemi[y];A.direction.setFromMatrixPosition(S.matrixWorld),A.direction.transformDirection(w),y++}}}return{setup:a,setupView:c,state:r}}function bD(n){const e=new Zce(n),t=[],r=[];function i(d){u.camera=d,t.length=0,r.length=0}function s(d){t.push(d)}function o(d){r.push(d)}function a(){e.setup(t)}function c(d){e.setupView(t,d)}const u={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:a,setupLightsView:c,pushLight:s,pushShadow:o}}function eue(n){let e=new WeakMap;function t(i,s=0){const o=e.get(i);let a;return o===void 0?(a=new bD(n),e.set(i,[a])):s>=o.length?(a=new bD(n),o.push(a)):a=o[s],a}function r(){e=new WeakMap}return{get:t,dispose:r}}const tue=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,nue=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function rue(n,e,t){let r=new Jh;const i=new _e,s=new _e,o=new sn,a=new KM({depthPacking:B4}),c=new JM,u={},d=t.maxTextureSize,f={[_o]:ni,[ni]:_o,[Ds]:Ds},m=new Gs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new _e},radius:{value:4}},vertexShader:tue,fragmentShader:nue}),g=m.clone();g.defines.HORIZONTAL_PASS=1;const v=new Pt;v.setAttribute("position",new an(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Wn(v,m),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Aw;let x=this.type;this.render=function(N,P,D){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||N.length===0)return;const I=n.getRenderTarget(),R=n.getActiveCubeFace(),k=n.getActiveMipmapLevel(),G=n.state;G.setBlending(ia),G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);const K=x!==Ms&&this.type===Ms,J=x===Ms&&this.type!==Ms;for(let Q=0,Y=N.length;Q<Y;Q++){const se=N[Q],L=se.shadow;if(L===void 0){console.warn("THREE.WebGLShadowMap:",se,"has no shadow.");continue}if(L.autoUpdate===!1&&L.needsUpdate===!1)continue;i.copy(L.mapSize);const j=L.getFrameExtents();if(i.multiply(j),s.copy(L.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(s.x=Math.floor(d/j.x),i.x=s.x*j.x,L.mapSize.x=s.x),i.y>d&&(s.y=Math.floor(d/j.y),i.y=s.y*j.y,L.mapSize.y=s.y)),L.map===null||K===!0||J===!0){const $=this.type!==Ms?{minFilter:pr,magFilter:pr}:{};L.map!==null&&L.map.dispose(),L.map=new bo(i.x,i.y,$),L.map.texture.name=se.name+".shadowMap",L.camera.updateProjectionMatrix()}n.setRenderTarget(L.map),n.clear();const W=L.getViewportCount();for(let $=0;$<W;$++){const oe=L.getViewport($);o.set(s.x*oe.x,s.y*oe.y,s.x*oe.z,s.y*oe.w),G.viewport(o),L.updateMatrices(se,$),r=L.getFrustum(),A(P,D,L.camera,se,this.type)}L.isPointLightShadow!==!0&&this.type===Ms&&b(L,D),L.needsUpdate=!1}x=this.type,w.needsUpdate=!1,n.setRenderTarget(I,R,k)};function b(N,P){const D=e.update(y);m.defines.VSM_SAMPLES!==N.blurSamples&&(m.defines.VSM_SAMPLES=N.blurSamples,g.defines.VSM_SAMPLES=N.blurSamples,m.needsUpdate=!0,g.needsUpdate=!0),N.mapPass===null&&(N.mapPass=new bo(i.x,i.y)),m.uniforms.shadow_pass.value=N.map.texture,m.uniforms.resolution.value=N.mapSize,m.uniforms.radius.value=N.radius,n.setRenderTarget(N.mapPass),n.clear(),n.renderBufferDirect(P,null,D,m,y,null),g.uniforms.shadow_pass.value=N.mapPass.texture,g.uniforms.resolution.value=N.mapSize,g.uniforms.radius.value=N.radius,n.setRenderTarget(N.map),n.clear(),n.renderBufferDirect(P,null,D,g,y,null)}function S(N,P,D,I){let R=null;const k=D.isPointLight===!0?N.customDistanceMaterial:N.customDepthMaterial;if(k!==void 0)R=k;else if(R=D.isPointLight===!0?c:a,n.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0||P.alphaToCoverage===!0){const G=R.uuid,K=P.uuid;let J=u[G];J===void 0&&(J={},u[G]=J);let Q=J[K];Q===void 0&&(Q=R.clone(),J[K]=Q,P.addEventListener("dispose",T)),R=Q}if(R.visible=P.visible,R.wireframe=P.wireframe,I===Ms?R.side=P.shadowSide!==null?P.shadowSide:P.side:R.side=P.shadowSide!==null?P.shadowSide:f[P.side],R.alphaMap=P.alphaMap,R.alphaTest=P.alphaToCoverage===!0?.5:P.alphaTest,R.map=P.map,R.clipShadows=P.clipShadows,R.clippingPlanes=P.clippingPlanes,R.clipIntersection=P.clipIntersection,R.displacementMap=P.displacementMap,R.displacementScale=P.displacementScale,R.displacementBias=P.displacementBias,R.wireframeLinewidth=P.wireframeLinewidth,R.linewidth=P.linewidth,D.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const G=n.properties.get(R);G.light=D}return R}function A(N,P,D,I,R){if(N.visible===!1)return;if(N.layers.test(P.layers)&&(N.isMesh||N.isLine||N.isPoints)&&(N.castShadow||N.receiveShadow&&R===Ms)&&(!N.frustumCulled||r.intersectsObject(N))){N.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,N.matrixWorld);const K=e.update(N),J=N.material;if(Array.isArray(J)){const Q=K.groups;for(let Y=0,se=Q.length;Y<se;Y++){const L=Q[Y],j=J[L.materialIndex];if(j&&j.visible){const W=S(N,j,I,R);N.onBeforeShadow(n,N,P,D,K,W,L),n.renderBufferDirect(D,null,K,W,N,L),N.onAfterShadow(n,N,P,D,K,W,L)}}}else if(J.visible){const Q=S(N,J,I,R);N.onBeforeShadow(n,N,P,D,K,Q,null),n.renderBufferDirect(D,null,K,Q,N,null),N.onAfterShadow(n,N,P,D,K,Q,null)}}const G=N.children;for(let K=0,J=G.length;K<J;K++)A(G[K],P,D,I,R)}function T(N){N.target.removeEventListener("dispose",T);for(const D in u){const I=u[D],R=N.target.uuid;R in I&&(I[R].dispose(),delete I[R])}}}const iue={[z0]:H0,[G0]:X0,[V0]:K0,[du]:W0,[H0]:z0,[X0]:G0,[K0]:V0,[W0]:du};function sue(n,e){function t(){let X=!1;const be=new sn;let ce=null;const xe=new sn(0,0,0,0);return{setMask:function(Xe){ce!==Xe&&!X&&(n.colorMask(Xe,Xe,Xe,Xe),ce=Xe)},setLocked:function(Xe){X=Xe},setClear:function(Xe,Ge,_t,tn,bn){bn===!0&&(Xe*=tn,Ge*=tn,_t*=tn),be.set(Xe,Ge,_t,tn),xe.equals(be)===!1&&(n.clearColor(Xe,Ge,_t,tn),xe.copy(be))},reset:function(){X=!1,ce=null,xe.set(-1,0,0,0)}}}function r(){let X=!1,be=!1,ce=null,xe=null,Xe=null;return{setReversed:function(Ge){if(be!==Ge){const _t=e.get("EXT_clip_control");Ge?_t.clipControlEXT(_t.LOWER_LEFT_EXT,_t.ZERO_TO_ONE_EXT):_t.clipControlEXT(_t.LOWER_LEFT_EXT,_t.NEGATIVE_ONE_TO_ONE_EXT),be=Ge;const tn=Xe;Xe=null,this.setClear(tn)}},getReversed:function(){return be},setTest:function(Ge){Ge?le(n.DEPTH_TEST):ke(n.DEPTH_TEST)},setMask:function(Ge){ce!==Ge&&!X&&(n.depthMask(Ge),ce=Ge)},setFunc:function(Ge){if(be&&(Ge=iue[Ge]),xe!==Ge){switch(Ge){case z0:n.depthFunc(n.NEVER);break;case H0:n.depthFunc(n.ALWAYS);break;case G0:n.depthFunc(n.LESS);break;case du:n.depthFunc(n.LEQUAL);break;case V0:n.depthFunc(n.EQUAL);break;case W0:n.depthFunc(n.GEQUAL);break;case X0:n.depthFunc(n.GREATER);break;case K0:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}xe=Ge}},setLocked:function(Ge){X=Ge},setClear:function(Ge){Xe!==Ge&&(be&&(Ge=1-Ge),n.clearDepth(Ge),Xe=Ge)},reset:function(){X=!1,ce=null,xe=null,Xe=null,be=!1}}}function i(){let X=!1,be=null,ce=null,xe=null,Xe=null,Ge=null,_t=null,tn=null,bn=null;return{setTest:function(Kt){X||(Kt?le(n.STENCIL_TEST):ke(n.STENCIL_TEST))},setMask:function(Kt){be!==Kt&&!X&&(n.stencilMask(Kt),be=Kt)},setFunc:function(Kt,Kn,Ar){(ce!==Kt||xe!==Kn||Xe!==Ar)&&(n.stencilFunc(Kt,Kn,Ar),ce=Kt,xe=Kn,Xe=Ar)},setOp:function(Kt,Kn,Ar){(Ge!==Kt||_t!==Kn||tn!==Ar)&&(n.stencilOp(Kt,Kn,Ar),Ge=Kt,_t=Kn,tn=Ar)},setLocked:function(Kt){X=Kt},setClear:function(Kt){bn!==Kt&&(n.clearStencil(Kt),bn=Kt)},reset:function(){X=!1,be=null,ce=null,xe=null,Xe=null,Ge=null,_t=null,tn=null,bn=null}}}const s=new t,o=new r,a=new i,c=new WeakMap,u=new WeakMap;let d={},f={},m=new WeakMap,g=[],v=null,y=!1,w=null,x=null,b=null,S=null,A=null,T=null,N=null,P=new Ye(0,0,0),D=0,I=!1,R=null,k=null,G=null,K=null,J=null;const Q=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Y=!1,se=0;const L=n.getParameter(n.VERSION);L.indexOf("WebGL")!==-1?(se=parseFloat(/^WebGL (\d)/.exec(L)[1]),Y=se>=1):L.indexOf("OpenGL ES")!==-1&&(se=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),Y=se>=2);let j=null,W={};const $=n.getParameter(n.SCISSOR_BOX),oe=n.getParameter(n.VIEWPORT),Se=new sn().fromArray($),ne=new sn().fromArray(oe);function we(X,be,ce,xe){const Xe=new Uint8Array(4),Ge=n.createTexture();n.bindTexture(X,Ge),n.texParameteri(X,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(X,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let _t=0;_t<ce;_t++)X===n.TEXTURE_3D||X===n.TEXTURE_2D_ARRAY?n.texImage3D(be,0,n.RGBA,1,1,xe,0,n.RGBA,n.UNSIGNED_BYTE,Xe):n.texImage2D(be+_t,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Xe);return Ge}const ve={};ve[n.TEXTURE_2D]=we(n.TEXTURE_2D,n.TEXTURE_2D,1),ve[n.TEXTURE_CUBE_MAP]=we(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),ve[n.TEXTURE_2D_ARRAY]=we(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ve[n.TEXTURE_3D]=we(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),le(n.DEPTH_TEST),o.setFunc(du),Ce(!1),Pe($A),le(n.CULL_FACE),U(ia);function le(X){d[X]!==!0&&(n.enable(X),d[X]=!0)}function ke(X){d[X]!==!1&&(n.disable(X),d[X]=!1)}function He(X,be){return f[X]!==be?(n.bindFramebuffer(X,be),f[X]=be,X===n.DRAW_FRAMEBUFFER&&(f[n.FRAMEBUFFER]=be),X===n.FRAMEBUFFER&&(f[n.DRAW_FRAMEBUFFER]=be),!0):!1}function De(X,be){let ce=g,xe=!1;if(X){ce=m.get(be),ce===void 0&&(ce=[],m.set(be,ce));const Xe=X.textures;if(ce.length!==Xe.length||ce[0]!==n.COLOR_ATTACHMENT0){for(let Ge=0,_t=Xe.length;Ge<_t;Ge++)ce[Ge]=n.COLOR_ATTACHMENT0+Ge;ce.length=Xe.length,xe=!0}}else ce[0]!==n.BACK&&(ce[0]=n.BACK,xe=!0);xe&&n.drawBuffers(ce)}function st(X){return v!==X?(n.useProgram(X),v=X,!0):!1}const qe={[al]:n.FUNC_ADD,[r4]:n.FUNC_SUBTRACT,[i4]:n.FUNC_REVERSE_SUBTRACT};qe[s4]=n.MIN,qe[o4]=n.MAX;const We={[a4]:n.ZERO,[l4]:n.ONE,[c4]:n.SRC_COLOR,[j0]:n.SRC_ALPHA,[m4]:n.SRC_ALPHA_SATURATE,[f4]:n.DST_COLOR,[d4]:n.DST_ALPHA,[u4]:n.ONE_MINUS_SRC_COLOR,[U0]:n.ONE_MINUS_SRC_ALPHA,[p4]:n.ONE_MINUS_DST_COLOR,[h4]:n.ONE_MINUS_DST_ALPHA,[g4]:n.CONSTANT_COLOR,[x4]:n.ONE_MINUS_CONSTANT_COLOR,[v4]:n.CONSTANT_ALPHA,[y4]:n.ONE_MINUS_CONSTANT_ALPHA};function U(X,be,ce,xe,Xe,Ge,_t,tn,bn,Kt){if(X===ia){y===!0&&(ke(n.BLEND),y=!1);return}if(y===!1&&(le(n.BLEND),y=!0),X!==n4){if(X!==w||Kt!==I){if((x!==al||A!==al)&&(n.blendEquation(n.FUNC_ADD),x=al,A=al),Kt)switch(X){case Yc:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case qA:n.blendFunc(n.ONE,n.ONE);break;case QA:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case ZA:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",X);break}else switch(X){case Yc:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case qA:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case QA:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case ZA:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",X);break}b=null,S=null,T=null,N=null,P.set(0,0,0),D=0,w=X,I=Kt}return}Xe=Xe||be,Ge=Ge||ce,_t=_t||xe,(be!==x||Xe!==A)&&(n.blendEquationSeparate(qe[be],qe[Xe]),x=be,A=Xe),(ce!==b||xe!==S||Ge!==T||_t!==N)&&(n.blendFuncSeparate(We[ce],We[xe],We[Ge],We[_t]),b=ce,S=xe,T=Ge,N=_t),(tn.equals(P)===!1||bn!==D)&&(n.blendColor(tn.r,tn.g,tn.b,bn),P.copy(tn),D=bn),w=X,I=!1}function Oe(X,be){X.side===Ds?ke(n.CULL_FACE):le(n.CULL_FACE);let ce=X.side===ni;be&&(ce=!ce),Ce(ce),X.blending===Yc&&X.transparent===!1?U(ia):U(X.blending,X.blendEquation,X.blendSrc,X.blendDst,X.blendEquationAlpha,X.blendSrcAlpha,X.blendDstAlpha,X.blendColor,X.blendAlpha,X.premultipliedAlpha),o.setFunc(X.depthFunc),o.setTest(X.depthTest),o.setMask(X.depthWrite),s.setMask(X.colorWrite);const xe=X.stencilWrite;a.setTest(xe),xe&&(a.setMask(X.stencilWriteMask),a.setFunc(X.stencilFunc,X.stencilRef,X.stencilFuncMask),a.setOp(X.stencilFail,X.stencilZFail,X.stencilZPass)),ze(X.polygonOffset,X.polygonOffsetFactor,X.polygonOffsetUnits),X.alphaToCoverage===!0?le(n.SAMPLE_ALPHA_TO_COVERAGE):ke(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ce(X){R!==X&&(X?n.frontFace(n.CW):n.frontFace(n.CCW),R=X)}function Pe(X){X!==ZU?(le(n.CULL_FACE),X!==k&&(X===$A?n.cullFace(n.BACK):X===e4?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ke(n.CULL_FACE),k=X}function Ae(X){X!==G&&(Y&&n.lineWidth(X),G=X)}function ze(X,be,ce){X?(le(n.POLYGON_OFFSET_FILL),(K!==be||J!==ce)&&(n.polygonOffset(be,ce),K=be,J=ce)):ke(n.POLYGON_OFFSET_FILL)}function Ne(X){X?le(n.SCISSOR_TEST):ke(n.SCISSOR_TEST)}function z(X){X===void 0&&(X=n.TEXTURE0+Q-1),j!==X&&(n.activeTexture(X),j=X)}function O(X,be,ce){ce===void 0&&(j===null?ce=n.TEXTURE0+Q-1:ce=j);let xe=W[ce];xe===void 0&&(xe={type:void 0,texture:void 0},W[ce]=xe),(xe.type!==X||xe.texture!==be)&&(j!==ce&&(n.activeTexture(ce),j=ce),n.bindTexture(X,be||ve[X]),xe.type=X,xe.texture=be)}function ee(){const X=W[j];X!==void 0&&X.type!==void 0&&(n.bindTexture(X.type,null),X.type=void 0,X.texture=void 0)}function he(){try{n.compressedTexImage2D(...arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Me(){try{n.compressedTexImage3D(...arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function fe(){try{n.texSubImage2D(...arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function tt(){try{n.texSubImage3D(...arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Ue(){try{n.compressedTexSubImage2D(...arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function ht(){try{n.compressedTexSubImage3D(...arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function yt(){try{n.texStorage2D(...arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Ie(){try{n.texStorage3D(...arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Ze(){try{n.texImage2D(...arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function gt(){try{n.texImage3D(...arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function At(X){Se.equals(X)===!1&&(n.scissor(X.x,X.y,X.z,X.w),Se.copy(X))}function et(X){ne.equals(X)===!1&&(n.viewport(X.x,X.y,X.z,X.w),ne.copy(X))}function q(X,be){let ce=u.get(be);ce===void 0&&(ce=new WeakMap,u.set(be,ce));let xe=ce.get(X);xe===void 0&&(xe=n.getUniformBlockIndex(be,X.name),ce.set(X,xe))}function ye(X,be){const xe=u.get(be).get(X);c.get(be)!==xe&&(n.uniformBlockBinding(be,xe,X.__bindingPointIndex),c.set(be,xe))}function Ee(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},j=null,W={},f={},m=new WeakMap,g=[],v=null,y=!1,w=null,x=null,b=null,S=null,A=null,T=null,N=null,P=new Ye(0,0,0),D=0,I=!1,R=null,k=null,G=null,K=null,J=null,Se.set(0,0,n.canvas.width,n.canvas.height),ne.set(0,0,n.canvas.width,n.canvas.height),s.reset(),o.reset(),a.reset()}return{buffers:{color:s,depth:o,stencil:a},enable:le,disable:ke,bindFramebuffer:He,drawBuffers:De,useProgram:st,setBlending:U,setMaterial:Oe,setFlipSided:Ce,setCullFace:Pe,setLineWidth:Ae,setPolygonOffset:ze,setScissorTest:Ne,activeTexture:z,bindTexture:O,unbindTexture:ee,compressedTexImage2D:he,compressedTexImage3D:Me,texImage2D:Ze,texImage3D:gt,updateUBOMapping:q,uniformBlockBinding:ye,texStorage2D:yt,texStorage3D:Ie,texSubImage2D:fe,texSubImage3D:tt,compressedTexSubImage2D:Ue,compressedTexSubImage3D:ht,scissor:At,viewport:et,reset:Ee}}function oue(n,e,t,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new _e,d=new WeakMap;let f;const m=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(z,O){return g?new OffscreenCanvas(z,O):sm("canvas")}function y(z,O,ee){let he=1;const Me=Ne(z);if((Me.width>ee||Me.height>ee)&&(he=ee/Math.max(Me.width,Me.height)),he<1)if(typeof HTMLImageElement<"u"&&z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&z instanceof ImageBitmap||typeof VideoFrame<"u"&&z instanceof VideoFrame){const fe=Math.floor(he*Me.width),tt=Math.floor(he*Me.height);f===void 0&&(f=v(fe,tt));const Ue=O?v(fe,tt):f;return Ue.width=fe,Ue.height=tt,Ue.getContext("2d").drawImage(z,0,0,fe,tt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Me.width+"x"+Me.height+") to ("+fe+"x"+tt+")."),Ue}else return"data"in z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Me.width+"x"+Me.height+")."),z;return z}function w(z){return z.generateMipmaps}function x(z){n.generateMipmap(z)}function b(z){return z.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:z.isWebGL3DRenderTarget?n.TEXTURE_3D:z.isWebGLArrayRenderTarget||z.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function S(z,O,ee,he,Me=!1){if(z!==null){if(n[z]!==void 0)return n[z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+z+"'")}let fe=O;if(O===n.RED&&(ee===n.FLOAT&&(fe=n.R32F),ee===n.HALF_FLOAT&&(fe=n.R16F),ee===n.UNSIGNED_BYTE&&(fe=n.R8)),O===n.RED_INTEGER&&(ee===n.UNSIGNED_BYTE&&(fe=n.R8UI),ee===n.UNSIGNED_SHORT&&(fe=n.R16UI),ee===n.UNSIGNED_INT&&(fe=n.R32UI),ee===n.BYTE&&(fe=n.R8I),ee===n.SHORT&&(fe=n.R16I),ee===n.INT&&(fe=n.R32I)),O===n.RG&&(ee===n.FLOAT&&(fe=n.RG32F),ee===n.HALF_FLOAT&&(fe=n.RG16F),ee===n.UNSIGNED_BYTE&&(fe=n.RG8)),O===n.RG_INTEGER&&(ee===n.UNSIGNED_BYTE&&(fe=n.RG8UI),ee===n.UNSIGNED_SHORT&&(fe=n.RG16UI),ee===n.UNSIGNED_INT&&(fe=n.RG32UI),ee===n.BYTE&&(fe=n.RG8I),ee===n.SHORT&&(fe=n.RG16I),ee===n.INT&&(fe=n.RG32I)),O===n.RGB_INTEGER&&(ee===n.UNSIGNED_BYTE&&(fe=n.RGB8UI),ee===n.UNSIGNED_SHORT&&(fe=n.RGB16UI),ee===n.UNSIGNED_INT&&(fe=n.RGB32UI),ee===n.BYTE&&(fe=n.RGB8I),ee===n.SHORT&&(fe=n.RGB16I),ee===n.INT&&(fe=n.RGB32I)),O===n.RGBA_INTEGER&&(ee===n.UNSIGNED_BYTE&&(fe=n.RGBA8UI),ee===n.UNSIGNED_SHORT&&(fe=n.RGBA16UI),ee===n.UNSIGNED_INT&&(fe=n.RGBA32UI),ee===n.BYTE&&(fe=n.RGBA8I),ee===n.SHORT&&(fe=n.RGBA16I),ee===n.INT&&(fe=n.RGBA32I)),O===n.RGB&&ee===n.UNSIGNED_INT_5_9_9_9_REV&&(fe=n.RGB9_E5),O===n.RGBA){const tt=Me?nm:rn.getTransfer(he);ee===n.FLOAT&&(fe=n.RGBA32F),ee===n.HALF_FLOAT&&(fe=n.RGBA16F),ee===n.UNSIGNED_BYTE&&(fe=tt===gn?n.SRGB8_ALPHA8:n.RGBA8),ee===n.UNSIGNED_SHORT_4_4_4_4&&(fe=n.RGBA4),ee===n.UNSIGNED_SHORT_5_5_5_1&&(fe=n.RGB5_A1)}return(fe===n.R16F||fe===n.R32F||fe===n.RG16F||fe===n.RG32F||fe===n.RGBA16F||fe===n.RGBA32F)&&e.get("EXT_color_buffer_float"),fe}function A(z,O){let ee;return z?O===null||O===wa||O===bh?ee=n.DEPTH24_STENCIL8:O===wi?ee=n.DEPTH32F_STENCIL8:O===_h&&(ee=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):O===null||O===wa||O===bh?ee=n.DEPTH_COMPONENT24:O===wi?ee=n.DEPTH_COMPONENT32F:O===_h&&(ee=n.DEPTH_COMPONENT16),ee}function T(z,O){return w(z)===!0||z.isFramebufferTexture&&z.minFilter!==pr&&z.minFilter!==Vn?Math.log2(Math.max(O.width,O.height))+1:z.mipmaps!==void 0&&z.mipmaps.length>0?z.mipmaps.length:z.isCompressedTexture&&Array.isArray(z.image)?O.mipmaps.length:1}function N(z){const O=z.target;O.removeEventListener("dispose",N),D(O),O.isVideoTexture&&d.delete(O)}function P(z){const O=z.target;O.removeEventListener("dispose",P),R(O)}function D(z){const O=r.get(z);if(O.__webglInit===void 0)return;const ee=z.source,he=m.get(ee);if(he){const Me=he[O.__cacheKey];Me.usedTimes--,Me.usedTimes===0&&I(z),Object.keys(he).length===0&&m.delete(ee)}r.remove(z)}function I(z){const O=r.get(z);n.deleteTexture(O.__webglTexture);const ee=z.source,he=m.get(ee);delete he[O.__cacheKey],o.memory.textures--}function R(z){const O=r.get(z);if(z.depthTexture&&(z.depthTexture.dispose(),r.remove(z.depthTexture)),z.isWebGLCubeRenderTarget)for(let he=0;he<6;he++){if(Array.isArray(O.__webglFramebuffer[he]))for(let Me=0;Me<O.__webglFramebuffer[he].length;Me++)n.deleteFramebuffer(O.__webglFramebuffer[he][Me]);else n.deleteFramebuffer(O.__webglFramebuffer[he]);O.__webglDepthbuffer&&n.deleteRenderbuffer(O.__webglDepthbuffer[he])}else{if(Array.isArray(O.__webglFramebuffer))for(let he=0;he<O.__webglFramebuffer.length;he++)n.deleteFramebuffer(O.__webglFramebuffer[he]);else n.deleteFramebuffer(O.__webglFramebuffer);if(O.__webglDepthbuffer&&n.deleteRenderbuffer(O.__webglDepthbuffer),O.__webglMultisampledFramebuffer&&n.deleteFramebuffer(O.__webglMultisampledFramebuffer),O.__webglColorRenderbuffer)for(let he=0;he<O.__webglColorRenderbuffer.length;he++)O.__webglColorRenderbuffer[he]&&n.deleteRenderbuffer(O.__webglColorRenderbuffer[he]);O.__webglDepthRenderbuffer&&n.deleteRenderbuffer(O.__webglDepthRenderbuffer)}const ee=z.textures;for(let he=0,Me=ee.length;he<Me;he++){const fe=r.get(ee[he]);fe.__webglTexture&&(n.deleteTexture(fe.__webglTexture),o.memory.textures--),r.remove(ee[he])}r.remove(z)}let k=0;function G(){k=0}function K(){const z=k;return z>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+z+" texture units while this GPU supports only "+i.maxTextures),k+=1,z}function J(z){const O=[];return O.push(z.wrapS),O.push(z.wrapT),O.push(z.wrapR||0),O.push(z.magFilter),O.push(z.minFilter),O.push(z.anisotropy),O.push(z.internalFormat),O.push(z.format),O.push(z.type),O.push(z.generateMipmaps),O.push(z.premultiplyAlpha),O.push(z.flipY),O.push(z.unpackAlignment),O.push(z.colorSpace),O.join()}function Q(z,O){const ee=r.get(z);if(z.isVideoTexture&&Ae(z),z.isRenderTargetTexture===!1&&z.version>0&&ee.__version!==z.version){const he=z.image;if(he===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(he.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ne(ee,z,O);return}}t.bindTexture(n.TEXTURE_2D,ee.__webglTexture,n.TEXTURE0+O)}function Y(z,O){const ee=r.get(z);if(z.version>0&&ee.__version!==z.version){ne(ee,z,O);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ee.__webglTexture,n.TEXTURE0+O)}function se(z,O){const ee=r.get(z);if(z.version>0&&ee.__version!==z.version){ne(ee,z,O);return}t.bindTexture(n.TEXTURE_3D,ee.__webglTexture,n.TEXTURE0+O)}function L(z,O){const ee=r.get(z);if(z.version>0&&ee.__version!==z.version){we(ee,z,O);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ee.__webglTexture,n.TEXTURE0+O)}const j={[jl]:n.REPEAT,[ji]:n.CLAMP_TO_EDGE,[wh]:n.MIRRORED_REPEAT},W={[pr]:n.NEAREST,[Cw]:n.NEAREST_MIPMAP_NEAREST,[kc]:n.NEAREST_MIPMAP_LINEAR,[Vn]:n.LINEAR,[Jd]:n.LINEAR_MIPMAP_NEAREST,[cs]:n.LINEAR_MIPMAP_LINEAR},$={[k4]:n.NEVER,[H4]:n.ALWAYS,[O4]:n.LESS,[PM]:n.LEQUAL,[F4]:n.EQUAL,[z4]:n.GEQUAL,[j4]:n.GREATER,[U4]:n.NOTEQUAL};function oe(z,O){if(O.type===wi&&e.has("OES_texture_float_linear")===!1&&(O.magFilter===Vn||O.magFilter===Jd||O.magFilter===kc||O.magFilter===cs||O.minFilter===Vn||O.minFilter===Jd||O.minFilter===kc||O.minFilter===cs)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(z,n.TEXTURE_WRAP_S,j[O.wrapS]),n.texParameteri(z,n.TEXTURE_WRAP_T,j[O.wrapT]),(z===n.TEXTURE_3D||z===n.TEXTURE_2D_ARRAY)&&n.texParameteri(z,n.TEXTURE_WRAP_R,j[O.wrapR]),n.texParameteri(z,n.TEXTURE_MAG_FILTER,W[O.magFilter]),n.texParameteri(z,n.TEXTURE_MIN_FILTER,W[O.minFilter]),O.compareFunction&&(n.texParameteri(z,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(z,n.TEXTURE_COMPARE_FUNC,$[O.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(O.magFilter===pr||O.minFilter!==kc&&O.minFilter!==cs||O.type===wi&&e.has("OES_texture_float_linear")===!1)return;if(O.anisotropy>1||r.get(O).__currentAnisotropy){const ee=e.get("EXT_texture_filter_anisotropic");n.texParameterf(z,ee.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(O.anisotropy,i.getMaxAnisotropy())),r.get(O).__currentAnisotropy=O.anisotropy}}}function Se(z,O){let ee=!1;z.__webglInit===void 0&&(z.__webglInit=!0,O.addEventListener("dispose",N));const he=O.source;let Me=m.get(he);Me===void 0&&(Me={},m.set(he,Me));const fe=J(O);if(fe!==z.__cacheKey){Me[fe]===void 0&&(Me[fe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ee=!0),Me[fe].usedTimes++;const tt=Me[z.__cacheKey];tt!==void 0&&(Me[z.__cacheKey].usedTimes--,tt.usedTimes===0&&I(O)),z.__cacheKey=fe,z.__webglTexture=Me[fe].texture}return ee}function ne(z,O,ee){let he=n.TEXTURE_2D;(O.isDataArrayTexture||O.isCompressedArrayTexture)&&(he=n.TEXTURE_2D_ARRAY),O.isData3DTexture&&(he=n.TEXTURE_3D);const Me=Se(z,O),fe=O.source;t.bindTexture(he,z.__webglTexture,n.TEXTURE0+ee);const tt=r.get(fe);if(fe.version!==tt.__version||Me===!0){t.activeTexture(n.TEXTURE0+ee);const Ue=rn.getPrimaries(rn.workingColorSpace),ht=O.colorSpace===Xo?null:rn.getPrimaries(O.colorSpace),yt=O.colorSpace===Xo||Ue===ht?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,O.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,O.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,O.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,yt);let Ie=y(O.image,!1,i.maxTextureSize);Ie=ze(O,Ie);const Ze=s.convert(O.format,O.colorSpace),gt=s.convert(O.type);let At=S(O.internalFormat,Ze,gt,O.colorSpace,O.isVideoTexture);oe(he,O);let et;const q=O.mipmaps,ye=O.isVideoTexture!==!0,Ee=tt.__version===void 0||Me===!0,X=fe.dataReady,be=T(O,Ie);if(O.isDepthTexture)At=A(O.format===Ah,O.type),Ee&&(ye?t.texStorage2D(n.TEXTURE_2D,1,At,Ie.width,Ie.height):t.texImage2D(n.TEXTURE_2D,0,At,Ie.width,Ie.height,0,Ze,gt,null));else if(O.isDataTexture)if(q.length>0){ye&&Ee&&t.texStorage2D(n.TEXTURE_2D,be,At,q[0].width,q[0].height);for(let ce=0,xe=q.length;ce<xe;ce++)et=q[ce],ye?X&&t.texSubImage2D(n.TEXTURE_2D,ce,0,0,et.width,et.height,Ze,gt,et.data):t.texImage2D(n.TEXTURE_2D,ce,At,et.width,et.height,0,Ze,gt,et.data);O.generateMipmaps=!1}else ye?(Ee&&t.texStorage2D(n.TEXTURE_2D,be,At,Ie.width,Ie.height),X&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Ie.width,Ie.height,Ze,gt,Ie.data)):t.texImage2D(n.TEXTURE_2D,0,At,Ie.width,Ie.height,0,Ze,gt,Ie.data);else if(O.isCompressedTexture)if(O.isCompressedArrayTexture){ye&&Ee&&t.texStorage3D(n.TEXTURE_2D_ARRAY,be,At,q[0].width,q[0].height,Ie.depth);for(let ce=0,xe=q.length;ce<xe;ce++)if(et=q[ce],O.format!==Fr)if(Ze!==null)if(ye){if(X)if(O.layerUpdates.size>0){const Xe=cE(et.width,et.height,O.format,O.type);for(const Ge of O.layerUpdates){const _t=et.data.subarray(Ge*Xe/et.data.BYTES_PER_ELEMENT,(Ge+1)*Xe/et.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ce,0,0,Ge,et.width,et.height,1,Ze,_t)}O.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ce,0,0,0,et.width,et.height,Ie.depth,Ze,et.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,ce,At,et.width,et.height,Ie.depth,0,et.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ye?X&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,ce,0,0,0,et.width,et.height,Ie.depth,Ze,gt,et.data):t.texImage3D(n.TEXTURE_2D_ARRAY,ce,At,et.width,et.height,Ie.depth,0,Ze,gt,et.data)}else{ye&&Ee&&t.texStorage2D(n.TEXTURE_2D,be,At,q[0].width,q[0].height);for(let ce=0,xe=q.length;ce<xe;ce++)et=q[ce],O.format!==Fr?Ze!==null?ye?X&&t.compressedTexSubImage2D(n.TEXTURE_2D,ce,0,0,et.width,et.height,Ze,et.data):t.compressedTexImage2D(n.TEXTURE_2D,ce,At,et.width,et.height,0,et.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ye?X&&t.texSubImage2D(n.TEXTURE_2D,ce,0,0,et.width,et.height,Ze,gt,et.data):t.texImage2D(n.TEXTURE_2D,ce,At,et.width,et.height,0,Ze,gt,et.data)}else if(O.isDataArrayTexture)if(ye){if(Ee&&t.texStorage3D(n.TEXTURE_2D_ARRAY,be,At,Ie.width,Ie.height,Ie.depth),X)if(O.layerUpdates.size>0){const ce=cE(Ie.width,Ie.height,O.format,O.type);for(const xe of O.layerUpdates){const Xe=Ie.data.subarray(xe*ce/Ie.data.BYTES_PER_ELEMENT,(xe+1)*ce/Ie.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,xe,Ie.width,Ie.height,1,Ze,gt,Xe)}O.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Ie.width,Ie.height,Ie.depth,Ze,gt,Ie.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,At,Ie.width,Ie.height,Ie.depth,0,Ze,gt,Ie.data);else if(O.isData3DTexture)ye?(Ee&&t.texStorage3D(n.TEXTURE_3D,be,At,Ie.width,Ie.height,Ie.depth),X&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Ie.width,Ie.height,Ie.depth,Ze,gt,Ie.data)):t.texImage3D(n.TEXTURE_3D,0,At,Ie.width,Ie.height,Ie.depth,0,Ze,gt,Ie.data);else if(O.isFramebufferTexture){if(Ee)if(ye)t.texStorage2D(n.TEXTURE_2D,be,At,Ie.width,Ie.height);else{let ce=Ie.width,xe=Ie.height;for(let Xe=0;Xe<be;Xe++)t.texImage2D(n.TEXTURE_2D,Xe,At,ce,xe,0,Ze,gt,null),ce>>=1,xe>>=1}}else if(q.length>0){if(ye&&Ee){const ce=Ne(q[0]);t.texStorage2D(n.TEXTURE_2D,be,At,ce.width,ce.height)}for(let ce=0,xe=q.length;ce<xe;ce++)et=q[ce],ye?X&&t.texSubImage2D(n.TEXTURE_2D,ce,0,0,Ze,gt,et):t.texImage2D(n.TEXTURE_2D,ce,At,Ze,gt,et);O.generateMipmaps=!1}else if(ye){if(Ee){const ce=Ne(Ie);t.texStorage2D(n.TEXTURE_2D,be,At,ce.width,ce.height)}X&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Ze,gt,Ie)}else t.texImage2D(n.TEXTURE_2D,0,At,Ze,gt,Ie);w(O)&&x(he),tt.__version=fe.version,O.onUpdate&&O.onUpdate(O)}z.__version=O.version}function we(z,O,ee){if(O.image.length!==6)return;const he=Se(z,O),Me=O.source;t.bindTexture(n.TEXTURE_CUBE_MAP,z.__webglTexture,n.TEXTURE0+ee);const fe=r.get(Me);if(Me.version!==fe.__version||he===!0){t.activeTexture(n.TEXTURE0+ee);const tt=rn.getPrimaries(rn.workingColorSpace),Ue=O.colorSpace===Xo?null:rn.getPrimaries(O.colorSpace),ht=O.colorSpace===Xo||tt===Ue?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,O.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,O.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,O.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ht);const yt=O.isCompressedTexture||O.image[0].isCompressedTexture,Ie=O.image[0]&&O.image[0].isDataTexture,Ze=[];for(let xe=0;xe<6;xe++)!yt&&!Ie?Ze[xe]=y(O.image[xe],!0,i.maxCubemapSize):Ze[xe]=Ie?O.image[xe].image:O.image[xe],Ze[xe]=ze(O,Ze[xe]);const gt=Ze[0],At=s.convert(O.format,O.colorSpace),et=s.convert(O.type),q=S(O.internalFormat,At,et,O.colorSpace),ye=O.isVideoTexture!==!0,Ee=fe.__version===void 0||he===!0,X=Me.dataReady;let be=T(O,gt);oe(n.TEXTURE_CUBE_MAP,O);let ce;if(yt){ye&&Ee&&t.texStorage2D(n.TEXTURE_CUBE_MAP,be,q,gt.width,gt.height);for(let xe=0;xe<6;xe++){ce=Ze[xe].mipmaps;for(let Xe=0;Xe<ce.length;Xe++){const Ge=ce[Xe];O.format!==Fr?At!==null?ye?X&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,Xe,0,0,Ge.width,Ge.height,At,Ge.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,Xe,q,Ge.width,Ge.height,0,Ge.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ye?X&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,Xe,0,0,Ge.width,Ge.height,At,et,Ge.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,Xe,q,Ge.width,Ge.height,0,At,et,Ge.data)}}}else{if(ce=O.mipmaps,ye&&Ee){ce.length>0&&be++;const xe=Ne(Ze[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,be,q,xe.width,xe.height)}for(let xe=0;xe<6;xe++)if(Ie){ye?X&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,0,0,0,Ze[xe].width,Ze[xe].height,At,et,Ze[xe].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,0,q,Ze[xe].width,Ze[xe].height,0,At,et,Ze[xe].data);for(let Xe=0;Xe<ce.length;Xe++){const _t=ce[Xe].image[xe].image;ye?X&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,Xe+1,0,0,_t.width,_t.height,At,et,_t.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,Xe+1,q,_t.width,_t.height,0,At,et,_t.data)}}else{ye?X&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,0,0,0,At,et,Ze[xe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,0,q,At,et,Ze[xe]);for(let Xe=0;Xe<ce.length;Xe++){const Ge=ce[Xe];ye?X&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,Xe+1,0,0,At,et,Ge.image[xe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+xe,Xe+1,q,At,et,Ge.image[xe])}}}w(O)&&x(n.TEXTURE_CUBE_MAP),fe.__version=Me.version,O.onUpdate&&O.onUpdate(O)}z.__version=O.version}function ve(z,O,ee,he,Me,fe){const tt=s.convert(ee.format,ee.colorSpace),Ue=s.convert(ee.type),ht=S(ee.internalFormat,tt,Ue,ee.colorSpace),yt=r.get(O),Ie=r.get(ee);if(Ie.__renderTarget=O,!yt.__hasExternalTextures){const Ze=Math.max(1,O.width>>fe),gt=Math.max(1,O.height>>fe);Me===n.TEXTURE_3D||Me===n.TEXTURE_2D_ARRAY?t.texImage3D(Me,fe,ht,Ze,gt,O.depth,0,tt,Ue,null):t.texImage2D(Me,fe,ht,Ze,gt,0,tt,Ue,null)}t.bindFramebuffer(n.FRAMEBUFFER,z),Pe(O)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,he,Me,Ie.__webglTexture,0,Ce(O)):(Me===n.TEXTURE_2D||Me>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Me<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,he,Me,Ie.__webglTexture,fe),t.bindFramebuffer(n.FRAMEBUFFER,null)}function le(z,O,ee){if(n.bindRenderbuffer(n.RENDERBUFFER,z),O.depthBuffer){const he=O.depthTexture,Me=he&&he.isDepthTexture?he.type:null,fe=A(O.stencilBuffer,Me),tt=O.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ue=Ce(O);Pe(O)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ue,fe,O.width,O.height):ee?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ue,fe,O.width,O.height):n.renderbufferStorage(n.RENDERBUFFER,fe,O.width,O.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,tt,n.RENDERBUFFER,z)}else{const he=O.textures;for(let Me=0;Me<he.length;Me++){const fe=he[Me],tt=s.convert(fe.format,fe.colorSpace),Ue=s.convert(fe.type),ht=S(fe.internalFormat,tt,Ue,fe.colorSpace),yt=Ce(O);ee&&Pe(O)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,yt,ht,O.width,O.height):Pe(O)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,yt,ht,O.width,O.height):n.renderbufferStorage(n.RENDERBUFFER,ht,O.width,O.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ke(z,O){if(O&&O.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,z),!(O.depthTexture&&O.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const he=r.get(O.depthTexture);he.__renderTarget=O,(!he.__webglTexture||O.depthTexture.image.width!==O.width||O.depthTexture.image.height!==O.height)&&(O.depthTexture.image.width=O.width,O.depthTexture.image.height=O.height,O.depthTexture.needsUpdate=!0),Q(O.depthTexture,0);const Me=he.__webglTexture,fe=Ce(O);if(O.depthTexture.format===Sh)Pe(O)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Me,0,fe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Me,0);else if(O.depthTexture.format===Ah)Pe(O)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Me,0,fe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Me,0);else throw new Error("Unknown depthTexture format")}function He(z){const O=r.get(z),ee=z.isWebGLCubeRenderTarget===!0;if(O.__boundDepthTexture!==z.depthTexture){const he=z.depthTexture;if(O.__depthDisposeCallback&&O.__depthDisposeCallback(),he){const Me=()=>{delete O.__boundDepthTexture,delete O.__depthDisposeCallback,he.removeEventListener("dispose",Me)};he.addEventListener("dispose",Me),O.__depthDisposeCallback=Me}O.__boundDepthTexture=he}if(z.depthTexture&&!O.__autoAllocateDepthBuffer){if(ee)throw new Error("target.depthTexture not supported in Cube render targets");const he=z.texture.mipmaps;he&&he.length>0?ke(O.__webglFramebuffer[0],z):ke(O.__webglFramebuffer,z)}else if(ee){O.__webglDepthbuffer=[];for(let he=0;he<6;he++)if(t.bindFramebuffer(n.FRAMEBUFFER,O.__webglFramebuffer[he]),O.__webglDepthbuffer[he]===void 0)O.__webglDepthbuffer[he]=n.createRenderbuffer(),le(O.__webglDepthbuffer[he],z,!1);else{const Me=z.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,fe=O.__webglDepthbuffer[he];n.bindRenderbuffer(n.RENDERBUFFER,fe),n.framebufferRenderbuffer(n.FRAMEBUFFER,Me,n.RENDERBUFFER,fe)}}else{const he=z.texture.mipmaps;if(he&&he.length>0?t.bindFramebuffer(n.FRAMEBUFFER,O.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,O.__webglFramebuffer),O.__webglDepthbuffer===void 0)O.__webglDepthbuffer=n.createRenderbuffer(),le(O.__webglDepthbuffer,z,!1);else{const Me=z.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,fe=O.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,fe),n.framebufferRenderbuffer(n.FRAMEBUFFER,Me,n.RENDERBUFFER,fe)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function De(z,O,ee){const he=r.get(z);O!==void 0&&ve(he.__webglFramebuffer,z,z.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ee!==void 0&&He(z)}function st(z){const O=z.texture,ee=r.get(z),he=r.get(O);z.addEventListener("dispose",P);const Me=z.textures,fe=z.isWebGLCubeRenderTarget===!0,tt=Me.length>1;if(tt||(he.__webglTexture===void 0&&(he.__webglTexture=n.createTexture()),he.__version=O.version,o.memory.textures++),fe){ee.__webglFramebuffer=[];for(let Ue=0;Ue<6;Ue++)if(O.mipmaps&&O.mipmaps.length>0){ee.__webglFramebuffer[Ue]=[];for(let ht=0;ht<O.mipmaps.length;ht++)ee.__webglFramebuffer[Ue][ht]=n.createFramebuffer()}else ee.__webglFramebuffer[Ue]=n.createFramebuffer()}else{if(O.mipmaps&&O.mipmaps.length>0){ee.__webglFramebuffer=[];for(let Ue=0;Ue<O.mipmaps.length;Ue++)ee.__webglFramebuffer[Ue]=n.createFramebuffer()}else ee.__webglFramebuffer=n.createFramebuffer();if(tt)for(let Ue=0,ht=Me.length;Ue<ht;Ue++){const yt=r.get(Me[Ue]);yt.__webglTexture===void 0&&(yt.__webglTexture=n.createTexture(),o.memory.textures++)}if(z.samples>0&&Pe(z)===!1){ee.__webglMultisampledFramebuffer=n.createFramebuffer(),ee.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ee.__webglMultisampledFramebuffer);for(let Ue=0;Ue<Me.length;Ue++){const ht=Me[Ue];ee.__webglColorRenderbuffer[Ue]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ee.__webglColorRenderbuffer[Ue]);const yt=s.convert(ht.format,ht.colorSpace),Ie=s.convert(ht.type),Ze=S(ht.internalFormat,yt,Ie,ht.colorSpace,z.isXRRenderTarget===!0),gt=Ce(z);n.renderbufferStorageMultisample(n.RENDERBUFFER,gt,Ze,z.width,z.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ue,n.RENDERBUFFER,ee.__webglColorRenderbuffer[Ue])}n.bindRenderbuffer(n.RENDERBUFFER,null),z.depthBuffer&&(ee.__webglDepthRenderbuffer=n.createRenderbuffer(),le(ee.__webglDepthRenderbuffer,z,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(fe){t.bindTexture(n.TEXTURE_CUBE_MAP,he.__webglTexture),oe(n.TEXTURE_CUBE_MAP,O);for(let Ue=0;Ue<6;Ue++)if(O.mipmaps&&O.mipmaps.length>0)for(let ht=0;ht<O.mipmaps.length;ht++)ve(ee.__webglFramebuffer[Ue][ht],z,O,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,ht);else ve(ee.__webglFramebuffer[Ue],z,O,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0);w(O)&&x(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(tt){for(let Ue=0,ht=Me.length;Ue<ht;Ue++){const yt=Me[Ue],Ie=r.get(yt);t.bindTexture(n.TEXTURE_2D,Ie.__webglTexture),oe(n.TEXTURE_2D,yt),ve(ee.__webglFramebuffer,z,yt,n.COLOR_ATTACHMENT0+Ue,n.TEXTURE_2D,0),w(yt)&&x(n.TEXTURE_2D)}t.unbindTexture()}else{let Ue=n.TEXTURE_2D;if((z.isWebGL3DRenderTarget||z.isWebGLArrayRenderTarget)&&(Ue=z.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Ue,he.__webglTexture),oe(Ue,O),O.mipmaps&&O.mipmaps.length>0)for(let ht=0;ht<O.mipmaps.length;ht++)ve(ee.__webglFramebuffer[ht],z,O,n.COLOR_ATTACHMENT0,Ue,ht);else ve(ee.__webglFramebuffer,z,O,n.COLOR_ATTACHMENT0,Ue,0);w(O)&&x(Ue),t.unbindTexture()}z.depthBuffer&&He(z)}function qe(z){const O=z.textures;for(let ee=0,he=O.length;ee<he;ee++){const Me=O[ee];if(w(Me)){const fe=b(z),tt=r.get(Me).__webglTexture;t.bindTexture(fe,tt),x(fe),t.unbindTexture()}}}const We=[],U=[];function Oe(z){if(z.samples>0){if(Pe(z)===!1){const O=z.textures,ee=z.width,he=z.height;let Me=n.COLOR_BUFFER_BIT;const fe=z.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,tt=r.get(z),Ue=O.length>1;if(Ue)for(let yt=0;yt<O.length;yt++)t.bindFramebuffer(n.FRAMEBUFFER,tt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+yt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,tt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+yt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,tt.__webglMultisampledFramebuffer);const ht=z.texture.mipmaps;ht&&ht.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,tt.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,tt.__webglFramebuffer);for(let yt=0;yt<O.length;yt++){if(z.resolveDepthBuffer&&(z.depthBuffer&&(Me|=n.DEPTH_BUFFER_BIT),z.stencilBuffer&&z.resolveStencilBuffer&&(Me|=n.STENCIL_BUFFER_BIT)),Ue){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,tt.__webglColorRenderbuffer[yt]);const Ie=r.get(O[yt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Ie,0)}n.blitFramebuffer(0,0,ee,he,0,0,ee,he,Me,n.NEAREST),c===!0&&(We.length=0,U.length=0,We.push(n.COLOR_ATTACHMENT0+yt),z.depthBuffer&&z.resolveDepthBuffer===!1&&(We.push(fe),U.push(fe),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,U)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,We))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ue)for(let yt=0;yt<O.length;yt++){t.bindFramebuffer(n.FRAMEBUFFER,tt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+yt,n.RENDERBUFFER,tt.__webglColorRenderbuffer[yt]);const Ie=r.get(O[yt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,tt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+yt,n.TEXTURE_2D,Ie,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,tt.__webglMultisampledFramebuffer)}else if(z.depthBuffer&&z.resolveDepthBuffer===!1&&c){const O=z.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[O])}}}function Ce(z){return Math.min(i.maxSamples,z.samples)}function Pe(z){const O=r.get(z);return z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&O.__useRenderToTexture!==!1}function Ae(z){const O=o.render.frame;d.get(z)!==O&&(d.set(z,O),z.update())}function ze(z,O){const ee=z.colorSpace,he=z.format,Me=z.type;return z.isCompressedTexture===!0||z.isVideoTexture===!0||ee!==hu&&ee!==Xo&&(rn.getTransfer(ee)===gn?(he!==Fr||Me!==ms)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ee)),O}function Ne(z){return typeof HTMLImageElement<"u"&&z instanceof HTMLImageElement?(u.width=z.naturalWidth||z.width,u.height=z.naturalHeight||z.height):typeof VideoFrame<"u"&&z instanceof VideoFrame?(u.width=z.displayWidth,u.height=z.displayHeight):(u.width=z.width,u.height=z.height),u}this.allocateTextureUnit=K,this.resetTextureUnits=G,this.setTexture2D=Q,this.setTexture2DArray=Y,this.setTexture3D=se,this.setTextureCube=L,this.rebindTextures=De,this.setupRenderTarget=st,this.updateRenderTargetMipmap=qe,this.updateMultisampleRenderTarget=Oe,this.setupDepthRenderbuffer=He,this.setupFrameBufferTexture=ve,this.useMultisampledRTT=Pe}function J5(n,e){function t(r,i=Xo){let s;const o=rn.getTransfer(i);if(r===ms)return n.UNSIGNED_BYTE;if(r===Tw)return n.UNSIGNED_SHORT_4_4_4_4;if(r===Nw)return n.UNSIGNED_SHORT_5_5_5_1;if(r===AM)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===bM)return n.BYTE;if(r===SM)return n.SHORT;if(r===_h)return n.UNSIGNED_SHORT;if(r===Mw)return n.INT;if(r===wa)return n.UNSIGNED_INT;if(r===wi)return n.FLOAT;if(r===Kh)return n.HALF_FLOAT;if(r===EM)return n.ALPHA;if(r===CM)return n.RGB;if(r===Fr)return n.RGBA;if(r===Sh)return n.DEPTH_COMPONENT;if(r===Ah)return n.DEPTH_STENCIL;if(r===Rw)return n.RED;if(r===Om)return n.RED_INTEGER;if(r===MM)return n.RG;if(r===Pw)return n.RG_INTEGER;if(r===Iw)return n.RGBA_INTEGER;if(r===mp||r===gp||r===xp||r===vp)if(o===gn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===mp)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===gp)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===xp)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===vp)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===mp)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===gp)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===xp)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===vp)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===J0||r===Y0||r===$0||r===q0)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===J0)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===Y0)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===$0)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===q0)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===Q0||r===Z0||r===ey)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===Q0||r===Z0)return o===gn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===ey)return o===gn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===ty||r===ny||r===ry||r===iy||r===sy||r===oy||r===ay||r===ly||r===cy||r===uy||r===dy||r===hy||r===fy||r===py)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===ty)return o===gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===ny)return o===gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===ry)return o===gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===iy)return o===gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===sy)return o===gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===oy)return o===gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===ay)return o===gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===ly)return o===gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===cy)return o===gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===uy)return o===gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===dy)return o===gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===hy)return o===gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===fy)return o===gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===py)return o===gn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===yp||r===my||r===gy)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===yp)return o===gn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===my)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===gy)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===TM||r===xy||r===vy||r===yy)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===yp)return s.COMPRESSED_RED_RGTC1_EXT;if(r===xy)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===vy)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===yy)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===bh?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:t}}const aue=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,lue=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class cue{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(this.texture===null){const i=new Nn,s=e.properties.get(i);s.__webglTexture=t.texture,(t.depthNear!==r.depthNear||t.depthFar!==r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new Gs({vertexShader:aue,fragmentShader:lue,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Wn(new Yh(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class uue extends Eo{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",c=1,u=null,d=null,f=null,m=null,g=null,v=null;const y=new cue,w=t.getContextAttributes();let x=null,b=null;const S=[],A=[],T=new _e;let N=null;const P=new Un;P.viewport=new sn;const D=new Un;D.viewport=new sn;const I=[P,D],R=new O5;let k=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ne){let we=S[ne];return we===void 0&&(we=new Wv,S[ne]=we),we.getTargetRaySpace()},this.getControllerGrip=function(ne){let we=S[ne];return we===void 0&&(we=new Wv,S[ne]=we),we.getGripSpace()},this.getHand=function(ne){let we=S[ne];return we===void 0&&(we=new Wv,S[ne]=we),we.getHandSpace()};function K(ne){const we=A.indexOf(ne.inputSource);if(we===-1)return;const ve=S[we];ve!==void 0&&(ve.update(ne.inputSource,ne.frame,u||o),ve.dispatchEvent({type:ne.type,data:ne.inputSource}))}function J(){i.removeEventListener("select",K),i.removeEventListener("selectstart",K),i.removeEventListener("selectend",K),i.removeEventListener("squeeze",K),i.removeEventListener("squeezestart",K),i.removeEventListener("squeezeend",K),i.removeEventListener("end",J),i.removeEventListener("inputsourceschange",Q);for(let ne=0;ne<S.length;ne++){const we=A[ne];we!==null&&(A[ne]=null,S[ne].disconnect(we))}k=null,G=null,y.reset(),e.setRenderTarget(x),g=null,m=null,f=null,i=null,b=null,Se.stop(),r.isPresenting=!1,e.setPixelRatio(N),e.setSize(T.width,T.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ne){s=ne,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ne){a=ne,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(ne){u=ne},this.getBaseLayer=function(){return m!==null?m:g},this.getBinding=function(){return f},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(ne){if(i=ne,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",K),i.addEventListener("selectstart",K),i.addEventListener("selectend",K),i.addEventListener("squeeze",K),i.addEventListener("squeezestart",K),i.addEventListener("squeezeend",K),i.addEventListener("end",J),i.addEventListener("inputsourceschange",Q),w.xrCompatible!==!0&&await t.makeXRCompatible(),N=e.getPixelRatio(),e.getSize(T),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let ve=null,le=null,ke=null;w.depth&&(ke=w.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ve=w.stencil?Ah:Sh,le=w.stencil?bh:wa);const He={colorFormat:t.RGBA8,depthFormat:ke,scaleFactor:s};f=new XRWebGLBinding(i,t),m=f.createProjectionLayer(He),i.updateRenderState({layers:[m]}),e.setPixelRatio(1),e.setSize(m.textureWidth,m.textureHeight,!1),b=new bo(m.textureWidth,m.textureHeight,{format:Fr,type:ms,depthTexture:new Hw(m.textureWidth,m.textureHeight,le,void 0,void 0,void 0,void 0,void 0,void 0,ve),stencilBuffer:w.stencil,colorSpace:e.outputColorSpace,samples:w.antialias?4:0,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}else{const ve={antialias:w.antialias,alpha:!0,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(i,t,ve),i.updateRenderState({baseLayer:g}),e.setPixelRatio(1),e.setSize(g.framebufferWidth,g.framebufferHeight,!1),b=new bo(g.framebufferWidth,g.framebufferHeight,{format:Fr,type:ms,colorSpace:e.outputColorSpace,stencilBuffer:w.stencil,resolveDepthBuffer:g.ignoreDepthValues===!1,resolveStencilBuffer:g.ignoreDepthValues===!1})}b.isXRRenderTarget=!0,this.setFoveation(c),u=null,o=await i.requestReferenceSpace(a),Se.setContext(i),Se.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return y.getDepthTexture()};function Q(ne){for(let we=0;we<ne.removed.length;we++){const ve=ne.removed[we],le=A.indexOf(ve);le>=0&&(A[le]=null,S[le].disconnect(ve))}for(let we=0;we<ne.added.length;we++){const ve=ne.added[we];let le=A.indexOf(ve);if(le===-1){for(let He=0;He<S.length;He++)if(He>=A.length){A.push(ve),le=He;break}else if(A[He]===null){A[He]=ve,le=He;break}if(le===-1)break}const ke=S[le];ke&&ke.connect(ve)}}const Y=new H,se=new H;function L(ne,we,ve){Y.setFromMatrixPosition(we.matrixWorld),se.setFromMatrixPosition(ve.matrixWorld);const le=Y.distanceTo(se),ke=we.projectionMatrix.elements,He=ve.projectionMatrix.elements,De=ke[14]/(ke[10]-1),st=ke[14]/(ke[10]+1),qe=(ke[9]+1)/ke[5],We=(ke[9]-1)/ke[5],U=(ke[8]-1)/ke[0],Oe=(He[8]+1)/He[0],Ce=De*U,Pe=De*Oe,Ae=le/(-U+Oe),ze=Ae*-U;if(we.matrixWorld.decompose(ne.position,ne.quaternion,ne.scale),ne.translateX(ze),ne.translateZ(Ae),ne.matrixWorld.compose(ne.position,ne.quaternion,ne.scale),ne.matrixWorldInverse.copy(ne.matrixWorld).invert(),ke[10]===-1)ne.projectionMatrix.copy(we.projectionMatrix),ne.projectionMatrixInverse.copy(we.projectionMatrixInverse);else{const Ne=De+Ae,z=st+Ae,O=Ce-ze,ee=Pe+(le-ze),he=qe*st/z*Ne,Me=We*st/z*Ne;ne.projectionMatrix.makePerspective(O,ee,he,Me,Ne,z),ne.projectionMatrixInverse.copy(ne.projectionMatrix).invert()}}function j(ne,we){we===null?ne.matrixWorld.copy(ne.matrix):ne.matrixWorld.multiplyMatrices(we.matrixWorld,ne.matrix),ne.matrixWorldInverse.copy(ne.matrixWorld).invert()}this.updateCamera=function(ne){if(i===null)return;let we=ne.near,ve=ne.far;y.texture!==null&&(y.depthNear>0&&(we=y.depthNear),y.depthFar>0&&(ve=y.depthFar)),R.near=D.near=P.near=we,R.far=D.far=P.far=ve,(k!==R.near||G!==R.far)&&(i.updateRenderState({depthNear:R.near,depthFar:R.far}),k=R.near,G=R.far),P.layers.mask=ne.layers.mask|2,D.layers.mask=ne.layers.mask|4,R.layers.mask=P.layers.mask|D.layers.mask;const le=ne.parent,ke=R.cameras;j(R,le);for(let He=0;He<ke.length;He++)j(ke[He],le);ke.length===2?L(R,P,D):R.projectionMatrix.copy(P.projectionMatrix),W(ne,R,le)};function W(ne,we,ve){ve===null?ne.matrix.copy(we.matrixWorld):(ne.matrix.copy(ve.matrixWorld),ne.matrix.invert(),ne.matrix.multiply(we.matrixWorld)),ne.matrix.decompose(ne.position,ne.quaternion,ne.scale),ne.updateMatrixWorld(!0),ne.projectionMatrix.copy(we.projectionMatrix),ne.projectionMatrixInverse.copy(we.projectionMatrixInverse),ne.isPerspectiveCamera&&(ne.fov=Mh*2*Math.atan(1/ne.projectionMatrix.elements[5]),ne.zoom=1)}this.getCamera=function(){return R},this.getFoveation=function(){if(!(m===null&&g===null))return c},this.setFoveation=function(ne){c=ne,m!==null&&(m.fixedFoveation=ne),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=ne)},this.hasDepthSensing=function(){return y.texture!==null},this.getDepthSensingMesh=function(){return y.getMesh(R)};let $=null;function oe(ne,we){if(d=we.getViewerPose(u||o),v=we,d!==null){const ve=d.views;g!==null&&(e.setRenderTargetFramebuffer(b,g.framebuffer),e.setRenderTarget(b));let le=!1;ve.length!==R.cameras.length&&(R.cameras.length=0,le=!0);for(let De=0;De<ve.length;De++){const st=ve[De];let qe=null;if(g!==null)qe=g.getViewport(st);else{const U=f.getViewSubImage(m,st);qe=U.viewport,De===0&&(e.setRenderTargetTextures(b,U.colorTexture,U.depthStencilTexture),e.setRenderTarget(b))}let We=I[De];We===void 0&&(We=new Un,We.layers.enable(De),We.viewport=new sn,I[De]=We),We.matrix.fromArray(st.transform.matrix),We.matrix.decompose(We.position,We.quaternion,We.scale),We.projectionMatrix.fromArray(st.projectionMatrix),We.projectionMatrixInverse.copy(We.projectionMatrix).invert(),We.viewport.set(qe.x,qe.y,qe.width,qe.height),De===0&&(R.matrix.copy(We.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),le===!0&&R.cameras.push(We)}const ke=i.enabledFeatures;if(ke&&ke.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&f){const De=f.getDepthInformation(ve[0]);De&&De.isValid&&De.texture&&y.init(e,De,i.renderState)}}for(let ve=0;ve<S.length;ve++){const le=A[ve],ke=S[ve];le!==null&&ke!==void 0&&ke.update(le,we,u||o)}$&&$(ne,we),we.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:we}),v=null}const Se=new G5;Se.setAnimationLoop(oe),this.setAnimationLoop=function(ne){$=ne},this.dispose=function(){}}}const bc=new Wi,due=new St;function hue(n,e){function t(w,x){w.matrixAutoUpdate===!0&&w.updateMatrix(),x.value.copy(w.matrix)}function r(w,x){x.color.getRGB(w.fogColor.value,J4(n)),x.isFog?(w.fogNear.value=x.near,w.fogFar.value=x.far):x.isFogExp2&&(w.fogDensity.value=x.density)}function i(w,x,b,S,A){x.isMeshBasicMaterial||x.isMeshLambertMaterial?s(w,x):x.isMeshToonMaterial?(s(w,x),f(w,x)):x.isMeshPhongMaterial?(s(w,x),d(w,x)):x.isMeshStandardMaterial?(s(w,x),m(w,x),x.isMeshPhysicalMaterial&&g(w,x,A)):x.isMeshMatcapMaterial?(s(w,x),v(w,x)):x.isMeshDepthMaterial?s(w,x):x.isMeshDistanceMaterial?(s(w,x),y(w,x)):x.isMeshNormalMaterial?s(w,x):x.isLineBasicMaterial?(o(w,x),x.isLineDashedMaterial&&a(w,x)):x.isPointsMaterial?c(w,x,b,S):x.isSpriteMaterial?u(w,x):x.isShadowMaterial?(w.color.value.copy(x.color),w.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function s(w,x){w.opacity.value=x.opacity,x.color&&w.diffuse.value.copy(x.color),x.emissive&&w.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(w.map.value=x.map,t(x.map,w.mapTransform)),x.alphaMap&&(w.alphaMap.value=x.alphaMap,t(x.alphaMap,w.alphaMapTransform)),x.bumpMap&&(w.bumpMap.value=x.bumpMap,t(x.bumpMap,w.bumpMapTransform),w.bumpScale.value=x.bumpScale,x.side===ni&&(w.bumpScale.value*=-1)),x.normalMap&&(w.normalMap.value=x.normalMap,t(x.normalMap,w.normalMapTransform),w.normalScale.value.copy(x.normalScale),x.side===ni&&w.normalScale.value.negate()),x.displacementMap&&(w.displacementMap.value=x.displacementMap,t(x.displacementMap,w.displacementMapTransform),w.displacementScale.value=x.displacementScale,w.displacementBias.value=x.displacementBias),x.emissiveMap&&(w.emissiveMap.value=x.emissiveMap,t(x.emissiveMap,w.emissiveMapTransform)),x.specularMap&&(w.specularMap.value=x.specularMap,t(x.specularMap,w.specularMapTransform)),x.alphaTest>0&&(w.alphaTest.value=x.alphaTest);const b=e.get(x),S=b.envMap,A=b.envMapRotation;S&&(w.envMap.value=S,bc.copy(A),bc.x*=-1,bc.y*=-1,bc.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(bc.y*=-1,bc.z*=-1),w.envMapRotation.value.setFromMatrix4(due.makeRotationFromEuler(bc)),w.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,w.reflectivity.value=x.reflectivity,w.ior.value=x.ior,w.refractionRatio.value=x.refractionRatio),x.lightMap&&(w.lightMap.value=x.lightMap,w.lightMapIntensity.value=x.lightMapIntensity,t(x.lightMap,w.lightMapTransform)),x.aoMap&&(w.aoMap.value=x.aoMap,w.aoMapIntensity.value=x.aoMapIntensity,t(x.aoMap,w.aoMapTransform))}function o(w,x){w.diffuse.value.copy(x.color),w.opacity.value=x.opacity,x.map&&(w.map.value=x.map,t(x.map,w.mapTransform))}function a(w,x){w.dashSize.value=x.dashSize,w.totalSize.value=x.dashSize+x.gapSize,w.scale.value=x.scale}function c(w,x,b,S){w.diffuse.value.copy(x.color),w.opacity.value=x.opacity,w.size.value=x.size*b,w.scale.value=S*.5,x.map&&(w.map.value=x.map,t(x.map,w.uvTransform)),x.alphaMap&&(w.alphaMap.value=x.alphaMap,t(x.alphaMap,w.alphaMapTransform)),x.alphaTest>0&&(w.alphaTest.value=x.alphaTest)}function u(w,x){w.diffuse.value.copy(x.color),w.opacity.value=x.opacity,w.rotation.value=x.rotation,x.map&&(w.map.value=x.map,t(x.map,w.mapTransform)),x.alphaMap&&(w.alphaMap.value=x.alphaMap,t(x.alphaMap,w.alphaMapTransform)),x.alphaTest>0&&(w.alphaTest.value=x.alphaTest)}function d(w,x){w.specular.value.copy(x.specular),w.shininess.value=Math.max(x.shininess,1e-4)}function f(w,x){x.gradientMap&&(w.gradientMap.value=x.gradientMap)}function m(w,x){w.metalness.value=x.metalness,x.metalnessMap&&(w.metalnessMap.value=x.metalnessMap,t(x.metalnessMap,w.metalnessMapTransform)),w.roughness.value=x.roughness,x.roughnessMap&&(w.roughnessMap.value=x.roughnessMap,t(x.roughnessMap,w.roughnessMapTransform)),x.envMap&&(w.envMapIntensity.value=x.envMapIntensity)}function g(w,x,b){w.ior.value=x.ior,x.sheen>0&&(w.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),w.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(w.sheenColorMap.value=x.sheenColorMap,t(x.sheenColorMap,w.sheenColorMapTransform)),x.sheenRoughnessMap&&(w.sheenRoughnessMap.value=x.sheenRoughnessMap,t(x.sheenRoughnessMap,w.sheenRoughnessMapTransform))),x.clearcoat>0&&(w.clearcoat.value=x.clearcoat,w.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(w.clearcoatMap.value=x.clearcoatMap,t(x.clearcoatMap,w.clearcoatMapTransform)),x.clearcoatRoughnessMap&&(w.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap,t(x.clearcoatRoughnessMap,w.clearcoatRoughnessMapTransform)),x.clearcoatNormalMap&&(w.clearcoatNormalMap.value=x.clearcoatNormalMap,t(x.clearcoatNormalMap,w.clearcoatNormalMapTransform),w.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),x.side===ni&&w.clearcoatNormalScale.value.negate())),x.dispersion>0&&(w.dispersion.value=x.dispersion),x.iridescence>0&&(w.iridescence.value=x.iridescence,w.iridescenceIOR.value=x.iridescenceIOR,w.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],w.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(w.iridescenceMap.value=x.iridescenceMap,t(x.iridescenceMap,w.iridescenceMapTransform)),x.iridescenceThicknessMap&&(w.iridescenceThicknessMap.value=x.iridescenceThicknessMap,t(x.iridescenceThicknessMap,w.iridescenceThicknessMapTransform))),x.transmission>0&&(w.transmission.value=x.transmission,w.transmissionSamplerMap.value=b.texture,w.transmissionSamplerSize.value.set(b.width,b.height),x.transmissionMap&&(w.transmissionMap.value=x.transmissionMap,t(x.transmissionMap,w.transmissionMapTransform)),w.thickness.value=x.thickness,x.thicknessMap&&(w.thicknessMap.value=x.thicknessMap,t(x.thicknessMap,w.thicknessMapTransform)),w.attenuationDistance.value=x.attenuationDistance,w.attenuationColor.value.copy(x.attenuationColor)),x.anisotropy>0&&(w.anisotropyVector.value.set(x.anisotropy*Math.cos(x.anisotropyRotation),x.anisotropy*Math.sin(x.anisotropyRotation)),x.anisotropyMap&&(w.anisotropyMap.value=x.anisotropyMap,t(x.anisotropyMap,w.anisotropyMapTransform))),w.specularIntensity.value=x.specularIntensity,w.specularColor.value.copy(x.specularColor),x.specularColorMap&&(w.specularColorMap.value=x.specularColorMap,t(x.specularColorMap,w.specularColorMapTransform)),x.specularIntensityMap&&(w.specularIntensityMap.value=x.specularIntensityMap,t(x.specularIntensityMap,w.specularIntensityMapTransform))}function v(w,x){x.matcap&&(w.matcap.value=x.matcap)}function y(w,x){const b=e.get(x).light;w.referencePosition.value.setFromMatrixPosition(b.matrixWorld),w.nearDistance.value=b.shadow.camera.near,w.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function fue(n,e,t,r){let i={},s={},o=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function c(b,S){const A=S.program;r.uniformBlockBinding(b,A)}function u(b,S){let A=i[b.id];A===void 0&&(v(b),A=d(b),i[b.id]=A,b.addEventListener("dispose",w));const T=S.program;r.updateUBOMapping(b,T);const N=e.render.frame;s[b.id]!==N&&(m(b),s[b.id]=N)}function d(b){const S=f();b.__bindingPointIndex=S;const A=n.createBuffer(),T=b.__size,N=b.usage;return n.bindBuffer(n.UNIFORM_BUFFER,A),n.bufferData(n.UNIFORM_BUFFER,T,N),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,S,A),A}function f(){for(let b=0;b<a;b++)if(o.indexOf(b)===-1)return o.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function m(b){const S=i[b.id],A=b.uniforms,T=b.__cache;n.bindBuffer(n.UNIFORM_BUFFER,S);for(let N=0,P=A.length;N<P;N++){const D=Array.isArray(A[N])?A[N]:[A[N]];for(let I=0,R=D.length;I<R;I++){const k=D[I];if(g(k,N,I,T)===!0){const G=k.__offset,K=Array.isArray(k.value)?k.value:[k.value];let J=0;for(let Q=0;Q<K.length;Q++){const Y=K[Q],se=y(Y);typeof Y=="number"||typeof Y=="boolean"?(k.__data[0]=Y,n.bufferSubData(n.UNIFORM_BUFFER,G+J,k.__data)):Y.isMatrix3?(k.__data[0]=Y.elements[0],k.__data[1]=Y.elements[1],k.__data[2]=Y.elements[2],k.__data[3]=0,k.__data[4]=Y.elements[3],k.__data[5]=Y.elements[4],k.__data[6]=Y.elements[5],k.__data[7]=0,k.__data[8]=Y.elements[6],k.__data[9]=Y.elements[7],k.__data[10]=Y.elements[8],k.__data[11]=0):(Y.toArray(k.__data,J),J+=se.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,G,k.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function g(b,S,A,T){const N=b.value,P=S+"_"+A;if(T[P]===void 0)return typeof N=="number"||typeof N=="boolean"?T[P]=N:T[P]=N.clone(),!0;{const D=T[P];if(typeof N=="number"||typeof N=="boolean"){if(D!==N)return T[P]=N,!0}else if(D.equals(N)===!1)return D.copy(N),!0}return!1}function v(b){const S=b.uniforms;let A=0;const T=16;for(let P=0,D=S.length;P<D;P++){const I=Array.isArray(S[P])?S[P]:[S[P]];for(let R=0,k=I.length;R<k;R++){const G=I[R],K=Array.isArray(G.value)?G.value:[G.value];for(let J=0,Q=K.length;J<Q;J++){const Y=K[J],se=y(Y),L=A%T,j=L%se.boundary,W=L+j;A+=j,W!==0&&T-W<se.storage&&(A+=T-W),G.__data=new Float32Array(se.storage/Float32Array.BYTES_PER_ELEMENT),G.__offset=A,A+=se.storage}}}const N=A%T;return N>0&&(A+=T-N),b.__size=A,b.__cache={},this}function y(b){const S={boundary:0,storage:0};return typeof b=="number"||typeof b=="boolean"?(S.boundary=4,S.storage=4):b.isVector2?(S.boundary=8,S.storage=8):b.isVector3||b.isColor?(S.boundary=16,S.storage=12):b.isVector4?(S.boundary=16,S.storage=16):b.isMatrix3?(S.boundary=48,S.storage=48):b.isMatrix4?(S.boundary=64,S.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),S}function w(b){const S=b.target;S.removeEventListener("dispose",w);const A=o.indexOf(S.__bindingPointIndex);o.splice(A,1),n.deleteBuffer(i[S.id]),delete i[S.id],delete s[S.id]}function x(){for(const b in i)n.deleteBuffer(i[b]);o=[],i={},s={}}return{bind:c,update:u,dispose:x}}class Y5{constructor(e={}){const{canvas:t=W4(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:u=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:f=!1,reverseDepthBuffer:m=!1}=e;this.isWebGLRenderer=!0;let g;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");g=r.getContextAttributes().alpha}else g=o;const v=new Uint32Array(4),y=new Int32Array(4);let w=null,x=null;const b=[],S=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=vo,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const A=this;let T=!1;this._outputColorSpace=mi;let N=0,P=0,D=null,I=-1,R=null;const k=new sn,G=new sn;let K=null;const J=new Ye(0);let Q=0,Y=t.width,se=t.height,L=1,j=null,W=null;const $=new sn(0,0,Y,se),oe=new sn(0,0,Y,se);let Se=!1;const ne=new Jh;let we=!1,ve=!1;const le=new St,ke=new St,He=new H,De=new sn,st={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let qe=!1;function We(){return D===null?L:1}let U=r;function Oe(F,ie){return t.getContext(F,ie)}try{const F={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:c,preserveDrawingBuffer:u,powerPreference:d,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Lm}`),t.addEventListener("webglcontextlost",xe,!1),t.addEventListener("webglcontextrestored",Xe,!1),t.addEventListener("webglcontextcreationerror",Ge,!1),U===null){const ie="webgl2";if(U=Oe(ie,F),U===null)throw Oe(ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(F){throw console.error("THREE.WebGLRenderer: "+F.message),F}let Ce,Pe,Ae,ze,Ne,z,O,ee,he,Me,fe,tt,Ue,ht,yt,Ie,Ze,gt,At,et,q,ye,Ee,X;function be(){Ce=new Ele(U),Ce.init(),ye=new J5(U,Ce),Pe=new vle(U,Ce,e,ye),Ae=new sue(U,Ce),Pe.reverseDepthBuffer&&m&&Ae.buffers.depth.setReversed(!0),ze=new Tle(U),Ne=new Xce,z=new oue(U,Ce,Ae,Ne,Pe,ye,ze),O=new wle(A),ee=new Ale(A),he=new Bse(U),Ee=new gle(U,he),Me=new Cle(U,he,ze,Ee),fe=new Rle(U,Me,he,ze),At=new Nle(U,Pe,z),Ie=new yle(Ne),tt=new Wce(A,O,ee,Ce,Pe,Ee,Ie),Ue=new hue(A,Ne),ht=new Jce,yt=new eue(Ce),gt=new mle(A,O,ee,Ae,fe,g,c),Ze=new rue(A,fe,Pe),X=new fue(U,ze,Pe,Ae),et=new xle(U,Ce,ze),q=new Mle(U,Ce,ze),ze.programs=tt.programs,A.capabilities=Pe,A.extensions=Ce,A.properties=Ne,A.renderLists=ht,A.shadowMap=Ze,A.state=Ae,A.info=ze}be();const ce=new uue(A,U);this.xr=ce,this.getContext=function(){return U},this.getContextAttributes=function(){return U.getContextAttributes()},this.forceContextLoss=function(){const F=Ce.get("WEBGL_lose_context");F&&F.loseContext()},this.forceContextRestore=function(){const F=Ce.get("WEBGL_lose_context");F&&F.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(F){F!==void 0&&(L=F,this.setSize(Y,se,!1))},this.getSize=function(F){return F.set(Y,se)},this.setSize=function(F,ie,ue=!0){if(ce.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Y=F,se=ie,t.width=Math.floor(F*L),t.height=Math.floor(ie*L),ue===!0&&(t.style.width=F+"px",t.style.height=ie+"px"),this.setViewport(0,0,F,ie)},this.getDrawingBufferSize=function(F){return F.set(Y*L,se*L).floor()},this.setDrawingBufferSize=function(F,ie,ue){Y=F,se=ie,L=ue,t.width=Math.floor(F*ue),t.height=Math.floor(ie*ue),this.setViewport(0,0,F,ie)},this.getCurrentViewport=function(F){return F.copy(k)},this.getViewport=function(F){return F.copy($)},this.setViewport=function(F,ie,ue,de){F.isVector4?$.set(F.x,F.y,F.z,F.w):$.set(F,ie,ue,de),Ae.viewport(k.copy($).multiplyScalar(L).round())},this.getScissor=function(F){return F.copy(oe)},this.setScissor=function(F,ie,ue,de){F.isVector4?oe.set(F.x,F.y,F.z,F.w):oe.set(F,ie,ue,de),Ae.scissor(G.copy(oe).multiplyScalar(L).round())},this.getScissorTest=function(){return Se},this.setScissorTest=function(F){Ae.setScissorTest(Se=F)},this.setOpaqueSort=function(F){j=F},this.setTransparentSort=function(F){W=F},this.getClearColor=function(F){return F.copy(gt.getClearColor())},this.setClearColor=function(){gt.setClearColor(...arguments)},this.getClearAlpha=function(){return gt.getClearAlpha()},this.setClearAlpha=function(){gt.setClearAlpha(...arguments)},this.clear=function(F=!0,ie=!0,ue=!0){let de=0;if(F){let re=!1;if(D!==null){const Be=D.texture.format;re=Be===Iw||Be===Pw||Be===Om}if(re){const Be=D.texture.type,Ke=Be===ms||Be===wa||Be===_h||Be===bh||Be===Tw||Be===Nw,ot=gt.getClearColor(),at=gt.getClearAlpha(),Et=ot.r,wt=ot.g,Ve=ot.b;Ke?(v[0]=Et,v[1]=wt,v[2]=Ve,v[3]=at,U.clearBufferuiv(U.COLOR,0,v)):(y[0]=Et,y[1]=wt,y[2]=Ve,y[3]=at,U.clearBufferiv(U.COLOR,0,y))}else de|=U.COLOR_BUFFER_BIT}ie&&(de|=U.DEPTH_BUFFER_BIT),ue&&(de|=U.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),U.clear(de)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",xe,!1),t.removeEventListener("webglcontextrestored",Xe,!1),t.removeEventListener("webglcontextcreationerror",Ge,!1),gt.dispose(),ht.dispose(),yt.dispose(),Ne.dispose(),O.dispose(),ee.dispose(),fe.dispose(),Ee.dispose(),X.dispose(),tt.dispose(),ce.dispose(),ce.removeEventListener("sessionstart",$m),ce.removeEventListener("sessionend",qm),Ks.stop()};function xe(F){F.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),T=!0}function Xe(){console.log("THREE.WebGLRenderer: Context Restored."),T=!1;const F=ze.autoReset,ie=Ze.enabled,ue=Ze.autoUpdate,de=Ze.needsUpdate,re=Ze.type;be(),ze.autoReset=F,Ze.enabled=ie,Ze.autoUpdate=ue,Ze.needsUpdate=de,Ze.type=re}function Ge(F){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",F.statusMessage)}function _t(F){const ie=F.target;ie.removeEventListener("dispose",_t),tn(ie)}function tn(F){bn(F),Ne.remove(F)}function bn(F){const ie=Ne.get(F).programs;ie!==void 0&&(ie.forEach(function(ue){tt.releaseProgram(ue)}),F.isShaderMaterial&&tt.releaseShaderCache(F))}this.renderBufferDirect=function(F,ie,ue,de,re,Be){ie===null&&(ie=st);const Ke=re.isMesh&&re.matrixWorld.determinant()<0,ot=s_(F,ie,ue,de,re);Ae.setMaterial(de,Ke);let at=ue.index,Et=1;if(de.wireframe===!0){if(at=Me.getWireframeAttribute(ue),at===void 0)return;Et=2}const wt=ue.drawRange,Ve=ue.attributes.position;let ft=wt.start*Et,Wt=(wt.start+wt.count)*Et;Be!==null&&(ft=Math.max(ft,Be.start*Et),Wt=Math.min(Wt,(Be.start+Be.count)*Et)),at!==null?(ft=Math.max(ft,0),Wt=Math.min(Wt,at.count)):Ve!=null&&(ft=Math.max(ft,0),Wt=Math.min(Wt,Ve.count));const Jt=Wt-ft;if(Jt<0||Jt===1/0)return;Ee.setup(re,de,ot,ue,at);let Yt,Ht=et;if(at!==null&&(Yt=he.get(at),Ht=q,Ht.setIndex(Yt)),re.isMesh)de.wireframe===!0?(Ae.setLineWidth(de.wireframeLinewidth*We()),Ht.setMode(U.LINES)):Ht.setMode(U.TRIANGLES);else if(re.isLine){let pt=de.linewidth;pt===void 0&&(pt=1),Ae.setLineWidth(pt*We()),re.isLineSegments?Ht.setMode(U.LINES):re.isLineLoop?Ht.setMode(U.LINE_LOOP):Ht.setMode(U.LINE_STRIP)}else re.isPoints?Ht.setMode(U.POINTS):re.isSprite&&Ht.setMode(U.TRIANGLES);if(re.isBatchedMesh)if(re._multiDrawInstances!==null)Vv("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Ht.renderMultiDrawInstances(re._multiDrawStarts,re._multiDrawCounts,re._multiDrawCount,re._multiDrawInstances);else if(Ce.get("WEBGL_multi_draw"))Ht.renderMultiDraw(re._multiDrawStarts,re._multiDrawCounts,re._multiDrawCount);else{const pt=re._multiDrawStarts,ln=re._multiDrawCounts,Zt=re._multiDrawCount,ai=at?he.get(at).bytesPerElement:1,Co=Ne.get(de).currentProgram.getUniforms();for(let ar=0;ar<Zt;ar++)Co.setValue(U,"_gl_DrawID",ar),Ht.render(pt[ar]/ai,ln[ar])}else if(re.isInstancedMesh)Ht.renderInstances(ft,Jt,re.count);else if(ue.isInstancedBufferGeometry){const pt=ue._maxInstanceCount!==void 0?ue._maxInstanceCount:1/0,ln=Math.min(ue.instanceCount,pt);Ht.renderInstances(ft,Jt,ln)}else Ht.render(ft,Jt)};function Kt(F,ie,ue){F.transparent===!0&&F.side===Ds&&F.forceSinglePass===!1?(F.side=ni,F.needsUpdate=!0,Pu(F,ie,ue),F.side=_o,F.needsUpdate=!0,Pu(F,ie,ue),F.side=Ds):Pu(F,ie,ue)}this.compile=function(F,ie,ue=null){ue===null&&(ue=F),x=yt.get(ue),x.init(ie),S.push(x),ue.traverseVisible(function(re){re.isLight&&re.layers.test(ie.layers)&&(x.pushLight(re),re.castShadow&&x.pushShadow(re))}),F!==ue&&F.traverseVisible(function(re){re.isLight&&re.layers.test(ie.layers)&&(x.pushLight(re),re.castShadow&&x.pushShadow(re))}),x.setupLights();const de=new Set;return F.traverse(function(re){if(!(re.isMesh||re.isPoints||re.isLine||re.isSprite))return;const Be=re.material;if(Be)if(Array.isArray(Be))for(let Ke=0;Ke<Be.length;Ke++){const ot=Be[Ke];Kt(ot,ue,re),de.add(ot)}else Kt(Be,ue,re),de.add(Be)}),x=S.pop(),de},this.compileAsync=function(F,ie,ue=null){const de=this.compile(F,ie,ue);return new Promise(re=>{function Be(){if(de.forEach(function(Ke){Ne.get(Ke).currentProgram.isReady()&&de.delete(Ke)}),de.size===0){re(F);return}setTimeout(Be,10)}Ce.get("KHR_parallel_shader_compile")!==null?Be():setTimeout(Be,10)})};let Kn=null;function Ar(F){Kn&&Kn(F)}function $m(){Ks.stop()}function qm(){Ks.start()}const Ks=new G5;Ks.setAnimationLoop(Ar),typeof self<"u"&&Ks.setContext(self),this.setAnimationLoop=function(F){Kn=F,ce.setAnimationLoop(F),F===null?Ks.stop():Ks.start()},ce.addEventListener("sessionstart",$m),ce.addEventListener("sessionend",qm),this.render=function(F,ie){if(ie!==void 0&&ie.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(T===!0)return;if(F.matrixWorldAutoUpdate===!0&&F.updateMatrixWorld(),ie.parent===null&&ie.matrixWorldAutoUpdate===!0&&ie.updateMatrixWorld(),ce.enabled===!0&&ce.isPresenting===!0&&(ce.cameraAutoUpdate===!0&&ce.updateCamera(ie),ie=ce.getCamera()),F.isScene===!0&&F.onBeforeRender(A,F,ie,D),x=yt.get(F,S.length),x.init(ie),S.push(x),ke.multiplyMatrices(ie.projectionMatrix,ie.matrixWorldInverse),ne.setFromProjectionMatrix(ke),ve=this.localClippingEnabled,we=Ie.init(this.clippingPlanes,ve),w=ht.get(F,b.length),w.init(),b.push(w),ce.enabled===!0&&ce.isPresenting===!0){const Be=A.xr.getDepthSensingMesh();Be!==null&&ec(Be,ie,-1/0,A.sortObjects)}ec(F,ie,0,A.sortObjects),w.finish(),A.sortObjects===!0&&w.sort(j,W),qe=ce.enabled===!1||ce.isPresenting===!1||ce.hasDepthSensing()===!1,qe&&gt.addToRenderList(w,F),this.info.render.frame++,we===!0&&Ie.beginShadows();const ue=x.state.shadowsArray;Ze.render(ue,F,ie),we===!0&&Ie.endShadows(),this.info.autoReset===!0&&this.info.reset();const de=w.opaque,re=w.transmissive;if(x.setupLights(),ie.isArrayCamera){const Be=ie.cameras;if(re.length>0)for(let Ke=0,ot=Be.length;Ke<ot;Ke++){const at=Be[Ke];Ma(de,re,F,at)}qe&&gt.render(F);for(let Ke=0,ot=Be.length;Ke<ot;Ke++){const at=Be[Ke];Qm(w,F,at,at.viewport)}}else re.length>0&&Ma(de,re,F,ie),qe&&gt.render(F),Qm(w,F,ie);D!==null&&P===0&&(z.updateMultisampleRenderTarget(D),z.updateRenderTargetMipmap(D)),F.isScene===!0&&F.onAfterRender(A,F,ie),Ee.resetDefaultState(),I=-1,R=null,S.pop(),S.length>0?(x=S[S.length-1],we===!0&&Ie.setGlobalState(A.clippingPlanes,x.state.camera)):x=null,b.pop(),b.length>0?w=b[b.length-1]:w=null};function ec(F,ie,ue,de){if(F.visible===!1)return;if(F.layers.test(ie.layers)){if(F.isGroup)ue=F.renderOrder;else if(F.isLOD)F.autoUpdate===!0&&F.update(ie);else if(F.isLight)x.pushLight(F),F.castShadow&&x.pushShadow(F);else if(F.isSprite){if(!F.frustumCulled||ne.intersectsSprite(F)){de&&De.setFromMatrixPosition(F.matrixWorld).applyMatrix4(ke);const Ke=fe.update(F),ot=F.material;ot.visible&&w.push(F,Ke,ot,ue,De.z,null)}}else if((F.isMesh||F.isLine||F.isPoints)&&(!F.frustumCulled||ne.intersectsObject(F))){const Ke=fe.update(F),ot=F.material;if(de&&(F.boundingSphere!==void 0?(F.boundingSphere===null&&F.computeBoundingSphere(),De.copy(F.boundingSphere.center)):(Ke.boundingSphere===null&&Ke.computeBoundingSphere(),De.copy(Ke.boundingSphere.center)),De.applyMatrix4(F.matrixWorld).applyMatrix4(ke)),Array.isArray(ot)){const at=Ke.groups;for(let Et=0,wt=at.length;Et<wt;Et++){const Ve=at[Et],ft=ot[Ve.materialIndex];ft&&ft.visible&&w.push(F,Ke,ft,ue,De.z,Ve)}}else ot.visible&&w.push(F,Ke,ot,ue,De.z,null)}}const Be=F.children;for(let Ke=0,ot=Be.length;Ke<ot;Ke++)ec(Be[Ke],ie,ue,de)}function Qm(F,ie,ue,de){const re=F.opaque,Be=F.transmissive,Ke=F.transparent;x.setupLightsView(ue),we===!0&&Ie.setGlobalState(A.clippingPlanes,ue),de&&Ae.viewport(k.copy(de)),re.length>0&&Ru(re,ie,ue),Be.length>0&&Ru(Be,ie,ue),Ke.length>0&&Ru(Ke,ie,ue),Ae.buffers.depth.setTest(!0),Ae.buffers.depth.setMask(!0),Ae.buffers.color.setMask(!0),Ae.setPolygonOffset(!1)}function Ma(F,ie,ue,de){if((ue.isScene===!0?ue.overrideMaterial:null)!==null)return;x.state.transmissionRenderTarget[de.id]===void 0&&(x.state.transmissionRenderTarget[de.id]=new bo(1,1,{generateMipmaps:!0,type:Ce.has("EXT_color_buffer_half_float")||Ce.has("EXT_color_buffer_float")?Kh:ms,minFilter:cs,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:rn.workingColorSpace}));const Be=x.state.transmissionRenderTarget[de.id],Ke=de.viewport||k;Be.setSize(Ke.z*A.transmissionResolutionScale,Ke.w*A.transmissionResolutionScale);const ot=A.getRenderTarget();A.setRenderTarget(Be),A.getClearColor(J),Q=A.getClearAlpha(),Q<1&&A.setClearColor(16777215,.5),A.clear(),qe&&gt.render(ue);const at=A.toneMapping;A.toneMapping=vo;const Et=de.viewport;if(de.viewport!==void 0&&(de.viewport=void 0),x.setupLightsView(de),we===!0&&Ie.setGlobalState(A.clippingPlanes,de),Ru(F,ue,de),z.updateMultisampleRenderTarget(Be),z.updateRenderTargetMipmap(Be),Ce.has("WEBGL_multisampled_render_to_texture")===!1){let wt=!1;for(let Ve=0,ft=ie.length;Ve<ft;Ve++){const Wt=ie[Ve],Jt=Wt.object,Yt=Wt.geometry,Ht=Wt.material,pt=Wt.group;if(Ht.side===Ds&&Jt.layers.test(de.layers)){const ln=Ht.side;Ht.side=ni,Ht.needsUpdate=!0,Zm(Jt,ue,de,Yt,Ht,pt),Ht.side=ln,Ht.needsUpdate=!0,wt=!0}}wt===!0&&(z.updateMultisampleRenderTarget(Be),z.updateRenderTargetMipmap(Be))}A.setRenderTarget(ot),A.setClearColor(J,Q),Et!==void 0&&(de.viewport=Et),A.toneMapping=at}function Ru(F,ie,ue){const de=ie.isScene===!0?ie.overrideMaterial:null;for(let re=0,Be=F.length;re<Be;re++){const Ke=F[re],ot=Ke.object,at=Ke.geometry,Et=Ke.group;let wt=Ke.material;wt.allowOverride===!0&&de!==null&&(wt=de),ot.layers.test(ue.layers)&&Zm(ot,ie,ue,at,wt,Et)}}function Zm(F,ie,ue,de,re,Be){F.onBeforeRender(A,ie,ue,de,re,Be),F.modelViewMatrix.multiplyMatrices(ue.matrixWorldInverse,F.matrixWorld),F.normalMatrix.getNormalMatrix(F.modelViewMatrix),re.onBeforeRender(A,ie,ue,de,F,Be),re.transparent===!0&&re.side===Ds&&re.forceSinglePass===!1?(re.side=ni,re.needsUpdate=!0,A.renderBufferDirect(ue,ie,de,re,F,Be),re.side=_o,re.needsUpdate=!0,A.renderBufferDirect(ue,ie,de,re,F,Be),re.side=Ds):A.renderBufferDirect(ue,ie,de,re,F,Be),F.onAfterRender(A,ie,ue,de,re,Be)}function Pu(F,ie,ue){ie.isScene!==!0&&(ie=st);const de=Ne.get(F),re=x.state.lights,Be=x.state.shadowsArray,Ke=re.state.version,ot=tt.getParameters(F,re.state,Be,ie,ue),at=tt.getProgramCacheKey(ot);let Et=de.programs;de.environment=F.isMeshStandardMaterial?ie.environment:null,de.fog=ie.fog,de.envMap=(F.isMeshStandardMaterial?ee:O).get(F.envMap||de.environment),de.envMapRotation=de.environment!==null&&F.envMap===null?ie.environmentRotation:F.envMapRotation,Et===void 0&&(F.addEventListener("dispose",_t),Et=new Map,de.programs=Et);let wt=Et.get(at);if(wt!==void 0){if(de.currentProgram===wt&&de.lightsStateVersion===Ke)return tg(F,ot),wt}else ot.uniforms=tt.getUniforms(F),F.onBeforeCompile(ot,A),wt=tt.acquireProgram(ot,at),Et.set(at,wt),de.uniforms=ot.uniforms;const Ve=de.uniforms;return(!F.isShaderMaterial&&!F.isRawShaderMaterial||F.clipping===!0)&&(Ve.clippingPlanes=Ie.uniform),tg(F,ot),de.needsLights=ng(F),de.lightsStateVersion=Ke,de.needsLights&&(Ve.ambientLightColor.value=re.state.ambient,Ve.lightProbe.value=re.state.probe,Ve.directionalLights.value=re.state.directional,Ve.directionalLightShadows.value=re.state.directionalShadow,Ve.spotLights.value=re.state.spot,Ve.spotLightShadows.value=re.state.spotShadow,Ve.rectAreaLights.value=re.state.rectArea,Ve.ltc_1.value=re.state.rectAreaLTC1,Ve.ltc_2.value=re.state.rectAreaLTC2,Ve.pointLights.value=re.state.point,Ve.pointLightShadows.value=re.state.pointShadow,Ve.hemisphereLights.value=re.state.hemi,Ve.directionalShadowMap.value=re.state.directionalShadowMap,Ve.directionalShadowMatrix.value=re.state.directionalShadowMatrix,Ve.spotShadowMap.value=re.state.spotShadowMap,Ve.spotLightMatrix.value=re.state.spotLightMatrix,Ve.spotLightMap.value=re.state.spotLightMap,Ve.pointShadowMap.value=re.state.pointShadowMap,Ve.pointShadowMatrix.value=re.state.pointShadowMatrix),de.currentProgram=wt,de.uniformsList=null,wt}function eg(F){if(F.uniformsList===null){const ie=F.currentProgram.getUniforms();F.uniformsList=Xv.seqWithValue(ie.seq,F.uniforms)}return F.uniformsList}function tg(F,ie){const ue=Ne.get(F);ue.outputColorSpace=ie.outputColorSpace,ue.batching=ie.batching,ue.batchingColor=ie.batchingColor,ue.instancing=ie.instancing,ue.instancingColor=ie.instancingColor,ue.instancingMorph=ie.instancingMorph,ue.skinning=ie.skinning,ue.morphTargets=ie.morphTargets,ue.morphNormals=ie.morphNormals,ue.morphColors=ie.morphColors,ue.morphTargetsCount=ie.morphTargetsCount,ue.numClippingPlanes=ie.numClippingPlanes,ue.numIntersection=ie.numClipIntersection,ue.vertexAlphas=ie.vertexAlphas,ue.vertexTangents=ie.vertexTangents,ue.toneMapping=ie.toneMapping}function s_(F,ie,ue,de,re){ie.isScene!==!0&&(ie=st),z.resetTextureUnits();const Be=ie.fog,Ke=de.isMeshStandardMaterial?ie.environment:null,ot=D===null?A.outputColorSpace:D.isXRRenderTarget===!0?D.texture.colorSpace:hu,at=(de.isMeshStandardMaterial?ee:O).get(de.envMap||Ke),Et=de.vertexColors===!0&&!!ue.attributes.color&&ue.attributes.color.itemSize===4,wt=!!ue.attributes.tangent&&(!!de.normalMap||de.anisotropy>0),Ve=!!ue.morphAttributes.position,ft=!!ue.morphAttributes.normal,Wt=!!ue.morphAttributes.color;let Jt=vo;de.toneMapped&&(D===null||D.isXRRenderTarget===!0)&&(Jt=A.toneMapping);const Yt=ue.morphAttributes.position||ue.morphAttributes.normal||ue.morphAttributes.color,Ht=Yt!==void 0?Yt.length:0,pt=Ne.get(de),ln=x.state.lights;if(we===!0&&(ve===!0||F!==R)){const xr=F===R&&de.id===I;Ie.setState(de,F,xr)}let Zt=!1;de.version===pt.__version?(pt.needsLights&&pt.lightsStateVersion!==ln.state.version||pt.outputColorSpace!==ot||re.isBatchedMesh&&pt.batching===!1||!re.isBatchedMesh&&pt.batching===!0||re.isBatchedMesh&&pt.batchingColor===!0&&re.colorTexture===null||re.isBatchedMesh&&pt.batchingColor===!1&&re.colorTexture!==null||re.isInstancedMesh&&pt.instancing===!1||!re.isInstancedMesh&&pt.instancing===!0||re.isSkinnedMesh&&pt.skinning===!1||!re.isSkinnedMesh&&pt.skinning===!0||re.isInstancedMesh&&pt.instancingColor===!0&&re.instanceColor===null||re.isInstancedMesh&&pt.instancingColor===!1&&re.instanceColor!==null||re.isInstancedMesh&&pt.instancingMorph===!0&&re.morphTexture===null||re.isInstancedMesh&&pt.instancingMorph===!1&&re.morphTexture!==null||pt.envMap!==at||de.fog===!0&&pt.fog!==Be||pt.numClippingPlanes!==void 0&&(pt.numClippingPlanes!==Ie.numPlanes||pt.numIntersection!==Ie.numIntersection)||pt.vertexAlphas!==Et||pt.vertexTangents!==wt||pt.morphTargets!==Ve||pt.morphNormals!==ft||pt.morphColors!==Wt||pt.toneMapping!==Jt||pt.morphTargetsCount!==Ht)&&(Zt=!0):(Zt=!0,pt.__version=de.version);let ai=pt.currentProgram;Zt===!0&&(ai=Pu(de,ie,re));let Co=!1,ar=!1,Ta=!1;const Qt=ai.getUniforms(),li=pt.uniforms;if(Ae.useProgram(ai.program)&&(Co=!0,ar=!0,Ta=!0),de.id!==I&&(I=de.id,ar=!0),Co||R!==F){Ae.buffers.depth.getReversed()?(le.copy(F.projectionMatrix),nre(le),rre(le),Qt.setValue(U,"projectionMatrix",le)):Qt.setValue(U,"projectionMatrix",F.projectionMatrix),Qt.setValue(U,"viewMatrix",F.matrixWorldInverse);const Qn=Qt.map.cameraPosition;Qn!==void 0&&Qn.setValue(U,He.setFromMatrixPosition(F.matrixWorld)),Pe.logarithmicDepthBuffer&&Qt.setValue(U,"logDepthBufFC",2/(Math.log(F.far+1)/Math.LN2)),(de.isMeshPhongMaterial||de.isMeshToonMaterial||de.isMeshLambertMaterial||de.isMeshBasicMaterial||de.isMeshStandardMaterial||de.isShaderMaterial)&&Qt.setValue(U,"isOrthographic",F.isOrthographicCamera===!0),R!==F&&(R=F,ar=!0,Ta=!0)}if(re.isSkinnedMesh){Qt.setOptional(U,re,"bindMatrix"),Qt.setOptional(U,re,"bindMatrixInverse");const xr=re.skeleton;xr&&(xr.boneTexture===null&&xr.computeBoneTexture(),Qt.setValue(U,"boneTexture",xr.boneTexture,z))}re.isBatchedMesh&&(Qt.setOptional(U,re,"batchingTexture"),Qt.setValue(U,"batchingTexture",re._matricesTexture,z),Qt.setOptional(U,re,"batchingIdTexture"),Qt.setValue(U,"batchingIdTexture",re._indirectTexture,z),Qt.setOptional(U,re,"batchingColorTexture"),re._colorsTexture!==null&&Qt.setValue(U,"batchingColorTexture",re._colorsTexture,z));const ci=ue.morphAttributes;if((ci.position!==void 0||ci.normal!==void 0||ci.color!==void 0)&&At.update(re,ue,ai),(ar||pt.receiveShadow!==re.receiveShadow)&&(pt.receiveShadow=re.receiveShadow,Qt.setValue(U,"receiveShadow",re.receiveShadow)),de.isMeshGouraudMaterial&&de.envMap!==null&&(li.envMap.value=at,li.flipEnvMap.value=at.isCubeTexture&&at.isRenderTargetTexture===!1?-1:1),de.isMeshStandardMaterial&&de.envMap===null&&ie.environment!==null&&(li.envMapIntensity.value=ie.environmentIntensity),ar&&(Qt.setValue(U,"toneMappingExposure",A.toneMappingExposure),pt.needsLights&&o_(li,Ta),Be&&de.fog===!0&&Ue.refreshFogUniforms(li,Be),Ue.refreshMaterialUniforms(li,de,L,se,x.state.transmissionRenderTarget[F.id]),Xv.upload(U,eg(pt),li,z)),de.isShaderMaterial&&de.uniformsNeedUpdate===!0&&(Xv.upload(U,eg(pt),li,z),de.uniformsNeedUpdate=!1),de.isSpriteMaterial&&Qt.setValue(U,"center",re.center),Qt.setValue(U,"modelViewMatrix",re.modelViewMatrix),Qt.setValue(U,"normalMatrix",re.normalMatrix),Qt.setValue(U,"modelMatrix",re.matrixWorld),de.isShaderMaterial||de.isRawShaderMaterial){const xr=de.uniformsGroups;for(let Qn=0,Na=xr.length;Qn<Na;Qn++){const Mi=xr[Qn];X.update(Mi,ai),X.bind(Mi,ai)}}return ai}function o_(F,ie){F.ambientLightColor.needsUpdate=ie,F.lightProbe.needsUpdate=ie,F.directionalLights.needsUpdate=ie,F.directionalLightShadows.needsUpdate=ie,F.pointLights.needsUpdate=ie,F.pointLightShadows.needsUpdate=ie,F.spotLights.needsUpdate=ie,F.spotLightShadows.needsUpdate=ie,F.rectAreaLights.needsUpdate=ie,F.hemisphereLights.needsUpdate=ie}function ng(F){return F.isMeshLambertMaterial||F.isMeshToonMaterial||F.isMeshPhongMaterial||F.isMeshStandardMaterial||F.isShadowMaterial||F.isShaderMaterial&&F.lights===!0}this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return D},this.setRenderTargetTextures=function(F,ie,ue){const de=Ne.get(F);de.__autoAllocateDepthBuffer=F.resolveDepthBuffer===!1,de.__autoAllocateDepthBuffer===!1&&(de.__useRenderToTexture=!1),Ne.get(F.texture).__webglTexture=ie,Ne.get(F.depthTexture).__webglTexture=de.__autoAllocateDepthBuffer?void 0:ue,de.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(F,ie){const ue=Ne.get(F);ue.__webglFramebuffer=ie,ue.__useDefaultFramebuffer=ie===void 0};const a_=U.createFramebuffer();this.setRenderTarget=function(F,ie=0,ue=0){D=F,N=ie,P=ue;let de=!0,re=null,Be=!1,Ke=!1;if(F){const at=Ne.get(F);if(at.__useDefaultFramebuffer!==void 0)Ae.bindFramebuffer(U.FRAMEBUFFER,null),de=!1;else if(at.__webglFramebuffer===void 0)z.setupRenderTarget(F);else if(at.__hasExternalTextures)z.rebindTextures(F,Ne.get(F.texture).__webglTexture,Ne.get(F.depthTexture).__webglTexture);else if(F.depthBuffer){const Ve=F.depthTexture;if(at.__boundDepthTexture!==Ve){if(Ve!==null&&Ne.has(Ve)&&(F.width!==Ve.image.width||F.height!==Ve.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");z.setupDepthRenderbuffer(F)}}const Et=F.texture;(Et.isData3DTexture||Et.isDataArrayTexture||Et.isCompressedArrayTexture)&&(Ke=!0);const wt=Ne.get(F).__webglFramebuffer;F.isWebGLCubeRenderTarget?(Array.isArray(wt[ie])?re=wt[ie][ue]:re=wt[ie],Be=!0):F.samples>0&&z.useMultisampledRTT(F)===!1?re=Ne.get(F).__webglMultisampledFramebuffer:Array.isArray(wt)?re=wt[ue]:re=wt,k.copy(F.viewport),G.copy(F.scissor),K=F.scissorTest}else k.copy($).multiplyScalar(L).floor(),G.copy(oe).multiplyScalar(L).floor(),K=Se;if(ue!==0&&(re=a_),Ae.bindFramebuffer(U.FRAMEBUFFER,re)&&de&&Ae.drawBuffers(F,re),Ae.viewport(k),Ae.scissor(G),Ae.setScissorTest(K),Be){const at=Ne.get(F.texture);U.framebufferTexture2D(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_CUBE_MAP_POSITIVE_X+ie,at.__webglTexture,ue)}else if(Ke){const at=Ne.get(F.texture),Et=ie;U.framebufferTextureLayer(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,at.__webglTexture,ue,Et)}else if(F!==null&&ue!==0){const at=Ne.get(F.texture);U.framebufferTexture2D(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_2D,at.__webglTexture,ue)}I=-1},this.readRenderTargetPixels=function(F,ie,ue,de,re,Be,Ke){if(!(F&&F.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ot=Ne.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&Ke!==void 0&&(ot=ot[Ke]),ot){Ae.bindFramebuffer(U.FRAMEBUFFER,ot);try{const at=F.texture,Et=at.format,wt=at.type;if(!Pe.textureFormatReadable(Et)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Pe.textureTypeReadable(wt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ie>=0&&ie<=F.width-de&&ue>=0&&ue<=F.height-re&&U.readPixels(ie,ue,de,re,ye.convert(Et),ye.convert(wt),Be)}finally{const at=D!==null?Ne.get(D).__webglFramebuffer:null;Ae.bindFramebuffer(U.FRAMEBUFFER,at)}}},this.readRenderTargetPixelsAsync=async function(F,ie,ue,de,re,Be,Ke){if(!(F&&F.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ot=Ne.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&Ke!==void 0&&(ot=ot[Ke]),ot)if(ie>=0&&ie<=F.width-de&&ue>=0&&ue<=F.height-re){Ae.bindFramebuffer(U.FRAMEBUFFER,ot);const at=F.texture,Et=at.format,wt=at.type;if(!Pe.textureFormatReadable(Et))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Pe.textureTypeReadable(wt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Ve=U.createBuffer();U.bindBuffer(U.PIXEL_PACK_BUFFER,Ve),U.bufferData(U.PIXEL_PACK_BUFFER,Be.byteLength,U.STREAM_READ),U.readPixels(ie,ue,de,re,ye.convert(Et),ye.convert(wt),0);const ft=D!==null?Ne.get(D).__webglFramebuffer:null;Ae.bindFramebuffer(U.FRAMEBUFFER,ft);const Wt=U.fenceSync(U.SYNC_GPU_COMMANDS_COMPLETE,0);return U.flush(),await tre(U,Wt,4),U.bindBuffer(U.PIXEL_PACK_BUFFER,Ve),U.getBufferSubData(U.PIXEL_PACK_BUFFER,0,Be),U.deleteBuffer(Ve),U.deleteSync(Wt),Be}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(F,ie=null,ue=0){const de=Math.pow(2,-ue),re=Math.floor(F.image.width*de),Be=Math.floor(F.image.height*de),Ke=ie!==null?ie.x:0,ot=ie!==null?ie.y:0;z.setTexture2D(F,0),U.copyTexSubImage2D(U.TEXTURE_2D,ue,0,0,Ke,ot,re,Be),Ae.unbindTexture()};const l_=U.createFramebuffer(),c_=U.createFramebuffer();this.copyTextureToTexture=function(F,ie,ue=null,de=null,re=0,Be=null){Be===null&&(re!==0?(Vv("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Be=re,re=0):Be=0);let Ke,ot,at,Et,wt,Ve,ft,Wt,Jt;const Yt=F.isCompressedTexture?F.mipmaps[Be]:F.image;if(ue!==null)Ke=ue.max.x-ue.min.x,ot=ue.max.y-ue.min.y,at=ue.isBox3?ue.max.z-ue.min.z:1,Et=ue.min.x,wt=ue.min.y,Ve=ue.isBox3?ue.min.z:0;else{const ci=Math.pow(2,-re);Ke=Math.floor(Yt.width*ci),ot=Math.floor(Yt.height*ci),F.isDataArrayTexture?at=Yt.depth:F.isData3DTexture?at=Math.floor(Yt.depth*ci):at=1,Et=0,wt=0,Ve=0}de!==null?(ft=de.x,Wt=de.y,Jt=de.z):(ft=0,Wt=0,Jt=0);const Ht=ye.convert(ie.format),pt=ye.convert(ie.type);let ln;ie.isData3DTexture?(z.setTexture3D(ie,0),ln=U.TEXTURE_3D):ie.isDataArrayTexture||ie.isCompressedArrayTexture?(z.setTexture2DArray(ie,0),ln=U.TEXTURE_2D_ARRAY):(z.setTexture2D(ie,0),ln=U.TEXTURE_2D),U.pixelStorei(U.UNPACK_FLIP_Y_WEBGL,ie.flipY),U.pixelStorei(U.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie.premultiplyAlpha),U.pixelStorei(U.UNPACK_ALIGNMENT,ie.unpackAlignment);const Zt=U.getParameter(U.UNPACK_ROW_LENGTH),ai=U.getParameter(U.UNPACK_IMAGE_HEIGHT),Co=U.getParameter(U.UNPACK_SKIP_PIXELS),ar=U.getParameter(U.UNPACK_SKIP_ROWS),Ta=U.getParameter(U.UNPACK_SKIP_IMAGES);U.pixelStorei(U.UNPACK_ROW_LENGTH,Yt.width),U.pixelStorei(U.UNPACK_IMAGE_HEIGHT,Yt.height),U.pixelStorei(U.UNPACK_SKIP_PIXELS,Et),U.pixelStorei(U.UNPACK_SKIP_ROWS,wt),U.pixelStorei(U.UNPACK_SKIP_IMAGES,Ve);const Qt=F.isDataArrayTexture||F.isData3DTexture,li=ie.isDataArrayTexture||ie.isData3DTexture;if(F.isDepthTexture){const ci=Ne.get(F),xr=Ne.get(ie),Qn=Ne.get(ci.__renderTarget),Na=Ne.get(xr.__renderTarget);Ae.bindFramebuffer(U.READ_FRAMEBUFFER,Qn.__webglFramebuffer),Ae.bindFramebuffer(U.DRAW_FRAMEBUFFER,Na.__webglFramebuffer);for(let Mi=0;Mi<at;Mi++)Qt&&(U.framebufferTextureLayer(U.READ_FRAMEBUFFER,U.COLOR_ATTACHMENT0,Ne.get(F).__webglTexture,re,Ve+Mi),U.framebufferTextureLayer(U.DRAW_FRAMEBUFFER,U.COLOR_ATTACHMENT0,Ne.get(ie).__webglTexture,Be,Jt+Mi)),U.blitFramebuffer(Et,wt,Ke,ot,ft,Wt,Ke,ot,U.DEPTH_BUFFER_BIT,U.NEAREST);Ae.bindFramebuffer(U.READ_FRAMEBUFFER,null),Ae.bindFramebuffer(U.DRAW_FRAMEBUFFER,null)}else if(re!==0||F.isRenderTargetTexture||Ne.has(F)){const ci=Ne.get(F),xr=Ne.get(ie);Ae.bindFramebuffer(U.READ_FRAMEBUFFER,l_),Ae.bindFramebuffer(U.DRAW_FRAMEBUFFER,c_);for(let Qn=0;Qn<at;Qn++)Qt?U.framebufferTextureLayer(U.READ_FRAMEBUFFER,U.COLOR_ATTACHMENT0,ci.__webglTexture,re,Ve+Qn):U.framebufferTexture2D(U.READ_FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_2D,ci.__webglTexture,re),li?U.framebufferTextureLayer(U.DRAW_FRAMEBUFFER,U.COLOR_ATTACHMENT0,xr.__webglTexture,Be,Jt+Qn):U.framebufferTexture2D(U.DRAW_FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_2D,xr.__webglTexture,Be),re!==0?U.blitFramebuffer(Et,wt,Ke,ot,ft,Wt,Ke,ot,U.COLOR_BUFFER_BIT,U.NEAREST):li?U.copyTexSubImage3D(ln,Be,ft,Wt,Jt+Qn,Et,wt,Ke,ot):U.copyTexSubImage2D(ln,Be,ft,Wt,Et,wt,Ke,ot);Ae.bindFramebuffer(U.READ_FRAMEBUFFER,null),Ae.bindFramebuffer(U.DRAW_FRAMEBUFFER,null)}else li?F.isDataTexture||F.isData3DTexture?U.texSubImage3D(ln,Be,ft,Wt,Jt,Ke,ot,at,Ht,pt,Yt.data):ie.isCompressedArrayTexture?U.compressedTexSubImage3D(ln,Be,ft,Wt,Jt,Ke,ot,at,Ht,Yt.data):U.texSubImage3D(ln,Be,ft,Wt,Jt,Ke,ot,at,Ht,pt,Yt):F.isDataTexture?U.texSubImage2D(U.TEXTURE_2D,Be,ft,Wt,Ke,ot,Ht,pt,Yt.data):F.isCompressedTexture?U.compressedTexSubImage2D(U.TEXTURE_2D,Be,ft,Wt,Yt.width,Yt.height,Ht,Yt.data):U.texSubImage2D(U.TEXTURE_2D,Be,ft,Wt,Ke,ot,Ht,pt,Yt);U.pixelStorei(U.UNPACK_ROW_LENGTH,Zt),U.pixelStorei(U.UNPACK_IMAGE_HEIGHT,ai),U.pixelStorei(U.UNPACK_SKIP_PIXELS,Co),U.pixelStorei(U.UNPACK_SKIP_ROWS,ar),U.pixelStorei(U.UNPACK_SKIP_IMAGES,Ta),Be===0&&ie.generateMipmaps&&U.generateMipmap(ln),Ae.unbindTexture()},this.copyTextureToTexture3D=function(F,ie,ue=null,de=null,re=0){return Vv('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(F,ie,ue,de,re)},this.initRenderTarget=function(F){Ne.get(F).__webglFramebuffer===void 0&&z.setupRenderTarget(F)},this.initTexture=function(F){F.isCubeTexture?z.setTextureCube(F,0):F.isData3DTexture?z.setTexture3D(F,0):F.isDataArrayTexture||F.isCompressedArrayTexture?z.setTexture2DArray(F,0):z.setTexture2D(F,0),Ae.unbindTexture()},this.resetState=function(){N=0,P=0,D=null,Ae.reset(),Ee.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return us}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=rn._getDrawingBufferColorSpace(e),t.unpackColorSpace=rn._getUnpackColorSpace()}}const pue=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:_M,AddEquation:al,AddOperation:_4,AdditiveAnimationBlendMode:NM,AdditiveBlending:qA,AgXToneMapping:C4,AlphaFormat:EM,AlwaysCompare:H4,AlwaysDepth:H0,AlwaysStencilFunc:tE,AmbientLight:R5,AnimationAction:U5,AnimationClip:Rh,AnimationLoader:Rie,AnimationMixer:rse,AnimationObjectGroup:tse,AnimationUtils:Cie,ArcCurve:i5,ArrayCamera:O5,ArrowHelper:Ese,AttachedBindMode:eE,Audio:F5,AudioAnalyser:Wie,AudioContext:rT,AudioListener:Hie,AudioLoader:jie,AxesHelper:Cse,BackSide:ni,BasicDepthPacking:D4,BasicShadowMap:t4,BatchedMesh:t5,Bone:Fw,BooleanKeyframeTrack:Mu,Box2:dse,Box3:_r,Box3Helper:Sse,BoxGeometry:Cu,BoxHelper:bse,BufferAttribute:an,BufferGeometry:Pt,BufferGeometryLoader:L5,ByteType:bM,Cache:Zo,Camera:jm,CameraHelper:_se,CanvasTexture:Jre,CapsuleGeometry:Gw,CatmullRomCurve3:s5,CineonToneMapping:A4,CircleGeometry:Vw,ClampToEdgeWrapping:ji,Clock:iT,Color:Ye,ColorKeyframeTrack:qM,ColorManagement:rn,CompressedArrayTexture:Xre,CompressedCubeTexture:Kre,CompressedTexture:zw,CompressedTextureLoader:Pie,ConeGeometry:Vm,ConstantAlphaFactor:v4,ConstantColorFactor:g4,Controls:Tse,CubeCamera:$4,CubeReflectionMapping:ya,CubeRefractionMapping:Fl,CubeTexture:Um,CubeTextureLoader:Iie,CubeUVReflectionMapping:Xh,CubicBezierCurve:HM,CubicBezierCurve3:o5,CubicInterpolant:A5,CullFaceBack:$A,CullFaceFront:e4,CullFaceFrontBack:ine,CullFaceNone:ZU,Curve:Xs,CurvePath:l5,CustomBlending:n4,CustomToneMapping:E4,CylinderGeometry:Gm,Cylindrical:use,Data3DTexture:Lw,DataArrayTexture:Fm,DataTexture:yo,DataTextureLoader:Die,DataUtils:vre,DecrementStencilOp:mne,DecrementWrapStencilOp:xne,DefaultLoadingManager:M5,DepthArrayTexture:Yre,DepthFormat:Sh,DepthStencilFormat:Ah,DepthTexture:Hw,DetachedBindMode:T4,DirectionalLight:nT,DirectionalLightHelper:wse,DiscreteInterpolant:E5,DodecahedronGeometry:Ww,DoubleSide:Ds,DstAlphaFactor:d4,DstColorFactor:f4,DynamicCopyUsage:Ine,DynamicDrawUsage:Cne,DynamicReadUsage:Nne,EdgesGeometry:r5,EllipseCurve:Xw,EqualCompare:F4,EqualDepth:V0,EqualStencilFunc:_ne,EquirectangularReflectionMapping:Zp,EquirectangularRefractionMapping:em,Euler:Wi,EventDispatcher:Eo,ExtrudeGeometry:Kw,FileLoader:Xi,Float16BufferAttribute:Ere,Float32BufferAttribute:dt,FloatType:wi,Fog:Ow,FogExp2:kw,FramebufferTexture:Wre,FrontSide:_o,Frustum:Jh,FrustumArray:jw,GLBufferAttribute:cse,GLSL1:Bne,GLSL3:nE,GreaterCompare:j4,GreaterDepth:X0,GreaterEqualCompare:z4,GreaterEqualDepth:W0,GreaterEqualStencilFunc:Ene,GreaterStencilFunc:Sne,GridHelper:vse,Group:Qo,HalfFloatType:Kh,HemisphereLight:N5,HemisphereLightHelper:xse,IcosahedronGeometry:Jw,ImageBitmapLoader:k5,ImageLoader:cm,ImageUtils:X4,IncrementStencilOp:pne,IncrementWrapStencilOp:gne,InstancedBufferAttribute:fu,InstancedBufferGeometry:B5,InstancedInterleavedBuffer:lse,InstancedMesh:FM,Int16BufferAttribute:Sre,Int32BufferAttribute:Are,Int8BufferAttribute:wre,IntType:Mw,InterleavedBuffer:zm,InterleavedBufferAttribute:Ul,Interpolant:$h,InterpolateDiscrete:Eh,InterpolateLinear:Ch,InterpolateSmooth:Gv,InterpolationSamplingMode:One,InterpolationSamplingType:kne,InvertStencilOp:vne,KeepStencilOp:Nc,KeyframeTrack:xs,LOD:e5,LatheGeometry:Yw,Layers:qc,LessCompare:O4,LessDepth:G0,LessEqualCompare:PM,LessEqualDepth:du,LessEqualStencilFunc:bne,LessStencilFunc:wne,Light:Zl,LightProbe:D5,Line:_a,Line3:hse,LineBasicMaterial:Wr,LineCurve:GM,LineCurve3:a5,LineDashedMaterial:_5,LineLoop:jM,LineSegments:Ws,LinearFilter:Vn,LinearInterpolant:$M,LinearMipMapLinearFilter:lne,LinearMipMapNearestFilter:ane,LinearMipmapLinearFilter:cs,LinearMipmapNearestFilter:Jd,LinearSRGBColorSpace:hu,LinearToneMapping:b4,LinearTransfer:nm,Loader:Xr,LoaderUtils:Nl,LoadingManager:QM,LoopOnce:N4,LoopPingPong:P4,LoopRepeat:R4,MOUSE:Mc,Material:ir,MaterialLoader:n_,MathUtils:G4,Matrix2:lT,Matrix3:Bt,Matrix4:St,MaxEquation:o4,Mesh:Wn,MeshBasicMaterial:Ui,MeshDepthMaterial:KM,MeshDistanceMaterial:JM,MeshLambertMaterial:y5,MeshMatcapMaterial:w5,MeshNormalMaterial:v5,MeshPhongMaterial:g5,MeshPhysicalMaterial:gs,MeshStandardMaterial:Km,MeshToonMaterial:x5,MinEquation:s4,MirroredRepeatWrapping:wh,MixOperation:w4,MultiplyBlending:ZA,MultiplyOperation:km,NearestFilter:pr,NearestMipMapLinearFilter:one,NearestMipMapNearestFilter:sne,NearestMipmapLinearFilter:kc,NearestMipmapNearestFilter:Cw,NeutralToneMapping:M4,NeverCompare:k4,NeverDepth:z0,NeverStencilFunc:yne,NoBlending:ia,NoColorSpace:Xo,NoToneMapping:vo,NormalAnimationBlendMode:Dw,NormalBlending:Yc,NotEqualCompare:U4,NotEqualDepth:K0,NotEqualStencilFunc:Ane,NumberKeyframeTrack:mu,Object3D:en,ObjectLoader:Oie,ObjectSpaceNormalMap:L4,OctahedronGeometry:Wm,OneFactor:l4,OneMinusConstantAlphaFactor:y4,OneMinusConstantColorFactor:x4,OneMinusDstAlphaFactor:h4,OneMinusDstColorFactor:p4,OneMinusSrcAlphaFactor:U0,OneMinusSrcColorFactor:u4,OrthographicCamera:oa,PCFShadowMap:Aw,PCFSoftShadowMap:pp,PMREMGenerator:uE,Path:Ay,PerspectiveCamera:Un,Plane:Wo,PlaneGeometry:Yh,PlaneHelper:Ase,PointLight:tT,PointLightHelper:mse,Points:UM,PointsMaterial:Uw,PolarGridHelper:yse,PolyhedronGeometry:Ql,PositionalAudio:Vie,PropertyBinding:nn,PropertyMixer:j5,QuadraticBezierCurve:VM,QuadraticBezierCurve3:WM,Quaternion:mr,QuaternionKeyframeTrack:gu,QuaternionLinearInterpolant:C5,RED_GREEN_RGTC2_Format:vy,RED_RGTC1_Format:TM,REVISION:Lm,RGBADepthPacking:B4,RGBAFormat:Fr,RGBAIntegerFormat:Iw,RGBA_ASTC_10x10_Format:hy,RGBA_ASTC_10x5_Format:cy,RGBA_ASTC_10x6_Format:uy,RGBA_ASTC_10x8_Format:dy,RGBA_ASTC_12x10_Format:fy,RGBA_ASTC_12x12_Format:py,RGBA_ASTC_4x4_Format:ty,RGBA_ASTC_5x4_Format:ny,RGBA_ASTC_5x5_Format:ry,RGBA_ASTC_6x5_Format:iy,RGBA_ASTC_6x6_Format:sy,RGBA_ASTC_8x5_Format:oy,RGBA_ASTC_8x6_Format:ay,RGBA_ASTC_8x8_Format:ly,RGBA_BPTC_Format:yp,RGBA_ETC2_EAC_Format:ey,RGBA_PVRTC_2BPPV1_Format:q0,RGBA_PVRTC_4BPPV1_Format:$0,RGBA_S3TC_DXT1_Format:gp,RGBA_S3TC_DXT3_Format:xp,RGBA_S3TC_DXT5_Format:vp,RGBDepthPacking:une,RGBFormat:CM,RGBIntegerFormat:cne,RGB_BPTC_SIGNED_Format:my,RGB_BPTC_UNSIGNED_Format:gy,RGB_ETC1_Format:Q0,RGB_ETC2_Format:Z0,RGB_PVRTC_2BPPV1_Format:Y0,RGB_PVRTC_4BPPV1_Format:J0,RGB_S3TC_DXT1_Format:mp,RGDepthPacking:dne,RGFormat:MM,RGIntegerFormat:Pw,RawShaderMaterial:m5,Ray:Eu,Raycaster:z5,RectAreaLight:P5,RedFormat:Rw,RedIntegerFormat:Om,ReinhardToneMapping:S4,RenderTarget:Bw,RenderTarget3D:ise,RenderTargetArray:sse,RepeatWrapping:jl,ReplaceStencilOp:fne,ReverseSubtractEquation:i4,RingGeometry:$w,SIGNED_RED_GREEN_RGTC2_Format:yy,SIGNED_RED_RGTC1_Format:xy,SRGBColorSpace:mi,SRGBTransfer:gn,Scene:LM,ShaderChunk:zt,ShaderLib:Ps,ShaderMaterial:Gs,ShadowMaterial:p5,Shape:Qc,ShapeGeometry:qw,ShapePath:Mse,ShapeUtils:Ls,ShortType:SM,Skeleton:Hm,SkeletonHelper:pse,SkinnedMesh:OM,Source:gl,Sphere:gr,SphereGeometry:Xm,Spherical:lE,SphericalHarmonics3:I5,SplineCurve:XM,SpotLight:eT,SpotLightHelper:fse,Sprite:Z4,SpriteMaterial:kM,SrcAlphaFactor:j0,SrcAlphaSaturateFactor:m4,SrcColorFactor:c4,StaticCopyUsage:Pne,StaticDrawUsage:rm,StaticReadUsage:Tne,StereoCamera:Uie,StreamCopyUsage:Dne,StreamDrawUsage:Mne,StreamReadUsage:Rne,StringKeyframeTrack:Tu,SubtractEquation:r4,SubtractiveBlending:QA,TOUCH:Tc,TangentSpaceNormalMap:ql,TetrahedronGeometry:Qw,Texture:Nn,TextureLoader:T5,TextureUtils:Dse,TimestampQuery:Lne,TorusGeometry:Zw,TorusKnotGeometry:e_,Triangle:xi,TriangleFanDrawMode:wy,TriangleStripDrawMode:RM,TrianglesDrawMode:I4,TubeGeometry:t_,UVMapping:Ew,Uint16BufferAttribute:DM,Uint32BufferAttribute:BM,Uint8BufferAttribute:_re,Uint8ClampedBufferAttribute:bre,Uniform:aT,UniformsGroup:ase,UniformsLib:Je,UniformsUtils:Y4,UnsignedByteType:ms,UnsignedInt248Type:bh,UnsignedInt5999Type:AM,UnsignedIntType:wa,UnsignedShort4444Type:Tw,UnsignedShort5551Type:Nw,UnsignedShortType:_h,VSMShadowMap:Ms,Vector2:_e,Vector3:H,Vector4:sn,VectorKeyframeTrack:xu,VideoFrameTexture:Vre,VideoTexture:n5,WebGL3DRenderTarget:lre,WebGLArrayRenderTarget:are,WebGLCoordinateSystem:us,WebGLCubeRenderTarget:q4,WebGLRenderTarget:bo,WebGLRenderer:Y5,WebGLUtils:J5,WebGPUCoordinateSystem:im,WebXRController:Wv,WireframeGeometry:f5,WrapAroundEnding:tm,ZeroCurvatureEnding:Oc,ZeroFactor:a4,ZeroSlopeEnding:Fc,ZeroStencilOp:hne,createCanvasElement:W4},Symbol.toStringTag,{value:"Module"}));var $5={exports:{}},Nu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Nu.ConcurrentRoot=1;Nu.ContinuousEventPriority=4;Nu.DefaultEventPriority=16;Nu.DiscreteEventPriority=1;Nu.IdleEventPriority=536870912;Nu.LegacyRoot=0;$5.exports=Nu;var Dd=$5.exports;function mue(n){let e;const t=new Set,r=(u,d)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const m=e;e=d?f:Object.assign({},e,f),t.forEach(g=>g(e,m))}},i=()=>e,s=(u,d=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let m=d(e);function g(){const v=d(e);if(!f(m,v)){const y=m;u(m=v,y)}}return t.add(g),()=>t.delete(g)},c={setState:r,getState:i,subscribe:(u,d,f)=>d||f?s(u,d,f):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(r,i,c),c}const gue=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),SD=gue?C.useEffect:C.useLayoutEffect;function xue(n){const e=typeof n=="function"?mue(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=C.useReducer(w=>w+1,0),o=e.getState(),a=C.useRef(o),c=C.useRef(r),u=C.useRef(i),d=C.useRef(!1),f=C.useRef();f.current===void 0&&(f.current=r(o));let m,g=!1;(a.current!==o||c.current!==r||u.current!==i||d.current)&&(m=r(o),g=!i(f.current,m)),SD(()=>{g&&(f.current=m),a.current=o,c.current=r,u.current=i,d.current=!1});const v=C.useRef(o);SD(()=>{const w=()=>{try{const b=e.getState(),S=c.current(b);u.current(f.current,S)||(a.current=b,f.current=S,s())}catch{d.current=!0,s()}},x=e.subscribe(w);return e.getState()!==v.current&&w(),x},[]);const y=g?m:f.current;return C.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}const vue=n=>typeof n=="object"&&typeof n.then=="function",Uc=[];function q5(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function Q5(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of Uc)if(q5(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Uc.indexOf(i);s!==-1&&Uc.splice(s,1)},promise:(vue(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Uc.push(i),!t)throw i.promise}const yue=(n,e,t)=>Q5(n,e,!1,t),wue=(n,e,t)=>void Q5(n,e,!0,t),_ue=n=>{if(n===void 0||n.length===0)Uc.splice(0,Uc.length);else{const e=Uc.find(t=>q5(n,t.keys,t.equal));e&&e.remove()}};var Z5={exports:{}},e1={exports:{}},t1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AD;function bue(){return AD||(AD=1,function(n){function e(L,j){var W=L.length;L.push(j);e:for(;0<W;){var $=W-1>>>1,oe=L[$];if(0<i(oe,j))L[$]=j,L[W]=oe,W=$;else break e}}function t(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var j=L[0],W=L.pop();if(W!==j){L[0]=W;e:for(var $=0,oe=L.length,Se=oe>>>1;$<Se;){var ne=2*($+1)-1,we=L[ne],ve=ne+1,le=L[ve];if(0>i(we,W))ve<oe&&0>i(le,we)?(L[$]=le,L[ve]=W,$=ve):(L[$]=we,L[ne]=W,$=ne);else if(ve<oe&&0>i(le,W))L[$]=le,L[ve]=W,$=ve;else break e}}return j}function i(L,j){var W=L.sortIndex-j.sortIndex;return W!==0?W:L.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,f=null,m=3,g=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var j=t(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=L)r(u),j.sortIndex=j.expirationTime,e(c,j);else break;j=t(u)}}function A(L){if(y=!1,S(L),!v)if(t(c)!==null)v=!0,Y(T);else{var j=t(u);j!==null&&se(A,j.startTime-L)}}function T(L,j){v=!1,y&&(y=!1,x(D),D=-1),g=!0;var W=m;try{for(S(j),f=t(c);f!==null&&(!(f.expirationTime>j)||L&&!k());){var $=f.callback;if(typeof $=="function"){f.callback=null,m=f.priorityLevel;var oe=$(f.expirationTime<=j);j=n.unstable_now(),typeof oe=="function"?f.callback=oe:f===t(c)&&r(c),S(j)}else r(c);f=t(c)}if(f!==null)var Se=!0;else{var ne=t(u);ne!==null&&se(A,ne.startTime-j),Se=!1}return Se}finally{f=null,m=W,g=!1}}var N=!1,P=null,D=-1,I=5,R=-1;function k(){return!(n.unstable_now()-R<I)}function G(){if(P!==null){var L=n.unstable_now();R=L;var j=!0;try{j=P(!0,L)}finally{j?K():(N=!1,P=null)}}else N=!1}var K;if(typeof b=="function")K=function(){b(G)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,Q=J.port2;J.port1.onmessage=G,K=function(){Q.postMessage(null)}}else K=function(){w(G,0)};function Y(L){P=L,N||(N=!0,K())}function se(L,j){D=w(function(){L(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){v||g||(v=!0,Y(T))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(L){switch(m){case 1:case 2:case 3:var j=3;break;default:j=m}var W=m;m=j;try{return L()}finally{m=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,j){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=m;m=L;try{return j()}finally{m=W}},n.unstable_scheduleCallback=function(L,j,W){var $=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?$+W:$):W=$,L){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=W+oe,L={id:d++,callback:j,priorityLevel:L,startTime:W,expirationTime:oe,sortIndex:-1},W>$?(L.sortIndex=W,e(u,L),t(c)===null&&L===t(u)&&(y?(x(D),D=-1):y=!0,se(A,W-$))):(L.sortIndex=oe,e(c,L),v||g||(v=!0,Y(T))),L},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(L){var j=m;return function(){var W=m;m=j;try{return L.apply(this,arguments)}finally{m=W}}}}(t1)),t1}var ED;function Sue(){return ED||(ED=1,e1.exports=bue()),e1.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aue=function(e){var t={},r=C,i=Sue(),s=Object.assign;function o(h){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+h,_=1;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),T=Symbol.iterator;function N(h){return h===null||typeof h!="object"?null:(h=T&&h[T]||h["@@iterator"],typeof h=="function"?h:null)}function P(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case d:return"Fragment";case u:return"Portal";case m:return"Profiler";case f:return"StrictMode";case w:return"Suspense";case x:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case v:return(h.displayName||"Context")+".Consumer";case g:return(h._context.displayName||"Context")+".Provider";case y:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case b:return p=h.displayName||null,p!==null?p:P(h.type)||"Memo";case S:p=h._payload,h=h._init;try{return P(h(p))}catch{}}return null}function D(h){var p=h.type;switch(h.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=p.render,h=h.displayName||h.name||"",p.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(p);case 8:return p===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function I(h){var p=h,_=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,p.flags&4098&&(_=p.return),h=p.return;while(h)}return p.tag===3?_:null}function R(h){if(I(h)!==h)throw Error(o(188))}function k(h){var p=h.alternate;if(!p){if(p=I(h),p===null)throw Error(o(188));return p!==h?null:h}for(var _=h,E=p;;){var M=_.return;if(M===null)break;var B=M.alternate;if(B===null){if(E=M.return,E!==null){_=E;continue}break}if(M.child===B.child){for(B=M.child;B;){if(B===_)return R(M),h;if(B===E)return R(M),p;B=B.sibling}throw Error(o(188))}if(_.return!==E.return)_=M,E=B;else{for(var V=!1,Z=M.child;Z;){if(Z===_){V=!0,_=M,E=B;break}if(Z===E){V=!0,E=M,_=B;break}Z=Z.sibling}if(!V){for(Z=B.child;Z;){if(Z===_){V=!0,_=B,E=M;break}if(Z===E){V=!0,E=B,_=M;break}Z=Z.sibling}if(!V)throw Error(o(189))}}if(_.alternate!==E)throw Error(o(190))}if(_.tag!==3)throw Error(o(188));return _.stateNode.current===_?h:p}function G(h){return h=k(h),h!==null?K(h):null}function K(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var p=K(h);if(p!==null)return p;h=h.sibling}return null}function J(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var p=J(h);if(p!==null)return p}h=h.sibling}return null}var Q=Array.isArray,Y=e.getPublicInstance,se=e.getRootHostContext,L=e.getChildHostContext,j=e.prepareForCommit,W=e.resetAfterCommit,$=e.createInstance,oe=e.appendInitialChild,Se=e.finalizeInitialChildren,ne=e.prepareUpdate,we=e.shouldSetTextContent,ve=e.createTextInstance,le=e.scheduleTimeout,ke=e.cancelTimeout,He=e.noTimeout,De=e.isPrimaryRenderer,st=e.supportsMutation,qe=e.supportsPersistence,We=e.supportsHydration,U=e.getInstanceFromNode,Oe=e.preparePortalMount,Ce=e.getCurrentEventPriority,Pe=e.detachDeletedInstance,Ae=e.supportsMicrotasks,ze=e.scheduleMicrotask,Ne=e.supportsTestSelectors,z=e.findFiberRoot,O=e.getBoundingRect,ee=e.getTextContent,he=e.isHiddenSubtree,Me=e.matchAccessibilityRole,fe=e.setFocusIfFocusable,tt=e.setupIntersectionObserver,Ue=e.appendChild,ht=e.appendChildToContainer,yt=e.commitTextUpdate,Ie=e.commitMount,Ze=e.commitUpdate,gt=e.insertBefore,At=e.insertInContainerBefore,et=e.removeChild,q=e.removeChildFromContainer,ye=e.resetTextContent,Ee=e.hideInstance,X=e.hideTextInstance,be=e.unhideInstance,ce=e.unhideTextInstance,xe=e.clearContainer,Xe=e.cloneInstance,Ge=e.createContainerChildSet,_t=e.appendChildToContainerChildSet,tn=e.finalizeContainerChildren,bn=e.replaceContainerChildren,Kt=e.cloneHiddenInstance,Kn=e.cloneHiddenTextInstance,Ar=e.canHydrateInstance,$m=e.canHydrateTextInstance,qm=e.canHydrateSuspenseInstance,Ks=e.isSuspenseInstancePending,ec=e.isSuspenseInstanceFallback,Qm=e.registerSuspenseInstanceRetry,Ma=e.getNextHydratableSibling,Ru=e.getFirstHydratableChild,Zm=e.getFirstHydratableChildWithinContainer,Pu=e.getFirstHydratableChildWithinSuspenseInstance,eg=e.hydrateInstance,tg=e.hydrateTextInstance,s_=e.hydrateSuspenseInstance,o_=e.getNextHydratableInstanceAfterSuspenseInstance,ng=e.commitHydratedContainer,a_=e.commitHydratedSuspenseInstance,l_=e.clearSuspenseBoundary,c_=e.clearSuspenseBoundaryFromContainer,F=e.shouldDeleteUnhydratedTailInstances,ie=e.didNotMatchHydratedContainerTextInstance,ue=e.didNotMatchHydratedTextInstance,de;function re(h){if(de===void 0)try{throw Error()}catch(_){var p=_.stack.trim().match(/\n( *(at )?)/);de=p&&p[1]||""}return`
`+de+h}var Be=!1;function Ke(h,p){if(!h||Be)return"";Be=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Fe){var E=Fe}Reflect.construct(h,[],p)}else{try{p.call()}catch(Fe){E=Fe}h.call(p.prototype)}else{try{throw Error()}catch(Fe){E=Fe}h()}}catch(Fe){if(Fe&&E&&typeof Fe.stack=="string"){for(var M=Fe.stack.split(`
`),B=E.stack.split(`
`),V=M.length-1,Z=B.length-1;1<=V&&0<=Z&&M[V]!==B[Z];)Z--;for(;1<=V&&0<=Z;V--,Z--)if(M[V]!==B[Z]){if(V!==1||Z!==1)do if(V--,Z--,0>Z||M[V]!==B[Z]){var ge=`
`+M[V].replace(" at new "," at ");return h.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",h.displayName)),ge}while(1<=V&&0<=Z);break}}}finally{Be=!1,Error.prepareStackTrace=_}return(h=h?h.displayName||h.name:"")?re(h):""}var ot=Object.prototype.hasOwnProperty,at=[],Et=-1;function wt(h){return{current:h}}function Ve(h){0>Et||(h.current=at[Et],at[Et]=null,Et--)}function ft(h,p){Et++,at[Et]=h.current,h.current=p}var Wt={},Jt=wt(Wt),Yt=wt(!1),Ht=Wt;function pt(h,p){var _=h.type.contextTypes;if(!_)return Wt;var E=h.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===p)return E.__reactInternalMemoizedMaskedChildContext;var M={},B;for(B in _)M[B]=p[B];return E&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=p,h.__reactInternalMemoizedMaskedChildContext=M),M}function ln(h){return h=h.childContextTypes,h!=null}function Zt(){Ve(Yt),Ve(Jt)}function ai(h,p,_){if(Jt.current!==Wt)throw Error(o(168));ft(Jt,p),ft(Yt,_)}function Co(h,p,_){var E=h.stateNode;if(p=p.childContextTypes,typeof E.getChildContext!="function")return _;E=E.getChildContext();for(var M in E)if(!(M in p))throw Error(o(108,D(h)||"Unknown",M));return s({},_,E)}function ar(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Wt,Ht=Jt.current,ft(Jt,h),ft(Yt,Yt.current),!0}function Ta(h,p,_){var E=h.stateNode;if(!E)throw Error(o(169));_?(h=Co(h,p,Ht),E.__reactInternalMemoizedMergedChildContext=h,Ve(Yt),Ve(Jt),ft(Jt,h)):Ve(Yt),ft(Yt,_)}var Qt=Math.clz32?Math.clz32:xr,li=Math.log,ci=Math.LN2;function xr(h){return h>>>=0,h===0?32:31-(li(h)/ci|0)|0}var Qn=64,Na=4194304;function Mi(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function rg(h,p){var _=h.pendingLanes;if(_===0)return 0;var E=0,M=h.suspendedLanes,B=h.pingedLanes,V=_&268435455;if(V!==0){var Z=V&~M;Z!==0?E=Mi(Z):(B&=V,B!==0&&(E=Mi(B)))}else V=_&~M,V!==0?E=Mi(V):B!==0&&(E=Mi(B));if(E===0)return 0;if(p!==0&&p!==E&&!(p&M)&&(M=E&-E,B=p&-p,M>=B||M===16&&(B&4194240)!==0))return p;if(E&4&&(E|=_&16),p=h.entangledLanes,p!==0)for(h=h.entanglements,p&=E;0<p;)_=31-Qt(p),M=1<<_,E|=h[_],p&=~M;return E}function Sz(h,p){switch(h){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Az(h,p){for(var _=h.suspendedLanes,E=h.pingedLanes,M=h.expirationTimes,B=h.pendingLanes;0<B;){var V=31-Qt(B),Z=1<<V,ge=M[V];ge===-1?(!(Z&_)||Z&E)&&(M[V]=Sz(Z,p)):ge<=p&&(h.expiredLanes|=Z),B&=~Z}}function u_(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function d_(h){for(var p=[],_=0;31>_;_++)p.push(h);return p}function Qh(h,p,_){h.pendingLanes|=p,p!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,p=31-Qt(p),h[p]=_}function Ez(h,p){var _=h.pendingLanes&~p;h.pendingLanes=p,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=p,h.mutableReadLanes&=p,h.entangledLanes&=p,p=h.entanglements;var E=h.eventTimes;for(h=h.expirationTimes;0<_;){var M=31-Qt(_),B=1<<M;p[M]=0,E[M]=-1,h[M]=-1,_&=~B}}function h_(h,p){var _=h.entangledLanes|=p;for(h=h.entanglements;_;){var E=31-Qt(_),M=1<<E;M&p|h[E]&p&&(h[E]|=p),_&=~M}}var cn=0;function mT(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var f_=i.unstable_scheduleCallback,gT=i.unstable_cancelCallback,Cz=i.unstable_shouldYield,Mz=i.unstable_requestPaint,lr=i.unstable_now,p_=i.unstable_ImmediatePriority,Tz=i.unstable_UserBlockingPriority,m_=i.unstable_NormalPriority,Nz=i.unstable_IdlePriority,ig=null,Js=null;function Rz(h){if(Js&&typeof Js.onCommitFiberRoot=="function")try{Js.onCommitFiberRoot(ig,h,void 0,(h.current.flags&128)===128)}catch{}}function Pz(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var Ys=typeof Object.is=="function"?Object.is:Pz,Mo=null,sg=!1,g_=!1;function xT(h){Mo===null?Mo=[h]:Mo.push(h)}function Iz(h){sg=!0,xT(h)}function $s(){if(!g_&&Mo!==null){g_=!0;var h=0,p=cn;try{var _=Mo;for(cn=1;h<_.length;h++){var E=_[h];do E=E(!0);while(E!==null)}Mo=null,sg=!1}catch(M){throw Mo!==null&&(Mo=Mo.slice(h+1)),f_(p_,$s),M}finally{cn=p,g_=!1}}return null}var Dz=a.ReactCurrentBatchConfig;function og(h,p){if(Ys(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var _=Object.keys(h),E=Object.keys(p);if(_.length!==E.length)return!1;for(E=0;E<_.length;E++){var M=_[E];if(!ot.call(p,M)||!Ys(h[M],p[M]))return!1}return!0}function Bz(h){switch(h.tag){case 5:return re(h.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return h=Ke(h.type,!1),h;case 11:return h=Ke(h.type.render,!1),h;case 1:return h=Ke(h.type,!0),h;default:return""}}function vs(h,p){if(h&&h.defaultProps){p=s({},p),h=h.defaultProps;for(var _ in h)p[_]===void 0&&(p[_]=h[_]);return p}return p}var ag=wt(null),lg=null,Iu=null,x_=null;function v_(){x_=Iu=lg=null}function vT(h,p,_){De?(ft(ag,p._currentValue),p._currentValue=_):(ft(ag,p._currentValue2),p._currentValue2=_)}function y_(h){var p=ag.current;Ve(ag),De?h._currentValue=p:h._currentValue2=p}function w_(h,p,_){for(;h!==null;){var E=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,E!==null&&(E.childLanes|=p)):E!==null&&(E.childLanes&p)!==p&&(E.childLanes|=p),h===_)break;h=h.return}}function Du(h,p){lg=h,x_=Iu=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&p&&(Ri=!0),h.firstContext=null)}function Yi(h){var p=De?h._currentValue:h._currentValue2;if(x_!==h)if(h={context:h,memoizedValue:p,next:null},Iu===null){if(lg===null)throw Error(o(308));Iu=h,lg.dependencies={lanes:0,firstContext:h}}else Iu=Iu.next=h;return p}var qs=null,Ra=!1;function __(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yT(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function To(h,p){return{eventTime:h,lane:p,tag:0,payload:null,callback:null,next:null}}function Pa(h,p){var _=h.updateQueue;_!==null&&(_=_.shared,Jn!==null&&h.mode&1&&!(Xt&2)?(h=_.interleaved,h===null?(p.next=p,qs===null?qs=[_]:qs.push(_)):(p.next=h.next,h.next=p),_.interleaved=p):(h=_.pending,h===null?p.next=p:(p.next=h.next,h.next=p),_.pending=p))}function cg(h,p,_){if(p=p.updateQueue,p!==null&&(p=p.shared,(_&4194240)!==0)){var E=p.lanes;E&=h.pendingLanes,_|=E,p.lanes=_,h_(h,_)}}function wT(h,p){var _=h.updateQueue,E=h.alternate;if(E!==null&&(E=E.updateQueue,_===E)){var M=null,B=null;if(_=_.firstBaseUpdate,_!==null){do{var V={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};B===null?M=B=V:B=B.next=V,_=_.next}while(_!==null);B===null?M=B=p:B=B.next=p}else M=B=p;_={baseState:E.baseState,firstBaseUpdate:M,lastBaseUpdate:B,shared:E.shared,effects:E.effects},h.updateQueue=_;return}h=_.lastBaseUpdate,h===null?_.firstBaseUpdate=p:h.next=p,_.lastBaseUpdate=p}function ug(h,p,_,E){var M=h.updateQueue;Ra=!1;var B=M.firstBaseUpdate,V=M.lastBaseUpdate,Z=M.shared.pending;if(Z!==null){M.shared.pending=null;var ge=Z,Fe=ge.next;ge.next=null,V===null?B=Fe:V.next=Fe,V=ge;var ct=h.alternate;ct!==null&&(ct=ct.updateQueue,Z=ct.lastBaseUpdate,Z!==V&&(Z===null?ct.firstBaseUpdate=Fe:Z.next=Fe,ct.lastBaseUpdate=ge))}if(B!==null){var It=M.baseState;V=0,ct=Fe=ge=null,Z=B;do{var Ct=Z.lane,vn=Z.eventTime;if((E&Ct)===Ct){ct!==null&&(ct=ct.next={eventTime:vn,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var xt=h,Tr=Z;switch(Ct=p,vn=_,Tr.tag){case 1:if(xt=Tr.payload,typeof xt=="function"){It=xt.call(vn,It,Ct);break e}It=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Tr.payload,Ct=typeof xt=="function"?xt.call(vn,It,Ct):xt,Ct==null)break e;It=s({},It,Ct);break e;case 2:Ra=!0}}Z.callback!==null&&Z.lane!==0&&(h.flags|=64,Ct=M.effects,Ct===null?M.effects=[Z]:Ct.push(Z))}else vn={eventTime:vn,lane:Ct,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},ct===null?(Fe=ct=vn,ge=It):ct=ct.next=vn,V|=Ct;if(Z=Z.next,Z===null){if(Z=M.shared.pending,Z===null)break;Ct=Z,Z=Ct.next,Ct.next=null,M.lastBaseUpdate=Ct,M.shared.pending=null}}while(!0);if(ct===null&&(ge=It),M.baseState=ge,M.firstBaseUpdate=Fe,M.lastBaseUpdate=ct,p=M.shared.interleaved,p!==null){M=p;do V|=M.lane,M=M.next;while(M!==p)}else B===null&&(M.shared.lanes=0);Hu|=V,h.lanes=V,h.memoizedState=It}}function _T(h,p,_){if(h=p.effects,p.effects=null,h!==null)for(p=0;p<h.length;p++){var E=h[p],M=E.callback;if(M!==null){if(E.callback=null,E=_,typeof M!="function")throw Error(o(191,M));M.call(E)}}}var bT=new r.Component().refs;function b_(h,p,_,E){p=h.memoizedState,_=_(E,p),_=_==null?p:s({},p,_),h.memoizedState=_,h.lanes===0&&(h.updateQueue.baseState=_)}var dg={isMounted:function(h){return(h=h._reactInternals)?I(h)===h:!1},enqueueSetState:function(h,p,_){h=h._reactInternals;var E=Jr(),M=Ba(h),B=To(E,M);B.payload=p,_!=null&&(B.callback=_),Pa(h,B),p=es(h,M,E),p!==null&&cg(p,h,M)},enqueueReplaceState:function(h,p,_){h=h._reactInternals;var E=Jr(),M=Ba(h),B=To(E,M);B.tag=1,B.payload=p,_!=null&&(B.callback=_),Pa(h,B),p=es(h,M,E),p!==null&&cg(p,h,M)},enqueueForceUpdate:function(h,p){h=h._reactInternals;var _=Jr(),E=Ba(h),M=To(_,E);M.tag=2,p!=null&&(M.callback=p),Pa(h,M),p=es(h,E,_),p!==null&&cg(p,h,E)}};function ST(h,p,_,E,M,B,V){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(E,B,V):p.prototype&&p.prototype.isPureReactComponent?!og(_,E)||!og(M,B):!0}function AT(h,p,_){var E=!1,M=Wt,B=p.contextType;return typeof B=="object"&&B!==null?B=Yi(B):(M=ln(p)?Ht:Jt.current,E=p.contextTypes,B=(E=E!=null)?pt(h,M):Wt),p=new p(_,B),h.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=dg,h.stateNode=p,p._reactInternals=h,E&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=M,h.__reactInternalMemoizedMaskedChildContext=B),p}function ET(h,p,_,E){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(_,E),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(_,E),p.state!==h&&dg.enqueueReplaceState(p,p.state,null)}function S_(h,p,_,E){var M=h.stateNode;M.props=_,M.state=h.memoizedState,M.refs=bT,__(h);var B=p.contextType;typeof B=="object"&&B!==null?M.context=Yi(B):(B=ln(p)?Ht:Jt.current,M.context=pt(h,B)),M.state=h.memoizedState,B=p.getDerivedStateFromProps,typeof B=="function"&&(b_(h,p,B,_),M.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(p=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),p!==M.state&&dg.enqueueReplaceState(M,M.state,null),ug(h,_,M,E),M.state=h.memoizedState),typeof M.componentDidMount=="function"&&(h.flags|=4194308)}var Bu=[],Lu=0,hg=null,fg=0,$i=[],qi=0,tc=null,No=1,Ro="";function nc(h,p){Bu[Lu++]=fg,Bu[Lu++]=hg,hg=h,fg=p}function CT(h,p,_){$i[qi++]=No,$i[qi++]=Ro,$i[qi++]=tc,tc=h;var E=No;h=Ro;var M=32-Qt(E)-1;E&=~(1<<M),_+=1;var B=32-Qt(p)+M;if(30<B){var V=M-M%5;B=(E&(1<<V)-1).toString(32),E>>=V,M-=V,No=1<<32-Qt(p)+M|_<<M|E,Ro=B+h}else No=1<<B|_<<M|E,Ro=h}function A_(h){h.return!==null&&(nc(h,1),CT(h,1,0))}function E_(h){for(;h===hg;)hg=Bu[--Lu],Bu[Lu]=null,fg=Bu[--Lu],Bu[Lu]=null;for(;h===tc;)tc=$i[--qi],$i[qi]=null,Ro=$i[--qi],$i[qi]=null,No=$i[--qi],$i[qi]=null}var Ti=null,Ni=null,Cn=!1,Zh=!1,ys=null;function MT(h,p){var _=ts(5,null,null,0);_.elementType="DELETED",_.stateNode=p,_.return=h,p=h.deletions,p===null?(h.deletions=[_],h.flags|=16):p.push(_)}function TT(h,p){switch(h.tag){case 5:return p=Ar(p,h.type,h.pendingProps),p!==null?(h.stateNode=p,Ti=h,Ni=Ru(p),!0):!1;case 6:return p=$m(p,h.pendingProps),p!==null?(h.stateNode=p,Ti=h,Ni=null,!0):!1;case 13:if(p=qm(p),p!==null){var _=tc!==null?{id:No,overflow:Ro}:null;return h.memoizedState={dehydrated:p,treeContext:_,retryLane:1073741824},_=ts(18,null,null,0),_.stateNode=p,_.return=h,h.child=_,Ti=h,Ni=null,!0}return!1;default:return!1}}function C_(h){return(h.mode&1)!==0&&(h.flags&128)===0}function M_(h){if(Cn){var p=Ni;if(p){var _=p;if(!TT(h,p)){if(C_(h))throw Error(o(418));p=Ma(_);var E=Ti;p&&TT(h,p)?MT(E,_):(h.flags=h.flags&-4097|2,Cn=!1,Ti=h)}}else{if(C_(h))throw Error(o(418));h.flags=h.flags&-4097|2,Cn=!1,Ti=h}}}function NT(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Ti=h}function ef(h){if(!We||h!==Ti)return!1;if(!Cn)return NT(h),Cn=!0,!1;if(h.tag!==3&&(h.tag!==5||F(h.type)&&!we(h.type,h.memoizedProps))){var p=Ni;if(p){if(C_(h)){for(h=Ni;h;)h=Ma(h);throw Error(o(418))}for(;p;)MT(h,p),p=Ma(p)}}if(NT(h),h.tag===13){if(!We)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));Ni=o_(h)}else Ni=Ti?Ma(h.stateNode):null;return!0}function ku(){We&&(Ni=Ti=null,Zh=Cn=!1)}function T_(h){ys===null?ys=[h]:ys.push(h)}function tf(h,p,_){if(h=_.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(o(309));var E=_.stateNode}if(!E)throw Error(o(147,h));var M=E,B=""+h;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===B?p.ref:(p=function(V){var Z=M.refs;Z===bT&&(Z=M.refs={}),V===null?delete Z[B]:Z[B]=V},p._stringRef=B,p)}if(typeof h!="string")throw Error(o(284));if(!_._owner)throw Error(o(290,h))}return h}function pg(h,p){throw h=Object.prototype.toString.call(p),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h))}function RT(h){var p=h._init;return p(h._payload)}function PT(h){function p(ae,te){if(h){var pe=ae.deletions;pe===null?(ae.deletions=[te],ae.flags|=16):pe.push(te)}}function _(ae,te){if(!h)return null;for(;te!==null;)p(ae,te),te=te.sibling;return null}function E(ae,te){for(ae=new Map;te!==null;)te.key!==null?ae.set(te.key,te):ae.set(te.index,te),te=te.sibling;return ae}function M(ae,te){return ae=ka(ae,te),ae.index=0,ae.sibling=null,ae}function B(ae,te,pe){return ae.index=pe,h?(pe=ae.alternate,pe!==null?(pe=pe.index,pe<te?(ae.flags|=2,te):pe):(ae.flags|=2,te)):(ae.flags|=1048576,te)}function V(ae){return h&&ae.alternate===null&&(ae.flags|=2),ae}function Z(ae,te,pe,nt){return te===null||te.tag!==6?(te=db(pe,ae.mode,nt),te.return=ae,te):(te=M(te,pe),te.return=ae,te)}function ge(ae,te,pe,nt){var mt=pe.type;return mt===d?ct(ae,te,pe.props.children,nt,pe.key):te!==null&&(te.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===S&&RT(mt)===te.type)?(nt=M(te,pe.props),nt.ref=tf(ae,te,pe),nt.return=ae,nt):(nt=Wg(pe.type,pe.key,pe.props,null,ae.mode,nt),nt.ref=tf(ae,te,pe),nt.return=ae,nt)}function Fe(ae,te,pe,nt){return te===null||te.tag!==4||te.stateNode.containerInfo!==pe.containerInfo||te.stateNode.implementation!==pe.implementation?(te=hb(pe,ae.mode,nt),te.return=ae,te):(te=M(te,pe.children||[]),te.return=ae,te)}function ct(ae,te,pe,nt,mt){return te===null||te.tag!==7?(te=cc(pe,ae.mode,nt,mt),te.return=ae,te):(te=M(te,pe),te.return=ae,te)}function It(ae,te,pe){if(typeof te=="string"&&te!==""||typeof te=="number")return te=db(""+te,ae.mode,pe),te.return=ae,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case c:return pe=Wg(te.type,te.key,te.props,null,ae.mode,pe),pe.ref=tf(ae,null,te),pe.return=ae,pe;case u:return te=hb(te,ae.mode,pe),te.return=ae,te;case S:var nt=te._init;return It(ae,nt(te._payload),pe)}if(Q(te)||N(te))return te=cc(te,ae.mode,pe,null),te.return=ae,te;pg(ae,te)}return null}function Ct(ae,te,pe,nt){var mt=te!==null?te.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number")return mt!==null?null:Z(ae,te,""+pe,nt);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case c:return pe.key===mt?ge(ae,te,pe,nt):null;case u:return pe.key===mt?Fe(ae,te,pe,nt):null;case S:return mt=pe._init,Ct(ae,te,mt(pe._payload),nt)}if(Q(pe)||N(pe))return mt!==null?null:ct(ae,te,pe,nt,null);pg(ae,pe)}return null}function vn(ae,te,pe,nt,mt){if(typeof nt=="string"&&nt!==""||typeof nt=="number")return ae=ae.get(pe)||null,Z(te,ae,""+nt,mt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case c:return ae=ae.get(nt.key===null?pe:nt.key)||null,ge(te,ae,nt,mt);case u:return ae=ae.get(nt.key===null?pe:nt.key)||null,Fe(te,ae,nt,mt);case S:var Gt=nt._init;return vn(ae,te,pe,Gt(nt._payload),mt)}if(Q(nt)||N(nt))return ae=ae.get(pe)||null,ct(te,ae,nt,mt,null);pg(te,nt)}return null}function xt(ae,te,pe,nt){for(var mt=null,Gt=null,Dt=te,un=te=0,ur=null;Dt!==null&&un<pe.length;un++){Dt.index>un?(ur=Dt,Dt=null):ur=Dt.sibling;var dn=Ct(ae,Dt,pe[un],nt);if(dn===null){Dt===null&&(Dt=ur);break}h&&Dt&&dn.alternate===null&&p(ae,Dt),te=B(dn,te,un),Gt===null?mt=dn:Gt.sibling=dn,Gt=dn,Dt=ur}if(un===pe.length)return _(ae,Dt),Cn&&nc(ae,un),mt;if(Dt===null){for(;un<pe.length;un++)Dt=It(ae,pe[un],nt),Dt!==null&&(te=B(Dt,te,un),Gt===null?mt=Dt:Gt.sibling=Dt,Gt=Dt);return Cn&&nc(ae,un),mt}for(Dt=E(ae,Dt);un<pe.length;un++)ur=vn(Dt,ae,un,pe[un],nt),ur!==null&&(h&&ur.alternate!==null&&Dt.delete(ur.key===null?un:ur.key),te=B(ur,te,un),Gt===null?mt=ur:Gt.sibling=ur,Gt=ur);return h&&Dt.forEach(function(Oa){return p(ae,Oa)}),Cn&&nc(ae,un),mt}function Tr(ae,te,pe,nt){var mt=N(pe);if(typeof mt!="function")throw Error(o(150));if(pe=mt.call(pe),pe==null)throw Error(o(151));for(var Gt=mt=null,Dt=te,un=te=0,ur=null,dn=pe.next();Dt!==null&&!dn.done;un++,dn=pe.next()){Dt.index>un?(ur=Dt,Dt=null):ur=Dt.sibling;var Oa=Ct(ae,Dt,dn.value,nt);if(Oa===null){Dt===null&&(Dt=ur);break}h&&Dt&&Oa.alternate===null&&p(ae,Dt),te=B(Oa,te,un),Gt===null?mt=Oa:Gt.sibling=Oa,Gt=Oa,Dt=ur}if(dn.done)return _(ae,Dt),Cn&&nc(ae,un),mt;if(Dt===null){for(;!dn.done;un++,dn=pe.next())dn=It(ae,dn.value,nt),dn!==null&&(te=B(dn,te,un),Gt===null?mt=dn:Gt.sibling=dn,Gt=dn);return Cn&&nc(ae,un),mt}for(Dt=E(ae,Dt);!dn.done;un++,dn=pe.next())dn=vn(Dt,ae,un,dn.value,nt),dn!==null&&(h&&dn.alternate!==null&&Dt.delete(dn.key===null?un:dn.key),te=B(dn,te,un),Gt===null?mt=dn:Gt.sibling=dn,Gt=dn);return h&&Dt.forEach(function(u6){return p(ae,u6)}),Cn&&nc(ae,un),mt}function ns(ae,te,pe,nt){if(typeof pe=="object"&&pe!==null&&pe.type===d&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case c:e:{for(var mt=pe.key,Gt=te;Gt!==null;){if(Gt.key===mt){if(mt=pe.type,mt===d){if(Gt.tag===7){_(ae,Gt.sibling),te=M(Gt,pe.props.children),te.return=ae,ae=te;break e}}else if(Gt.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===S&&RT(mt)===Gt.type){_(ae,Gt.sibling),te=M(Gt,pe.props),te.ref=tf(ae,Gt,pe),te.return=ae,ae=te;break e}_(ae,Gt);break}else p(ae,Gt);Gt=Gt.sibling}pe.type===d?(te=cc(pe.props.children,ae.mode,nt,pe.key),te.return=ae,ae=te):(nt=Wg(pe.type,pe.key,pe.props,null,ae.mode,nt),nt.ref=tf(ae,te,pe),nt.return=ae,ae=nt)}return V(ae);case u:e:{for(Gt=pe.key;te!==null;){if(te.key===Gt)if(te.tag===4&&te.stateNode.containerInfo===pe.containerInfo&&te.stateNode.implementation===pe.implementation){_(ae,te.sibling),te=M(te,pe.children||[]),te.return=ae,ae=te;break e}else{_(ae,te);break}else p(ae,te);te=te.sibling}te=hb(pe,ae.mode,nt),te.return=ae,ae=te}return V(ae);case S:return Gt=pe._init,ns(ae,te,Gt(pe._payload),nt)}if(Q(pe))return xt(ae,te,pe,nt);if(N(pe))return Tr(ae,te,pe,nt);pg(ae,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"?(pe=""+pe,te!==null&&te.tag===6?(_(ae,te.sibling),te=M(te,pe),te.return=ae,ae=te):(_(ae,te),te=db(pe,ae.mode,nt),te.return=ae,ae=te),V(ae)):_(ae,te)}return ns}var Ou=PT(!0),IT=PT(!1),nf={},Qi=wt(nf),rf=wt(nf),Fu=wt(nf);function Qs(h){if(h===nf)throw Error(o(174));return h}function N_(h,p){ft(Fu,p),ft(rf,h),ft(Qi,nf),h=se(p),Ve(Qi),ft(Qi,h)}function ju(){Ve(Qi),Ve(rf),Ve(Fu)}function DT(h){var p=Qs(Fu.current),_=Qs(Qi.current);p=L(_,h.type,p),_!==p&&(ft(rf,h),ft(Qi,p))}function R_(h){rf.current===h&&(Ve(Qi),Ve(rf))}var Rn=wt(0);function mg(h){for(var p=h;p!==null;){if(p.tag===13){var _=p.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||Ks(_)||ec(_)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var P_=[];function I_(){for(var h=0;h<P_.length;h++){var p=P_[h];De?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}P_.length=0}var gg=a.ReactCurrentDispatcher,Zi=a.ReactCurrentBatchConfig,Uu=0,kn=null,Er=null,cr=null,xg=!1,sf=!1,of=0,Lz=0;function Cr(){throw Error(o(321))}function D_(h,p){if(p===null)return!1;for(var _=0;_<p.length&&_<h.length;_++)if(!Ys(h[_],p[_]))return!1;return!0}function B_(h,p,_,E,M,B){if(Uu=B,kn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,gg.current=h===null||h.memoizedState===null?jz:Uz,h=_(E,M),sf){B=0;do{if(sf=!1,of=0,25<=B)throw Error(o(301));B+=1,cr=Er=null,p.updateQueue=null,gg.current=zz,h=_(E,M)}while(sf)}if(gg.current=bg,p=Er!==null&&Er.next!==null,Uu=0,cr=Er=kn=null,xg=!1,p)throw Error(o(300));return h}function L_(){var h=of!==0;return of=0,h}function Po(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?kn.memoizedState=cr=h:cr=cr.next=h,cr}function Zs(){if(Er===null){var h=kn.alternate;h=h!==null?h.memoizedState:null}else h=Er.next;var p=cr===null?kn.memoizedState:cr.next;if(p!==null)cr=p,Er=h;else{if(h===null)throw Error(o(310));Er=h,h={memoizedState:Er.memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},cr===null?kn.memoizedState=cr=h:cr=cr.next=h}return cr}function rc(h,p){return typeof p=="function"?p(h):p}function vg(h){var p=Zs(),_=p.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=h;var E=Er,M=E.baseQueue,B=_.pending;if(B!==null){if(M!==null){var V=M.next;M.next=B.next,B.next=V}E.baseQueue=M=B,_.pending=null}if(M!==null){B=M.next,E=E.baseState;var Z=V=null,ge=null,Fe=B;do{var ct=Fe.lane;if((Uu&ct)===ct)ge!==null&&(ge=ge.next={lane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),E=Fe.hasEagerState?Fe.eagerState:h(E,Fe.action);else{var It={lane:ct,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null};ge===null?(Z=ge=It,V=E):ge=ge.next=It,kn.lanes|=ct,Hu|=ct}Fe=Fe.next}while(Fe!==null&&Fe!==B);ge===null?V=E:ge.next=Z,Ys(E,p.memoizedState)||(Ri=!0),p.memoizedState=E,p.baseState=V,p.baseQueue=ge,_.lastRenderedState=E}if(h=_.interleaved,h!==null){M=h;do B=M.lane,kn.lanes|=B,Hu|=B,M=M.next;while(M!==h)}else M===null&&(_.lanes=0);return[p.memoizedState,_.dispatch]}function yg(h){var p=Zs(),_=p.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=h;var E=_.dispatch,M=_.pending,B=p.memoizedState;if(M!==null){_.pending=null;var V=M=M.next;do B=h(B,V.action),V=V.next;while(V!==M);Ys(B,p.memoizedState)||(Ri=!0),p.memoizedState=B,p.baseQueue===null&&(p.baseState=B),_.lastRenderedState=B}return[B,E]}function BT(){}function LT(h,p){var _=kn,E=Zs(),M=p(),B=!Ys(E.memoizedState,M);if(B&&(E.memoizedState=M,Ri=!0),E=E.queue,lf(FT.bind(null,_,E,h),[h]),E.getSnapshot!==p||B||cr!==null&&cr.memoizedState.tag&1){if(_.flags|=2048,af(9,OT.bind(null,_,E,M,p),void 0,null),Jn===null)throw Error(o(349));Uu&30||kT(_,p,M)}return M}function kT(h,p,_){h.flags|=16384,h={getSnapshot:p,value:_},p=kn.updateQueue,p===null?(p={lastEffect:null,stores:null},kn.updateQueue=p,p.stores=[h]):(_=p.stores,_===null?p.stores=[h]:_.push(h))}function OT(h,p,_,E){p.value=_,p.getSnapshot=E,jT(p)&&es(h,1,-1)}function FT(h,p,_){return _(function(){jT(p)&&es(h,1,-1)})}function jT(h){var p=h.getSnapshot;h=h.value;try{var _=p();return!Ys(h,_)}catch{return!0}}function k_(h){var p=Po();return typeof h=="function"&&(h=h()),p.memoizedState=p.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rc,lastRenderedState:h},p.queue=h,h=h.dispatch=Fz.bind(null,kn,h),[p.memoizedState,h]}function af(h,p,_,E){return h={tag:h,create:p,destroy:_,deps:E,next:null},p=kn.updateQueue,p===null?(p={lastEffect:null,stores:null},kn.updateQueue=p,p.lastEffect=h.next=h):(_=p.lastEffect,_===null?p.lastEffect=h.next=h:(E=_.next,_.next=h,h.next=E,p.lastEffect=h)),h}function UT(){return Zs().memoizedState}function wg(h,p,_,E){var M=Po();kn.flags|=h,M.memoizedState=af(1|p,_,void 0,E===void 0?null:E)}function _g(h,p,_,E){var M=Zs();E=E===void 0?null:E;var B=void 0;if(Er!==null){var V=Er.memoizedState;if(B=V.destroy,E!==null&&D_(E,V.deps)){M.memoizedState=af(p,_,B,E);return}}kn.flags|=h,M.memoizedState=af(1|p,_,B,E)}function O_(h,p){return wg(8390656,8,h,p)}function lf(h,p){return _g(2048,8,h,p)}function zT(h,p){return _g(4,2,h,p)}function HT(h,p){return _g(4,4,h,p)}function GT(h,p){if(typeof p=="function")return h=h(),p(h),function(){p(null)};if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function VT(h,p,_){return _=_!=null?_.concat([h]):null,_g(4,4,GT.bind(null,p,h),_)}function F_(){}function WT(h,p){var _=Zs();p=p===void 0?null:p;var E=_.memoizedState;return E!==null&&p!==null&&D_(p,E[1])?E[0]:(_.memoizedState=[h,p],h)}function XT(h,p){var _=Zs();p=p===void 0?null:p;var E=_.memoizedState;return E!==null&&p!==null&&D_(p,E[1])?E[0]:(h=h(),_.memoizedState=[h,p],h)}function kz(h,p){var _=cn;cn=_!==0&&4>_?_:4,h(!0);var E=Zi.transition;Zi.transition={};try{h(!1),p()}finally{cn=_,Zi.transition=E}}function KT(){return Zs().memoizedState}function Oz(h,p,_){var E=Ba(h);_={lane:E,action:_,hasEagerState:!1,eagerState:null,next:null},JT(h)?YT(p,_):($T(h,p,_),_=Jr(),h=es(h,E,_),h!==null&&qT(h,p,E))}function Fz(h,p,_){var E=Ba(h),M={lane:E,action:_,hasEagerState:!1,eagerState:null,next:null};if(JT(h))YT(p,M);else{$T(h,p,M);var B=h.alternate;if(h.lanes===0&&(B===null||B.lanes===0)&&(B=p.lastRenderedReducer,B!==null))try{var V=p.lastRenderedState,Z=B(V,_);if(M.hasEagerState=!0,M.eagerState=Z,Ys(Z,V))return}catch{}finally{}_=Jr(),h=es(h,E,_),h!==null&&qT(h,p,E)}}function JT(h){var p=h.alternate;return h===kn||p!==null&&p===kn}function YT(h,p){sf=xg=!0;var _=h.pending;_===null?p.next=p:(p.next=_.next,_.next=p),h.pending=p}function $T(h,p,_){Jn!==null&&h.mode&1&&!(Xt&2)?(h=p.interleaved,h===null?(_.next=_,qs===null?qs=[p]:qs.push(p)):(_.next=h.next,h.next=_),p.interleaved=_):(h=p.pending,h===null?_.next=_:(_.next=h.next,h.next=_),p.pending=_)}function qT(h,p,_){if(_&4194240){var E=p.lanes;E&=h.pendingLanes,_|=E,p.lanes=_,h_(h,_)}}var bg={readContext:Yi,useCallback:Cr,useContext:Cr,useEffect:Cr,useImperativeHandle:Cr,useInsertionEffect:Cr,useLayoutEffect:Cr,useMemo:Cr,useReducer:Cr,useRef:Cr,useState:Cr,useDebugValue:Cr,useDeferredValue:Cr,useTransition:Cr,useMutableSource:Cr,useSyncExternalStore:Cr,useId:Cr,unstable_isNewReconciler:!1},jz={readContext:Yi,useCallback:function(h,p){return Po().memoizedState=[h,p===void 0?null:p],h},useContext:Yi,useEffect:O_,useImperativeHandle:function(h,p,_){return _=_!=null?_.concat([h]):null,wg(4194308,4,GT.bind(null,p,h),_)},useLayoutEffect:function(h,p){return wg(4194308,4,h,p)},useInsertionEffect:function(h,p){return wg(4,2,h,p)},useMemo:function(h,p){var _=Po();return p=p===void 0?null:p,h=h(),_.memoizedState=[h,p],h},useReducer:function(h,p,_){var E=Po();return p=_!==void 0?_(p):p,E.memoizedState=E.baseState=p,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:p},E.queue=h,h=h.dispatch=Oz.bind(null,kn,h),[E.memoizedState,h]},useRef:function(h){var p=Po();return h={current:h},p.memoizedState=h},useState:k_,useDebugValue:F_,useDeferredValue:function(h){var p=k_(h),_=p[0],E=p[1];return O_(function(){var M=Zi.transition;Zi.transition={};try{E(h)}finally{Zi.transition=M}},[h]),_},useTransition:function(){var h=k_(!1),p=h[0];return h=kz.bind(null,h[1]),Po().memoizedState=h,[p,h]},useMutableSource:function(){},useSyncExternalStore:function(h,p,_){var E=kn,M=Po();if(Cn){if(_===void 0)throw Error(o(407));_=_()}else{if(_=p(),Jn===null)throw Error(o(349));Uu&30||kT(E,p,_)}M.memoizedState=_;var B={value:_,getSnapshot:p};return M.queue=B,O_(FT.bind(null,E,B,h),[h]),E.flags|=2048,af(9,OT.bind(null,E,B,_,p),void 0,null),_},useId:function(){var h=Po(),p=Jn.identifierPrefix;if(Cn){var _=Ro,E=No;_=(E&~(1<<32-Qt(E)-1)).toString(32)+_,p=":"+p+"R"+_,_=of++,0<_&&(p+="H"+_.toString(32)),p+=":"}else _=Lz++,p=":"+p+"r"+_.toString(32)+":";return h.memoizedState=p},unstable_isNewReconciler:!1},Uz={readContext:Yi,useCallback:WT,useContext:Yi,useEffect:lf,useImperativeHandle:VT,useInsertionEffect:zT,useLayoutEffect:HT,useMemo:XT,useReducer:vg,useRef:UT,useState:function(){return vg(rc)},useDebugValue:F_,useDeferredValue:function(h){var p=vg(rc),_=p[0],E=p[1];return lf(function(){var M=Zi.transition;Zi.transition={};try{E(h)}finally{Zi.transition=M}},[h]),_},useTransition:function(){var h=vg(rc)[0],p=Zs().memoizedState;return[h,p]},useMutableSource:BT,useSyncExternalStore:LT,useId:KT,unstable_isNewReconciler:!1},zz={readContext:Yi,useCallback:WT,useContext:Yi,useEffect:lf,useImperativeHandle:VT,useInsertionEffect:zT,useLayoutEffect:HT,useMemo:XT,useReducer:yg,useRef:UT,useState:function(){return yg(rc)},useDebugValue:F_,useDeferredValue:function(h){var p=yg(rc),_=p[0],E=p[1];return lf(function(){var M=Zi.transition;Zi.transition={};try{E(h)}finally{Zi.transition=M}},[h]),_},useTransition:function(){var h=yg(rc)[0],p=Zs().memoizedState;return[h,p]},useMutableSource:BT,useSyncExternalStore:LT,useId:KT,unstable_isNewReconciler:!1};function j_(h,p){try{var _="",E=p;do _+=Bz(E),E=E.return;while(E);var M=_}catch(B){M=`
Error generating stack: `+B.message+`
`+B.stack}return{value:h,source:p,stack:M}}function U_(h,p){try{console.error(p.value)}catch(_){setTimeout(function(){throw _})}}var Hz=typeof WeakMap=="function"?WeakMap:Map;function QT(h,p,_){_=To(-1,_),_.tag=3,_.payload={element:null};var E=p.value;return _.callback=function(){Fg||(Fg=!0,ib=E),U_(h,p)},_}function ZT(h,p,_){_=To(-1,_),_.tag=3;var E=h.type.getDerivedStateFromError;if(typeof E=="function"){var M=p.value;_.payload=function(){return E(M)},_.callback=function(){U_(h,p)}}var B=h.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(_.callback=function(){U_(h,p),typeof E!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var V=p.stack;this.componentDidCatch(p.value,{componentStack:V!==null?V:""})}),_}function eN(h,p,_){var E=h.pingCache;if(E===null){E=h.pingCache=new Hz;var M=new Set;E.set(p,M)}else M=E.get(p),M===void 0&&(M=new Set,E.set(p,M));M.has(_)||(M.add(_),h=n6.bind(null,h,p,_),p.then(h,h))}function tN(h){do{var p;if((p=h.tag===13)&&(p=h.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return h;h=h.return}while(h!==null);return null}function nN(h,p,_,E,M){return h.mode&1?(h.flags|=65536,h.lanes=M,h):(h===p?h.flags|=65536:(h.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(p=To(-1,1),p.tag=2,Pa(_,p))),_.lanes|=1),h)}function eo(h){h.flags|=4}function rN(h,p){if(h!==null&&h.child===p.child)return!0;if(p.flags&16)return!1;for(h=p.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var cf,uf,Sg,Ag;if(st)cf=function(h,p){for(var _=p.child;_!==null;){if(_.tag===5||_.tag===6)oe(h,_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===p)break;for(;_.sibling===null;){if(_.return===null||_.return===p)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},uf=function(){},Sg=function(h,p,_,E,M){if(h=h.memoizedProps,h!==E){var B=p.stateNode,V=Qs(Qi.current);_=ne(B,_,h,E,M,V),(p.updateQueue=_)&&eo(p)}},Ag=function(h,p,_,E){_!==E&&eo(p)};else if(qe){cf=function(h,p,_,E){for(var M=p.child;M!==null;){if(M.tag===5){var B=M.stateNode;_&&E&&(B=Kt(B,M.type,M.memoizedProps,M)),oe(h,B)}else if(M.tag===6)B=M.stateNode,_&&E&&(B=Kn(B,M.memoizedProps,M)),oe(h,B);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)B=M.child,B!==null&&(B.return=M),cf(h,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===p)break;for(;M.sibling===null;){if(M.return===null||M.return===p)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};var iN=function(h,p,_,E){for(var M=p.child;M!==null;){if(M.tag===5){var B=M.stateNode;_&&E&&(B=Kt(B,M.type,M.memoizedProps,M)),_t(h,B)}else if(M.tag===6)B=M.stateNode,_&&E&&(B=Kn(B,M.memoizedProps,M)),_t(h,B);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)B=M.child,B!==null&&(B.return=M),iN(h,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===p)break;for(;M.sibling===null;){if(M.return===null||M.return===p)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};uf=function(h,p){var _=p.stateNode;if(!rN(h,p)){h=_.containerInfo;var E=Ge(h);iN(E,p,!1,!1),_.pendingChildren=E,eo(p),tn(h,E)}},Sg=function(h,p,_,E,M){var B=h.stateNode,V=h.memoizedProps;if((h=rN(h,p))&&V===E)p.stateNode=B;else{var Z=p.stateNode,ge=Qs(Qi.current),Fe=null;V!==E&&(Fe=ne(Z,_,V,E,M,ge)),h&&Fe===null?p.stateNode=B:(B=Xe(B,Fe,_,V,E,p,h,Z),Se(B,_,E,M,ge)&&eo(p),p.stateNode=B,h?eo(p):cf(B,p,!1,!1))}},Ag=function(h,p,_,E){_!==E?(h=Qs(Fu.current),_=Qs(Qi.current),p.stateNode=ve(E,h,_,p),eo(p)):p.stateNode=h.stateNode}}else uf=function(){},Sg=function(){},Ag=function(){};function df(h,p){if(!Cn)switch(h.tailMode){case"hidden":p=h.tail;for(var _=null;p!==null;)p.alternate!==null&&(_=p),p=p.sibling;_===null?h.tail=null:_.sibling=null;break;case"collapsed":_=h.tail;for(var E=null;_!==null;)_.alternate!==null&&(E=_),_=_.sibling;E===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:E.sibling=null}}function Mr(h){var p=h.alternate!==null&&h.alternate.child===h.child,_=0,E=0;if(p)for(var M=h.child;M!==null;)_|=M.lanes|M.childLanes,E|=M.subtreeFlags&14680064,E|=M.flags&14680064,M.return=h,M=M.sibling;else for(M=h.child;M!==null;)_|=M.lanes|M.childLanes,E|=M.subtreeFlags,E|=M.flags,M.return=h,M=M.sibling;return h.subtreeFlags|=E,h.childLanes=_,p}function Gz(h,p,_){var E=p.pendingProps;switch(E_(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mr(p),null;case 1:return ln(p.type)&&Zt(),Mr(p),null;case 3:return E=p.stateNode,ju(),Ve(Yt),Ve(Jt),I_(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(h===null||h.child===null)&&(ef(p)?eo(p):h===null||h.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,ys!==null&&(ab(ys),ys=null))),uf(h,p),Mr(p),null;case 5:R_(p),_=Qs(Fu.current);var M=p.type;if(h!==null&&p.stateNode!=null)Sg(h,p,M,E,_),h.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!E){if(p.stateNode===null)throw Error(o(166));return Mr(p),null}if(h=Qs(Qi.current),ef(p)){if(!We)throw Error(o(175));h=eg(p.stateNode,p.type,p.memoizedProps,_,h,p,!Zh),p.updateQueue=h,h!==null&&eo(p)}else{var B=$(M,E,_,h,p);cf(B,p,!1,!1),p.stateNode=B,Se(B,M,E,_,h)&&eo(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Mr(p),null;case 6:if(h&&p.stateNode!=null)Ag(h,p,h.memoizedProps,E);else{if(typeof E!="string"&&p.stateNode===null)throw Error(o(166));if(h=Qs(Fu.current),_=Qs(Qi.current),ef(p)){if(!We)throw Error(o(176));if(h=p.stateNode,E=p.memoizedProps,(_=tg(h,E,p,!Zh))&&(M=Ti,M!==null))switch(B=(M.mode&1)!==0,M.tag){case 3:ie(M.stateNode.containerInfo,h,E,B);break;case 5:ue(M.type,M.memoizedProps,M.stateNode,h,E,B)}_&&eo(p)}else p.stateNode=ve(E,h,_,p)}return Mr(p),null;case 13:if(Ve(Rn),E=p.memoizedState,Cn&&Ni!==null&&p.mode&1&&!(p.flags&128)){for(h=Ni;h;)h=Ma(h);return ku(),p.flags|=98560,p}if(E!==null&&E.dehydrated!==null){if(E=ef(p),h===null){if(!E)throw Error(o(318));if(!We)throw Error(o(344));if(h=p.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));s_(h,p)}else ku(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return Mr(p),null}return ys!==null&&(ab(ys),ys=null),p.flags&128?(p.lanes=_,p):(E=E!==null,_=!1,h===null?ef(p):_=h.memoizedState!==null,E&&!_&&(p.child.flags|=8192,p.mode&1&&(h===null||Rn.current&1?Zn===0&&(Zn=3):cb())),p.updateQueue!==null&&(p.flags|=4),Mr(p),null);case 4:return ju(),uf(h,p),h===null&&Oe(p.stateNode.containerInfo),Mr(p),null;case 10:return y_(p.type._context),Mr(p),null;case 17:return ln(p.type)&&Zt(),Mr(p),null;case 19:if(Ve(Rn),M=p.memoizedState,M===null)return Mr(p),null;if(E=(p.flags&128)!==0,B=M.rendering,B===null)if(E)df(M,!1);else{if(Zn!==0||h!==null&&h.flags&128)for(h=p.child;h!==null;){if(B=mg(h),B!==null){for(p.flags|=128,df(M,!1),h=B.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),p.subtreeFlags=0,h=_,E=p.child;E!==null;)_=E,M=h,_.flags&=14680066,B=_.alternate,B===null?(_.childLanes=0,_.lanes=M,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=B.childLanes,_.lanes=B.lanes,_.child=B.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=B.memoizedProps,_.memoizedState=B.memoizedState,_.updateQueue=B.updateQueue,_.type=B.type,M=B.dependencies,_.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext}),E=E.sibling;return ft(Rn,Rn.current&1|2),p.child}h=h.sibling}M.tail!==null&&lr()>rb&&(p.flags|=128,E=!0,df(M,!1),p.lanes=4194304)}else{if(!E)if(h=mg(B),h!==null){if(p.flags|=128,E=!0,h=h.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),df(M,!0),M.tail===null&&M.tailMode==="hidden"&&!B.alternate&&!Cn)return Mr(p),null}else 2*lr()-M.renderingStartTime>rb&&_!==1073741824&&(p.flags|=128,E=!0,df(M,!1),p.lanes=4194304);M.isBackwards?(B.sibling=p.child,p.child=B):(h=M.last,h!==null?h.sibling=B:p.child=B,M.last=B)}return M.tail!==null?(p=M.tail,M.rendering=p,M.tail=p.sibling,M.renderingStartTime=lr(),p.sibling=null,h=Rn.current,ft(Rn,E?h&1|2:h&1),p):(Mr(p),null);case 22:case 23:return lb(),E=p.memoizedState!==null,h!==null&&h.memoizedState!==null!==E&&(p.flags|=8192),E&&p.mode&1?Pi&1073741824&&(Mr(p),st&&p.subtreeFlags&6&&(p.flags|=8192)):Mr(p),null;case 24:return null;case 25:return null}throw Error(o(156,p.tag))}var Vz=a.ReactCurrentOwner,Ri=!1;function Kr(h,p,_,E){p.child=h===null?IT(p,null,_,E):Ou(p,h.child,_,E)}function sN(h,p,_,E,M){_=_.render;var B=p.ref;return Du(p,M),E=B_(h,p,_,E,B,M),_=L_(),h!==null&&!Ri?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~M,Io(h,p,M)):(Cn&&_&&A_(p),p.flags|=1,Kr(h,p,E,M),p.child)}function oN(h,p,_,E,M){if(h===null){var B=_.type;return typeof B=="function"&&!ub(B)&&B.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(p.tag=15,p.type=B,aN(h,p,B,E,M)):(h=Wg(_.type,null,E,p,p.mode,M),h.ref=p.ref,h.return=p,p.child=h)}if(B=h.child,!(h.lanes&M)){var V=B.memoizedProps;if(_=_.compare,_=_!==null?_:og,_(V,E)&&h.ref===p.ref)return Io(h,p,M)}return p.flags|=1,h=ka(B,E),h.ref=p.ref,h.return=p,p.child=h}function aN(h,p,_,E,M){if(h!==null&&og(h.memoizedProps,E)&&h.ref===p.ref)if(Ri=!1,(h.lanes&M)!==0)h.flags&131072&&(Ri=!0);else return p.lanes=h.lanes,Io(h,p,M);return z_(h,p,_,E,M)}function lN(h,p,_){var E=p.pendingProps,M=E.children,B=h!==null?h.memoizedState:null;if(E.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},ft(zu,Pi),Pi|=_;else if(_&1073741824)p.memoizedState={baseLanes:0,cachePool:null},E=B!==null?B.baseLanes:_,ft(zu,Pi),Pi|=E;else return h=B!==null?B.baseLanes|_:_,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:h,cachePool:null},p.updateQueue=null,ft(zu,Pi),Pi|=h,null;else B!==null?(E=B.baseLanes|_,p.memoizedState=null):E=_,ft(zu,Pi),Pi|=E;return Kr(h,p,M,_),p.child}function cN(h,p){var _=p.ref;(h===null&&_!==null||h!==null&&h.ref!==_)&&(p.flags|=512,p.flags|=2097152)}function z_(h,p,_,E,M){var B=ln(_)?Ht:Jt.current;return B=pt(p,B),Du(p,M),_=B_(h,p,_,E,B,M),E=L_(),h!==null&&!Ri?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~M,Io(h,p,M)):(Cn&&E&&A_(p),p.flags|=1,Kr(h,p,_,M),p.child)}function uN(h,p,_,E,M){if(ln(_)){var B=!0;ar(p)}else B=!1;if(Du(p,M),p.stateNode===null)h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),AT(p,_,E),S_(p,_,E,M),E=!0;else if(h===null){var V=p.stateNode,Z=p.memoizedProps;V.props=Z;var ge=V.context,Fe=_.contextType;typeof Fe=="object"&&Fe!==null?Fe=Yi(Fe):(Fe=ln(_)?Ht:Jt.current,Fe=pt(p,Fe));var ct=_.getDerivedStateFromProps,It=typeof ct=="function"||typeof V.getSnapshotBeforeUpdate=="function";It||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Z!==E||ge!==Fe)&&ET(p,V,E,Fe),Ra=!1;var Ct=p.memoizedState;V.state=Ct,ug(p,E,V,M),ge=p.memoizedState,Z!==E||Ct!==ge||Yt.current||Ra?(typeof ct=="function"&&(b_(p,_,ct,E),ge=p.memoizedState),(Z=Ra||ST(p,_,Z,E,Ct,ge,Fe))?(It||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(p.flags|=4194308)):(typeof V.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=E,p.memoizedState=ge),V.props=E,V.state=ge,V.context=Fe,E=Z):(typeof V.componentDidMount=="function"&&(p.flags|=4194308),E=!1)}else{V=p.stateNode,yT(h,p),Z=p.memoizedProps,Fe=p.type===p.elementType?Z:vs(p.type,Z),V.props=Fe,It=p.pendingProps,Ct=V.context,ge=_.contextType,typeof ge=="object"&&ge!==null?ge=Yi(ge):(ge=ln(_)?Ht:Jt.current,ge=pt(p,ge));var vn=_.getDerivedStateFromProps;(ct=typeof vn=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Z!==It||Ct!==ge)&&ET(p,V,E,ge),Ra=!1,Ct=p.memoizedState,V.state=Ct,ug(p,E,V,M);var xt=p.memoizedState;Z!==It||Ct!==xt||Yt.current||Ra?(typeof vn=="function"&&(b_(p,_,vn,E),xt=p.memoizedState),(Fe=Ra||ST(p,_,Fe,E,Ct,xt,ge)||!1)?(ct||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(E,xt,ge),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(E,xt,ge)),typeof V.componentDidUpdate=="function"&&(p.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof V.componentDidUpdate!="function"||Z===h.memoizedProps&&Ct===h.memoizedState||(p.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Z===h.memoizedProps&&Ct===h.memoizedState||(p.flags|=1024),p.memoizedProps=E,p.memoizedState=xt),V.props=E,V.state=xt,V.context=ge,E=Fe):(typeof V.componentDidUpdate!="function"||Z===h.memoizedProps&&Ct===h.memoizedState||(p.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Z===h.memoizedProps&&Ct===h.memoizedState||(p.flags|=1024),E=!1)}return H_(h,p,_,E,B,M)}function H_(h,p,_,E,M,B){cN(h,p);var V=(p.flags&128)!==0;if(!E&&!V)return M&&Ta(p,_,!1),Io(h,p,B);E=p.stateNode,Vz.current=p;var Z=V&&typeof _.getDerivedStateFromError!="function"?null:E.render();return p.flags|=1,h!==null&&V?(p.child=Ou(p,h.child,null,B),p.child=Ou(p,null,Z,B)):Kr(h,p,Z,B),p.memoizedState=E.state,M&&Ta(p,_,!0),p.child}function dN(h){var p=h.stateNode;p.pendingContext?ai(h,p.pendingContext,p.pendingContext!==p.context):p.context&&ai(h,p.context,!1),N_(h,p.containerInfo)}function hN(h,p,_,E,M){return ku(),T_(M),p.flags|=256,Kr(h,p,_,E),p.child}var Eg={dehydrated:null,treeContext:null,retryLane:0};function Cg(h){return{baseLanes:h,cachePool:null}}function fN(h,p,_){var E=p.pendingProps,M=Rn.current,B=!1,V=(p.flags&128)!==0,Z;if((Z=V)||(Z=h!==null&&h.memoizedState===null?!1:(M&2)!==0),Z?(B=!0,p.flags&=-129):(h===null||h.memoizedState!==null)&&(M|=1),ft(Rn,M&1),h===null)return M_(p),h=p.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(p.mode&1?ec(h)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(M=E.children,h=E.fallback,B?(E=p.mode,B=p.child,M={mode:"hidden",children:M},!(E&1)&&B!==null?(B.childLanes=0,B.pendingProps=M):B=Xg(M,E,0,null),h=cc(h,E,_,null),B.return=p,h.return=p,B.sibling=h,p.child=B,p.child.memoizedState=Cg(_),p.memoizedState=Eg,h):G_(p,M));if(M=h.memoizedState,M!==null){if(Z=M.dehydrated,Z!==null){if(V)return p.flags&256?(p.flags&=-257,Mg(h,p,_,Error(o(422)))):p.memoizedState!==null?(p.child=h.child,p.flags|=128,null):(B=E.fallback,M=p.mode,E=Xg({mode:"visible",children:E.children},M,0,null),B=cc(B,M,_,null),B.flags|=2,E.return=p,B.return=p,E.sibling=B,p.child=E,p.mode&1&&Ou(p,h.child,null,_),p.child.memoizedState=Cg(_),p.memoizedState=Eg,B);if(!(p.mode&1))p=Mg(h,p,_,null);else if(ec(Z))p=Mg(h,p,_,Error(o(419)));else if(E=(_&h.childLanes)!==0,Ri||E){if(E=Jn,E!==null){switch(_&-_){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}E=B&(E.suspendedLanes|_)?0:B,E!==0&&E!==M.retryLane&&(M.retryLane=E,es(h,E,-1))}cb(),p=Mg(h,p,_,Error(o(421)))}else Ks(Z)?(p.flags|=128,p.child=h.child,p=r6.bind(null,h),Qm(Z,p),p=null):(_=M.treeContext,We&&(Ni=Pu(Z),Ti=p,Cn=!0,ys=null,Zh=!1,_!==null&&($i[qi++]=No,$i[qi++]=Ro,$i[qi++]=tc,No=_.id,Ro=_.overflow,tc=p)),p=G_(p,p.pendingProps.children),p.flags|=4096);return p}return B?(E=mN(h,p,E.children,E.fallback,_),B=p.child,M=h.child.memoizedState,B.memoizedState=M===null?Cg(_):{baseLanes:M.baseLanes|_,cachePool:null},B.childLanes=h.childLanes&~_,p.memoizedState=Eg,E):(_=pN(h,p,E.children,_),p.memoizedState=null,_)}return B?(E=mN(h,p,E.children,E.fallback,_),B=p.child,M=h.child.memoizedState,B.memoizedState=M===null?Cg(_):{baseLanes:M.baseLanes|_,cachePool:null},B.childLanes=h.childLanes&~_,p.memoizedState=Eg,E):(_=pN(h,p,E.children,_),p.memoizedState=null,_)}function G_(h,p){return p=Xg({mode:"visible",children:p},h.mode,0,null),p.return=h,h.child=p}function pN(h,p,_,E){var M=h.child;return h=M.sibling,_=ka(M,{mode:"visible",children:_}),!(p.mode&1)&&(_.lanes=E),_.return=p,_.sibling=null,h!==null&&(E=p.deletions,E===null?(p.deletions=[h],p.flags|=16):E.push(h)),p.child=_}function mN(h,p,_,E,M){var B=p.mode;h=h.child;var V=h.sibling,Z={mode:"hidden",children:_};return!(B&1)&&p.child!==h?(_=p.child,_.childLanes=0,_.pendingProps=Z,p.deletions=null):(_=ka(h,Z),_.subtreeFlags=h.subtreeFlags&14680064),V!==null?E=ka(V,E):(E=cc(E,B,M,null),E.flags|=2),E.return=p,_.return=p,_.sibling=E,p.child=_,E}function Mg(h,p,_,E){return E!==null&&T_(E),Ou(p,h.child,null,_),h=G_(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function gN(h,p,_){h.lanes|=p;var E=h.alternate;E!==null&&(E.lanes|=p),w_(h.return,p,_)}function V_(h,p,_,E,M){var B=h.memoizedState;B===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:E,tail:_,tailMode:M}:(B.isBackwards=p,B.rendering=null,B.renderingStartTime=0,B.last=E,B.tail=_,B.tailMode=M)}function xN(h,p,_){var E=p.pendingProps,M=E.revealOrder,B=E.tail;if(Kr(h,p,E.children,_),E=Rn.current,E&2)E=E&1|2,p.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&gN(h,_,p);else if(h.tag===19)gN(h,_,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}E&=1}if(ft(Rn,E),!(p.mode&1))p.memoizedState=null;else switch(M){case"forwards":for(_=p.child,M=null;_!==null;)h=_.alternate,h!==null&&mg(h)===null&&(M=_),_=_.sibling;_=M,_===null?(M=p.child,p.child=null):(M=_.sibling,_.sibling=null),V_(p,!1,M,_,B);break;case"backwards":for(_=null,M=p.child,p.child=null;M!==null;){if(h=M.alternate,h!==null&&mg(h)===null){p.child=M;break}h=M.sibling,M.sibling=_,_=M,M=h}V_(p,!0,_,null,B);break;case"together":V_(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Io(h,p,_){if(h!==null&&(p.dependencies=h.dependencies),Hu|=p.lanes,!(_&p.childLanes))return null;if(h!==null&&p.child!==h.child)throw Error(o(153));if(p.child!==null){for(h=p.child,_=ka(h,h.pendingProps),p.child=_,_.return=p;h.sibling!==null;)h=h.sibling,_=_.sibling=ka(h,h.pendingProps),_.return=p;_.sibling=null}return p.child}function Wz(h,p,_){switch(p.tag){case 3:dN(p),ku();break;case 5:DT(p);break;case 1:ln(p.type)&&ar(p);break;case 4:N_(p,p.stateNode.containerInfo);break;case 10:vT(p,p.type._context,p.memoizedProps.value);break;case 13:var E=p.memoizedState;if(E!==null)return E.dehydrated!==null?(ft(Rn,Rn.current&1),p.flags|=128,null):_&p.child.childLanes?fN(h,p,_):(ft(Rn,Rn.current&1),h=Io(h,p,_),h!==null?h.sibling:null);ft(Rn,Rn.current&1);break;case 19:if(E=(_&p.childLanes)!==0,h.flags&128){if(E)return xN(h,p,_);p.flags|=128}var M=p.memoizedState;if(M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),ft(Rn,Rn.current),E)break;return null;case 22:case 23:return p.lanes=0,lN(h,p,_)}return Io(h,p,_)}function Xz(h,p){switch(E_(p),p.tag){case 1:return ln(p.type)&&Zt(),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return ju(),Ve(Yt),Ve(Jt),I_(),h=p.flags,h&65536&&!(h&128)?(p.flags=h&-65537|128,p):null;case 5:return R_(p),null;case 13:if(Ve(Rn),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(o(340));ku()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return Ve(Rn),null;case 4:return ju(),null;case 10:return y_(p.type._context),null;case 22:case 23:return lb(),null;case 24:return null;default:return null}}var Tg=!1,ic=!1,Kz=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Ng(h,p){var _=h.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(E){hi(h,p,E)}else _.current=null}function W_(h,p,_){try{_()}catch(E){hi(h,p,E)}}var vN=!1;function Jz(h,p){for(j(h.containerInfo),Qe=p;Qe!==null;)if(h=Qe,p=h.child,(h.subtreeFlags&1028)!==0&&p!==null)p.return=h,Qe=p;else for(;Qe!==null;){h=Qe;try{var _=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var E=_.memoizedProps,M=_.memoizedState,B=h.stateNode,V=B.getSnapshotBeforeUpdate(h.elementType===h.type?E:vs(h.type,E),M);B.__reactInternalSnapshotBeforeUpdate=V}break;case 3:st&&xe(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Z){hi(h,h.return,Z)}if(p=h.sibling,p!==null){p.return=h.return,Qe=p;break}Qe=h.return}return _=vN,vN=!1,_}function sc(h,p,_){var E=p.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var M=E=E.next;do{if((M.tag&h)===h){var B=M.destroy;M.destroy=void 0,B!==void 0&&W_(p,_,B)}M=M.next}while(M!==E)}}function hf(h,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var _=p=p.next;do{if((_.tag&h)===h){var E=_.create;_.destroy=E()}_=_.next}while(_!==p)}}function X_(h){var p=h.ref;if(p!==null){var _=h.stateNode;switch(h.tag){case 5:h=Y(_);break;default:h=_}typeof p=="function"?p(h):p.current=h}}function yN(h,p,_){if(Js&&typeof Js.onCommitFiberUnmount=="function")try{Js.onCommitFiberUnmount(ig,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(h=p.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var E=h=h.next;do{var M=E,B=M.destroy;M=M.tag,B!==void 0&&(M&2||M&4)&&W_(p,_,B),E=E.next}while(E!==h)}break;case 1:if(Ng(p,_),h=p.stateNode,typeof h.componentWillUnmount=="function")try{h.props=p.memoizedProps,h.state=p.memoizedState,h.componentWillUnmount()}catch(V){hi(p,_,V)}break;case 5:Ng(p,_);break;case 4:st?EN(h,p,_):qe&&qe&&(p=p.stateNode.containerInfo,_=Ge(p),bn(p,_))}}function wN(h,p,_){for(var E=p;;)if(yN(h,E,_),E.child===null||st&&E.tag===4){if(E===p)break;for(;E.sibling===null;){if(E.return===null||E.return===p)return;E=E.return}E.sibling.return=E.return,E=E.sibling}else E.child.return=E,E=E.child}function _N(h){var p=h.alternate;p!==null&&(h.alternate=null,_N(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&Pe(p)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function bN(h){return h.tag===5||h.tag===3||h.tag===4}function SN(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||bN(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function AN(h){if(st){e:{for(var p=h.return;p!==null;){if(bN(p))break e;p=p.return}throw Error(o(160))}var _=p;switch(_.tag){case 5:p=_.stateNode,_.flags&32&&(ye(p),_.flags&=-33),_=SN(h),J_(h,_,p);break;case 3:case 4:p=_.stateNode.containerInfo,_=SN(h),K_(h,_,p);break;default:throw Error(o(161))}}}function K_(h,p,_){var E=h.tag;if(E===5||E===6)h=h.stateNode,p?At(_,h,p):ht(_,h);else if(E!==4&&(h=h.child,h!==null))for(K_(h,p,_),h=h.sibling;h!==null;)K_(h,p,_),h=h.sibling}function J_(h,p,_){var E=h.tag;if(E===5||E===6)h=h.stateNode,p?gt(_,h,p):Ue(_,h);else if(E!==4&&(h=h.child,h!==null))for(J_(h,p,_),h=h.sibling;h!==null;)J_(h,p,_),h=h.sibling}function EN(h,p,_){for(var E=p,M=!1,B,V;;){if(!M){M=E.return;e:for(;;){if(M===null)throw Error(o(160));switch(B=M.stateNode,M.tag){case 5:V=!1;break e;case 3:B=B.containerInfo,V=!0;break e;case 4:B=B.containerInfo,V=!0;break e}M=M.return}M=!0}if(E.tag===5||E.tag===6)wN(h,E,_),V?q(B,E.stateNode):et(B,E.stateNode);else if(E.tag===18)V?c_(B,E.stateNode):l_(B,E.stateNode);else if(E.tag===4){if(E.child!==null){B=E.stateNode.containerInfo,V=!0,E.child.return=E,E=E.child;continue}}else if(yN(h,E,_),E.child!==null){E.child.return=E,E=E.child;continue}if(E===p)break;for(;E.sibling===null;){if(E.return===null||E.return===p)return;E=E.return,E.tag===4&&(M=!1)}E.sibling.return=E.return,E=E.sibling}}function Y_(h,p){if(st){switch(p.tag){case 0:case 11:case 14:case 15:sc(3,p,p.return),hf(3,p),sc(5,p,p.return);return;case 1:return;case 5:var _=p.stateNode;if(_!=null){var E=p.memoizedProps;h=h!==null?h.memoizedProps:E;var M=p.type,B=p.updateQueue;p.updateQueue=null,B!==null&&Ze(_,B,M,h,E,p)}return;case 6:if(p.stateNode===null)throw Error(o(162));_=p.memoizedProps,yt(p.stateNode,h!==null?h.memoizedProps:_,_);return;case 3:We&&h!==null&&h.memoizedState.isDehydrated&&ng(p.stateNode.containerInfo);return;case 12:return;case 13:Rg(p);return;case 19:Rg(p);return;case 17:return}throw Error(o(163))}switch(p.tag){case 0:case 11:case 14:case 15:sc(3,p,p.return),hf(3,p),sc(5,p,p.return);return;case 12:return;case 13:Rg(p);return;case 19:Rg(p);return;case 3:We&&h!==null&&h.memoizedState.isDehydrated&&ng(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(qe){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,bn(p.containerInfo,p.pendingChildren);break e}throw Error(o(163))}}function Rg(h){var p=h.updateQueue;if(p!==null){h.updateQueue=null;var _=h.stateNode;_===null&&(_=h.stateNode=new Kz),p.forEach(function(E){var M=i6.bind(null,h,E);_.has(E)||(_.add(E),E.then(M,M))})}}function Yz(h,p){for(Qe=p;Qe!==null;){p=Qe;var _=p.deletions;if(_!==null)for(var E=0;E<_.length;E++){var M=_[E];try{var B=h;st?EN(B,M,p):wN(B,M,p);var V=M.alternate;V!==null&&(V.return=null),M.return=null}catch(mt){hi(M,p,mt)}}if(_=p.child,p.subtreeFlags&12854&&_!==null)_.return=p,Qe=_;else for(;Qe!==null;){p=Qe;try{var Z=p.flags;if(Z&32&&st&&ye(p.stateNode),Z&512){var ge=p.alternate;if(ge!==null){var Fe=ge.ref;Fe!==null&&(typeof Fe=="function"?Fe(null):Fe.current=null)}}if(Z&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var ct=p.alternate;(ct===null||ct.memoizedState===null)&&(nb=lr())}break;case 22:var It=p.memoizedState!==null,Ct=p.alternate,vn=Ct!==null&&Ct.memoizedState!==null;if(_=p,st){e:if(E=_,M=It,B=null,st)for(var xt=E;;){if(xt.tag===5){if(B===null){B=xt;var Tr=xt.stateNode;M?Ee(Tr):be(xt.stateNode,xt.memoizedProps)}}else if(xt.tag===6){if(B===null){var ns=xt.stateNode;M?X(ns):ce(ns,xt.memoizedProps)}}else if((xt.tag!==22&&xt.tag!==23||xt.memoizedState===null||xt===E)&&xt.child!==null){xt.child.return=xt,xt=xt.child;continue}if(xt===E)break;for(;xt.sibling===null;){if(xt.return===null||xt.return===E)break e;B===xt&&(B=null),xt=xt.return}B===xt&&(B=null),xt.sibling.return=xt.return,xt=xt.sibling}}if(It&&!vn&&_.mode&1){Qe=_;for(var ae=_.child;ae!==null;){for(_=Qe=ae;Qe!==null;){E=Qe;var te=E.child;switch(E.tag){case 0:case 11:case 14:case 15:sc(4,E,E.return);break;case 1:Ng(E,E.return);var pe=E.stateNode;if(typeof pe.componentWillUnmount=="function"){var nt=E.return;try{pe.props=E.memoizedProps,pe.state=E.memoizedState,pe.componentWillUnmount()}catch(mt){hi(E,nt,mt)}}break;case 5:Ng(E,E.return);break;case 22:if(E.memoizedState!==null){TN(_);continue}}te!==null?(te.return=E,Qe=te):TN(_)}ae=ae.sibling}}}switch(Z&4102){case 2:AN(p),p.flags&=-3;break;case 6:AN(p),p.flags&=-3,Y_(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,Y_(p.alternate,p);break;case 4:Y_(p.alternate,p)}}catch(mt){hi(p,p.return,mt)}if(_=p.sibling,_!==null){_.return=p.return,Qe=_;break}Qe=p.return}}}function $z(h,p,_){Qe=h,CN(h)}function CN(h,p,_){for(var E=(h.mode&1)!==0;Qe!==null;){var M=Qe,B=M.child;if(M.tag===22&&E){var V=M.memoizedState!==null||Tg;if(!V){var Z=M.alternate,ge=Z!==null&&Z.memoizedState!==null||ic;Z=Tg;var Fe=ic;if(Tg=V,(ic=ge)&&!Fe)for(Qe=M;Qe!==null;)V=Qe,ge=V.child,V.tag===22&&V.memoizedState!==null?NN(M):ge!==null?(ge.return=V,Qe=ge):NN(M);for(;B!==null;)Qe=B,CN(B),B=B.sibling;Qe=M,Tg=Z,ic=Fe}MN(h)}else M.subtreeFlags&8772&&B!==null?(B.return=M,Qe=B):MN(h)}}function MN(h){for(;Qe!==null;){var p=Qe;if(p.flags&8772){var _=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:ic||hf(5,p);break;case 1:var E=p.stateNode;if(p.flags&4&&!ic)if(_===null)E.componentDidMount();else{var M=p.elementType===p.type?_.memoizedProps:vs(p.type,_.memoizedProps);E.componentDidUpdate(M,_.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var B=p.updateQueue;B!==null&&_T(p,B,E);break;case 3:var V=p.updateQueue;if(V!==null){if(_=null,p.child!==null)switch(p.child.tag){case 5:_=Y(p.child.stateNode);break;case 1:_=p.child.stateNode}_T(p,V,_)}break;case 5:var Z=p.stateNode;_===null&&p.flags&4&&Ie(Z,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(We&&p.memoizedState===null){var ge=p.alternate;if(ge!==null){var Fe=ge.memoizedState;if(Fe!==null){var ct=Fe.dehydrated;ct!==null&&a_(ct)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}ic||p.flags&512&&X_(p)}catch(It){hi(p,p.return,It)}}if(p===h){Qe=null;break}if(_=p.sibling,_!==null){_.return=p.return,Qe=_;break}Qe=p.return}}function TN(h){for(;Qe!==null;){var p=Qe;if(p===h){Qe=null;break}var _=p.sibling;if(_!==null){_.return=p.return,Qe=_;break}Qe=p.return}}function NN(h){for(;Qe!==null;){var p=Qe;try{switch(p.tag){case 0:case 11:case 15:var _=p.return;try{hf(4,p)}catch(ge){hi(p,_,ge)}break;case 1:var E=p.stateNode;if(typeof E.componentDidMount=="function"){var M=p.return;try{E.componentDidMount()}catch(ge){hi(p,M,ge)}}var B=p.return;try{X_(p)}catch(ge){hi(p,B,ge)}break;case 5:var V=p.return;try{X_(p)}catch(ge){hi(p,V,ge)}}}catch(ge){hi(p,p.return,ge)}if(p===h){Qe=null;break}var Z=p.sibling;if(Z!==null){Z.return=p.return,Qe=Z;break}Qe=p.return}}var Pg=0,Ig=1,Dg=2,Bg=3,Lg=4;if(typeof Symbol=="function"&&Symbol.for){var ff=Symbol.for;Pg=ff("selector.component"),Ig=ff("selector.has_pseudo_class"),Dg=ff("selector.role"),Bg=ff("selector.test_id"),Lg=ff("selector.text")}function $_(h){var p=U(h);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(o(364));return p}if(h=z(h),h===null)throw Error(o(362));return h.stateNode.current}function q_(h,p){switch(p.$$typeof){case Pg:if(h.type===p.value)return!0;break;case Ig:e:{p=p.value,h=[h,0];for(var _=0;_<h.length;){var E=h[_++],M=h[_++],B=p[M];if(E.tag!==5||!he(E)){for(;B!=null&&q_(E,B);)M++,B=p[M];if(M===p.length){p=!0;break e}else for(E=E.child;E!==null;)h.push(E,M),E=E.sibling}}p=!1}return p;case Dg:if(h.tag===5&&Me(h.stateNode,p.value))return!0;break;case Lg:if((h.tag===5||h.tag===6)&&(h=ee(h),h!==null&&0<=h.indexOf(p.value)))return!0;break;case Bg:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Q_(h){switch(h.$$typeof){case Pg:return"<"+(P(h.value)||"Unknown")+">";case Ig:return":has("+(Q_(h)||"")+")";case Dg:return'[role="'+h.value+'"]';case Lg:return'"'+h.value+'"';case Bg:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function RN(h,p){var _=[];h=[h,0];for(var E=0;E<h.length;){var M=h[E++],B=h[E++],V=p[B];if(M.tag!==5||!he(M)){for(;V!=null&&q_(M,V);)B++,V=p[B];if(B===p.length)_.push(M);else for(M=M.child;M!==null;)h.push(M,B),M=M.sibling}}return _}function Z_(h,p){if(!Ne)throw Error(o(363));h=$_(h),h=RN(h,p),p=[],h=Array.from(h);for(var _=0;_<h.length;){var E=h[_++];if(E.tag===5)he(E)||p.push(E.stateNode);else for(E=E.child;E!==null;)h.push(E),E=E.sibling}return p}var qz=Math.ceil,kg=a.ReactCurrentDispatcher,eb=a.ReactCurrentOwner,zn=a.ReactCurrentBatchConfig,Xt=0,Jn=null,Yn=null,vr=0,Pi=0,zu=wt(0),Zn=0,pf=null,Hu=0,Og=0,tb=0,mf=null,ui=null,nb=0,rb=1/0;function Gu(){rb=lr()+500}var Fg=!1,ib=null,Ia=null,jg=!1,Da=null,Ug=0,gf=0,sb=null,zg=-1,Hg=0;function Jr(){return Xt&6?lr():zg!==-1?zg:zg=lr()}function Ba(h){return h.mode&1?Xt&2&&vr!==0?vr&-vr:Dz.transition!==null?(Hg===0&&(h=Qn,Qn<<=1,!(Qn&4194240)&&(Qn=64),Hg=h),Hg):(h=cn,h!==0?h:Ce()):1}function es(h,p,_){if(50<gf)throw gf=0,sb=null,Error(o(185));var E=Gg(h,p);return E===null?null:(Qh(E,p,_),(!(Xt&2)||E!==Jn)&&(E===Jn&&(!(Xt&2)&&(Og|=p),Zn===4&&La(E,vr)),di(E,_),p===1&&Xt===0&&!(h.mode&1)&&(Gu(),sg&&$s())),E)}function Gg(h,p){h.lanes|=p;var _=h.alternate;for(_!==null&&(_.lanes|=p),_=h,h=h.return;h!==null;)h.childLanes|=p,_=h.alternate,_!==null&&(_.childLanes|=p),_=h,h=h.return;return _.tag===3?_.stateNode:null}function di(h,p){var _=h.callbackNode;Az(h,p);var E=rg(h,h===Jn?vr:0);if(E===0)_!==null&&gT(_),h.callbackNode=null,h.callbackPriority=0;else if(p=E&-E,h.callbackPriority!==p){if(_!=null&&gT(_),p===1)h.tag===0?Iz(IN.bind(null,h)):xT(IN.bind(null,h)),Ae?ze(function(){Xt===0&&$s()}):f_(p_,$s),_=null;else{switch(mT(E)){case 1:_=p_;break;case 4:_=Tz;break;case 16:_=m_;break;case 536870912:_=Nz;break;default:_=m_}_=zN(_,PN.bind(null,h))}h.callbackPriority=p,h.callbackNode=_}}function PN(h,p){if(zg=-1,Hg=0,Xt&6)throw Error(o(327));var _=h.callbackNode;if(lc()&&h.callbackNode!==_)return null;var E=rg(h,h===Jn?vr:0);if(E===0)return null;if(E&30||E&h.expiredLanes||p)p=Vg(h,E);else{p=E;var M=Xt;Xt|=2;var B=LN();(Jn!==h||vr!==p)&&(Gu(),oc(h,p));do try{e6();break}catch(Z){BN(h,Z)}while(!0);v_(),kg.current=B,Xt=M,Yn!==null?p=0:(Jn=null,vr=0,p=Zn)}if(p!==0){if(p===2&&(M=u_(h),M!==0&&(E=M,p=ob(h,M))),p===1)throw _=pf,oc(h,0),La(h,E),di(h,lr()),_;if(p===6)La(h,E);else{if(M=h.current.alternate,!(E&30)&&!Qz(M)&&(p=Vg(h,E),p===2&&(B=u_(h),B!==0&&(E=B,p=ob(h,B))),p===1))throw _=pf,oc(h,0),La(h,E),di(h,lr()),_;switch(h.finishedWork=M,h.finishedLanes=E,p){case 0:case 1:throw Error(o(345));case 2:ac(h,ui);break;case 3:if(La(h,E),(E&130023424)===E&&(p=nb+500-lr(),10<p)){if(rg(h,0)!==0)break;if(M=h.suspendedLanes,(M&E)!==E){Jr(),h.pingedLanes|=h.suspendedLanes&M;break}h.timeoutHandle=le(ac.bind(null,h,ui),p);break}ac(h,ui);break;case 4:if(La(h,E),(E&4194240)===E)break;for(p=h.eventTimes,M=-1;0<E;){var V=31-Qt(E);B=1<<V,V=p[V],V>M&&(M=V),E&=~B}if(E=M,E=lr()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*qz(E/1960))-E,10<E){h.timeoutHandle=le(ac.bind(null,h,ui),E);break}ac(h,ui);break;case 5:ac(h,ui);break;default:throw Error(o(329))}}}return di(h,lr()),h.callbackNode===_?PN.bind(null,h):null}function ob(h,p){var _=mf;return h.current.memoizedState.isDehydrated&&(oc(h,p).flags|=256),h=Vg(h,p),h!==2&&(p=ui,ui=_,p!==null&&ab(p)),h}function ab(h){ui===null?ui=h:ui.push.apply(ui,h)}function Qz(h){for(var p=h;;){if(p.flags&16384){var _=p.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var E=0;E<_.length;E++){var M=_[E],B=M.getSnapshot;M=M.value;try{if(!Ys(B(),M))return!1}catch{return!1}}}if(_=p.child,p.subtreeFlags&16384&&_!==null)_.return=p,p=_;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function La(h,p){for(p&=~tb,p&=~Og,h.suspendedLanes|=p,h.pingedLanes&=~p,h=h.expirationTimes;0<p;){var _=31-Qt(p),E=1<<_;h[_]=-1,p&=~E}}function IN(h){if(Xt&6)throw Error(o(327));lc();var p=rg(h,0);if(!(p&1))return di(h,lr()),null;var _=Vg(h,p);if(h.tag!==0&&_===2){var E=u_(h);E!==0&&(p=E,_=ob(h,E))}if(_===1)throw _=pf,oc(h,0),La(h,p),di(h,lr()),_;if(_===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=p,ac(h,ui),di(h,lr()),null}function DN(h){Da!==null&&Da.tag===0&&!(Xt&6)&&lc();var p=Xt;Xt|=1;var _=zn.transition,E=cn;try{if(zn.transition=null,cn=1,h)return h()}finally{cn=E,zn.transition=_,Xt=p,!(Xt&6)&&$s()}}function lb(){Pi=zu.current,Ve(zu)}function oc(h,p){h.finishedWork=null,h.finishedLanes=0;var _=h.timeoutHandle;if(_!==He&&(h.timeoutHandle=He,ke(_)),Yn!==null)for(_=Yn.return;_!==null;){var E=_;switch(E_(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&Zt();break;case 3:ju(),Ve(Yt),Ve(Jt),I_();break;case 5:R_(E);break;case 4:ju();break;case 13:Ve(Rn);break;case 19:Ve(Rn);break;case 10:y_(E.type._context);break;case 22:case 23:lb()}_=_.return}if(Jn=h,Yn=h=ka(h.current,null),vr=Pi=p,Zn=0,pf=null,tb=Og=Hu=0,ui=mf=null,qs!==null){for(p=0;p<qs.length;p++)if(_=qs[p],E=_.interleaved,E!==null){_.interleaved=null;var M=E.next,B=_.pending;if(B!==null){var V=B.next;B.next=M,E.next=V}_.pending=E}qs=null}return h}function BN(h,p){do{var _=Yn;try{if(v_(),gg.current=bg,xg){for(var E=kn.memoizedState;E!==null;){var M=E.queue;M!==null&&(M.pending=null),E=E.next}xg=!1}if(Uu=0,cr=Er=kn=null,sf=!1,of=0,eb.current=null,_===null||_.return===null){Zn=1,pf=p,Yn=null;break}e:{var B=h,V=_.return,Z=_,ge=p;if(p=vr,Z.flags|=32768,ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Fe=ge,ct=Z,It=ct.tag;if(!(ct.mode&1)&&(It===0||It===11||It===15)){var Ct=ct.alternate;Ct?(ct.updateQueue=Ct.updateQueue,ct.memoizedState=Ct.memoizedState,ct.lanes=Ct.lanes):(ct.updateQueue=null,ct.memoizedState=null)}var vn=tN(V);if(vn!==null){vn.flags&=-257,nN(vn,V,Z,B,p),vn.mode&1&&eN(B,Fe,p),p=vn,ge=Fe;var xt=p.updateQueue;if(xt===null){var Tr=new Set;Tr.add(ge),p.updateQueue=Tr}else xt.add(ge);break e}else{if(!(p&1)){eN(B,Fe,p),cb();break e}ge=Error(o(426))}}else if(Cn&&Z.mode&1){var ns=tN(V);if(ns!==null){!(ns.flags&65536)&&(ns.flags|=256),nN(ns,V,Z,B,p),T_(ge);break e}}B=ge,Zn!==4&&(Zn=2),mf===null?mf=[B]:mf.push(B),ge=j_(ge,Z),Z=V;do{switch(Z.tag){case 3:Z.flags|=65536,p&=-p,Z.lanes|=p;var ae=QT(Z,ge,p);wT(Z,ae);break e;case 1:B=ge;var te=Z.type,pe=Z.stateNode;if(!(Z.flags&128)&&(typeof te.getDerivedStateFromError=="function"||pe!==null&&typeof pe.componentDidCatch=="function"&&(Ia===null||!Ia.has(pe)))){Z.flags|=65536,p&=-p,Z.lanes|=p;var nt=ZT(Z,B,p);wT(Z,nt);break e}}Z=Z.return}while(Z!==null)}ON(_)}catch(mt){p=mt,Yn===_&&_!==null&&(Yn=_=_.return);continue}break}while(!0)}function LN(){var h=kg.current;return kg.current=bg,h===null?bg:h}function cb(){(Zn===0||Zn===3||Zn===2)&&(Zn=4),Jn===null||!(Hu&268435455)&&!(Og&268435455)||La(Jn,vr)}function Vg(h,p){var _=Xt;Xt|=2;var E=LN();Jn===h&&vr===p||oc(h,p);do try{Zz();break}catch(M){BN(h,M)}while(!0);if(v_(),Xt=_,kg.current=E,Yn!==null)throw Error(o(261));return Jn=null,vr=0,Zn}function Zz(){for(;Yn!==null;)kN(Yn)}function e6(){for(;Yn!==null&&!Cz();)kN(Yn)}function kN(h){var p=UN(h.alternate,h,Pi);h.memoizedProps=h.pendingProps,p===null?ON(h):Yn=p,eb.current=null}function ON(h){var p=h;do{var _=p.alternate;if(h=p.return,p.flags&32768){if(_=Xz(_,p),_!==null){_.flags&=32767,Yn=_;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Zn=6,Yn=null;return}}else if(_=Gz(_,p,Pi),_!==null){Yn=_;return}if(p=p.sibling,p!==null){Yn=p;return}Yn=p=h}while(p!==null);Zn===0&&(Zn=5)}function ac(h,p){var _=cn,E=zn.transition;try{zn.transition=null,cn=1,t6(h,p,_)}finally{zn.transition=E,cn=_}return null}function t6(h,p,_){do lc();while(Da!==null);if(Xt&6)throw Error(o(327));var E=h.finishedWork,M=h.finishedLanes;if(E===null)return null;if(h.finishedWork=null,h.finishedLanes=0,E===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var B=E.lanes|E.childLanes;if(Ez(h,B),h===Jn&&(Yn=Jn=null,vr=0),!(E.subtreeFlags&2064)&&!(E.flags&2064)||jg||(jg=!0,zN(m_,function(){return lc(),null})),B=(E.flags&15990)!==0,E.subtreeFlags&15990||B){B=zn.transition,zn.transition=null;var V=cn;cn=1;var Z=Xt;Xt|=4,eb.current=null,Jz(h,E),Yz(h,E),W(h.containerInfo),h.current=E,$z(E),Mz(),Xt=Z,cn=V,zn.transition=B}else h.current=E;if(jg&&(jg=!1,Da=h,Ug=M),B=h.pendingLanes,B===0&&(Ia=null),Rz(E.stateNode),di(h,lr()),p!==null)for(_=h.onRecoverableError,E=0;E<p.length;E++)_(p[E]);if(Fg)throw Fg=!1,h=ib,ib=null,h;return Ug&1&&h.tag!==0&&lc(),B=h.pendingLanes,B&1?h===sb?gf++:(gf=0,sb=h):gf=0,$s(),null}function lc(){if(Da!==null){var h=mT(Ug),p=zn.transition,_=cn;try{if(zn.transition=null,cn=16>h?16:h,Da===null)var E=!1;else{if(h=Da,Da=null,Ug=0,Xt&6)throw Error(o(331));var M=Xt;for(Xt|=4,Qe=h.current;Qe!==null;){var B=Qe,V=B.child;if(Qe.flags&16){var Z=B.deletions;if(Z!==null){for(var ge=0;ge<Z.length;ge++){var Fe=Z[ge];for(Qe=Fe;Qe!==null;){var ct=Qe;switch(ct.tag){case 0:case 11:case 15:sc(8,ct,B)}var It=ct.child;if(It!==null)It.return=ct,Qe=It;else for(;Qe!==null;){ct=Qe;var Ct=ct.sibling,vn=ct.return;if(_N(ct),ct===Fe){Qe=null;break}if(Ct!==null){Ct.return=vn,Qe=Ct;break}Qe=vn}}}var xt=B.alternate;if(xt!==null){var Tr=xt.child;if(Tr!==null){xt.child=null;do{var ns=Tr.sibling;Tr.sibling=null,Tr=ns}while(Tr!==null)}}Qe=B}}if(B.subtreeFlags&2064&&V!==null)V.return=B,Qe=V;else e:for(;Qe!==null;){if(B=Qe,B.flags&2048)switch(B.tag){case 0:case 11:case 15:sc(9,B,B.return)}var ae=B.sibling;if(ae!==null){ae.return=B.return,Qe=ae;break e}Qe=B.return}}var te=h.current;for(Qe=te;Qe!==null;){V=Qe;var pe=V.child;if(V.subtreeFlags&2064&&pe!==null)pe.return=V,Qe=pe;else e:for(V=te;Qe!==null;){if(Z=Qe,Z.flags&2048)try{switch(Z.tag){case 0:case 11:case 15:hf(9,Z)}}catch(mt){hi(Z,Z.return,mt)}if(Z===V){Qe=null;break e}var nt=Z.sibling;if(nt!==null){nt.return=Z.return,Qe=nt;break e}Qe=Z.return}}if(Xt=M,$s(),Js&&typeof Js.onPostCommitFiberRoot=="function")try{Js.onPostCommitFiberRoot(ig,h)}catch{}E=!0}return E}finally{cn=_,zn.transition=p}}return!1}function FN(h,p,_){p=j_(_,p),p=QT(h,p,1),Pa(h,p),p=Jr(),h=Gg(h,1),h!==null&&(Qh(h,1,p),di(h,p))}function hi(h,p,_){if(h.tag===3)FN(h,h,_);else for(;p!==null;){if(p.tag===3){FN(p,h,_);break}else if(p.tag===1){var E=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Ia===null||!Ia.has(E))){h=j_(_,h),h=ZT(p,h,1),Pa(p,h),h=Jr(),p=Gg(p,1),p!==null&&(Qh(p,1,h),di(p,h));break}}p=p.return}}function n6(h,p,_){var E=h.pingCache;E!==null&&E.delete(p),p=Jr(),h.pingedLanes|=h.suspendedLanes&_,Jn===h&&(vr&_)===_&&(Zn===4||Zn===3&&(vr&130023424)===vr&&500>lr()-nb?oc(h,0):tb|=_),di(h,p)}function jN(h,p){p===0&&(h.mode&1?(p=Na,Na<<=1,!(Na&130023424)&&(Na=4194304)):p=1);var _=Jr();h=Gg(h,p),h!==null&&(Qh(h,p,_),di(h,_))}function r6(h){var p=h.memoizedState,_=0;p!==null&&(_=p.retryLane),jN(h,_)}function i6(h,p){var _=0;switch(h.tag){case 13:var E=h.stateNode,M=h.memoizedState;M!==null&&(_=M.retryLane);break;case 19:E=h.stateNode;break;default:throw Error(o(314))}E!==null&&E.delete(p),jN(h,_)}var UN;UN=function(h,p,_){if(h!==null)if(h.memoizedProps!==p.pendingProps||Yt.current)Ri=!0;else{if(!(h.lanes&_)&&!(p.flags&128))return Ri=!1,Wz(h,p,_);Ri=!!(h.flags&131072)}else Ri=!1,Cn&&p.flags&1048576&&CT(p,fg,p.index);switch(p.lanes=0,p.tag){case 2:var E=p.type;h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps;var M=pt(p,Jt.current);Du(p,_),M=B_(null,p,E,h,M,_);var B=L_();return p.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,ln(E)?(B=!0,ar(p)):B=!1,p.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,__(p),M.updater=dg,p.stateNode=M,M._reactInternals=p,S_(p,E,h,_),p=H_(null,p,E,!0,B,_)):(p.tag=0,Cn&&B&&A_(p),Kr(null,p,M,_),p=p.child),p;case 16:E=p.elementType;e:{switch(h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps,M=E._init,E=M(E._payload),p.type=E,M=p.tag=o6(E),h=vs(E,h),M){case 0:p=z_(null,p,E,h,_);break e;case 1:p=uN(null,p,E,h,_);break e;case 11:p=sN(null,p,E,h,_);break e;case 14:p=oN(null,p,E,vs(E.type,h),_);break e}throw Error(o(306,E,""))}return p;case 0:return E=p.type,M=p.pendingProps,M=p.elementType===E?M:vs(E,M),z_(h,p,E,M,_);case 1:return E=p.type,M=p.pendingProps,M=p.elementType===E?M:vs(E,M),uN(h,p,E,M,_);case 3:e:{if(dN(p),h===null)throw Error(o(387));E=p.pendingProps,B=p.memoizedState,M=B.element,yT(h,p),ug(p,E,null,_);var V=p.memoizedState;if(E=V.element,We&&B.isDehydrated)if(B={element:E,isDehydrated:!1,cache:V.cache,transitions:V.transitions},p.updateQueue.baseState=B,p.memoizedState=B,p.flags&256){M=Error(o(423)),p=hN(h,p,E,_,M);break e}else if(E!==M){M=Error(o(424)),p=hN(h,p,E,_,M);break e}else for(We&&(Ni=Zm(p.stateNode.containerInfo),Ti=p,Cn=!0,ys=null,Zh=!1),_=IT(p,null,E,_),p.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(ku(),E===M){p=Io(h,p,_);break e}Kr(h,p,E,_)}p=p.child}return p;case 5:return DT(p),h===null&&M_(p),E=p.type,M=p.pendingProps,B=h!==null?h.memoizedProps:null,V=M.children,we(E,M)?V=null:B!==null&&we(E,B)&&(p.flags|=32),cN(h,p),Kr(h,p,V,_),p.child;case 6:return h===null&&M_(p),null;case 13:return fN(h,p,_);case 4:return N_(p,p.stateNode.containerInfo),E=p.pendingProps,h===null?p.child=Ou(p,null,E,_):Kr(h,p,E,_),p.child;case 11:return E=p.type,M=p.pendingProps,M=p.elementType===E?M:vs(E,M),sN(h,p,E,M,_);case 7:return Kr(h,p,p.pendingProps,_),p.child;case 8:return Kr(h,p,p.pendingProps.children,_),p.child;case 12:return Kr(h,p,p.pendingProps.children,_),p.child;case 10:e:{if(E=p.type._context,M=p.pendingProps,B=p.memoizedProps,V=M.value,vT(p,E,V),B!==null)if(Ys(B.value,V)){if(B.children===M.children&&!Yt.current){p=Io(h,p,_);break e}}else for(B=p.child,B!==null&&(B.return=p);B!==null;){var Z=B.dependencies;if(Z!==null){V=B.child;for(var ge=Z.firstContext;ge!==null;){if(ge.context===E){if(B.tag===1){ge=To(-1,_&-_),ge.tag=2;var Fe=B.updateQueue;if(Fe!==null){Fe=Fe.shared;var ct=Fe.pending;ct===null?ge.next=ge:(ge.next=ct.next,ct.next=ge),Fe.pending=ge}}B.lanes|=_,ge=B.alternate,ge!==null&&(ge.lanes|=_),w_(B.return,_,p),Z.lanes|=_;break}ge=ge.next}}else if(B.tag===10)V=B.type===p.type?null:B.child;else if(B.tag===18){if(V=B.return,V===null)throw Error(o(341));V.lanes|=_,Z=V.alternate,Z!==null&&(Z.lanes|=_),w_(V,_,p),V=B.sibling}else V=B.child;if(V!==null)V.return=B;else for(V=B;V!==null;){if(V===p){V=null;break}if(B=V.sibling,B!==null){B.return=V.return,V=B;break}V=V.return}B=V}Kr(h,p,M.children,_),p=p.child}return p;case 9:return M=p.type,E=p.pendingProps.children,Du(p,_),M=Yi(M),E=E(M),p.flags|=1,Kr(h,p,E,_),p.child;case 14:return E=p.type,M=vs(E,p.pendingProps),M=vs(E.type,M),oN(h,p,E,M,_);case 15:return aN(h,p,p.type,p.pendingProps,_);case 17:return E=p.type,M=p.pendingProps,M=p.elementType===E?M:vs(E,M),h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,ln(E)?(h=!0,ar(p)):h=!1,Du(p,_),AT(p,E,M),S_(p,E,M,_),H_(null,p,E,!0,h,_);case 19:return xN(h,p,_);case 22:return lN(h,p,_)}throw Error(o(156,p.tag))};function zN(h,p){return f_(h,p)}function s6(h,p,_,E){this.tag=h,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ts(h,p,_,E){return new s6(h,p,_,E)}function ub(h){return h=h.prototype,!(!h||!h.isReactComponent)}function o6(h){if(typeof h=="function")return ub(h)?1:0;if(h!=null){if(h=h.$$typeof,h===y)return 11;if(h===b)return 14}return 2}function ka(h,p){var _=h.alternate;return _===null?(_=ts(h.tag,p,h.key,h.mode),_.elementType=h.elementType,_.type=h.type,_.stateNode=h.stateNode,_.alternate=h,h.alternate=_):(_.pendingProps=p,_.type=h.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=h.flags&14680064,_.childLanes=h.childLanes,_.lanes=h.lanes,_.child=h.child,_.memoizedProps=h.memoizedProps,_.memoizedState=h.memoizedState,_.updateQueue=h.updateQueue,p=h.dependencies,_.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},_.sibling=h.sibling,_.index=h.index,_.ref=h.ref,_}function Wg(h,p,_,E,M,B){var V=2;if(E=h,typeof h=="function")ub(h)&&(V=1);else if(typeof h=="string")V=5;else e:switch(h){case d:return cc(_.children,M,B,p);case f:V=8,M|=8;break;case m:return h=ts(12,_,p,M|2),h.elementType=m,h.lanes=B,h;case w:return h=ts(13,_,p,M),h.elementType=w,h.lanes=B,h;case x:return h=ts(19,_,p,M),h.elementType=x,h.lanes=B,h;case A:return Xg(_,M,B,p);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case g:V=10;break e;case v:V=9;break e;case y:V=11;break e;case b:V=14;break e;case S:V=16,E=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return p=ts(V,_,p,M),p.elementType=h,p.type=E,p.lanes=B,p}function cc(h,p,_,E){return h=ts(7,h,E,p),h.lanes=_,h}function Xg(h,p,_,E){return h=ts(22,h,E,p),h.elementType=A,h.lanes=_,h.stateNode={},h}function db(h,p,_){return h=ts(6,h,null,p),h.lanes=_,h}function hb(h,p,_){return p=ts(4,h.children!==null?h.children:[],h.key,p),p.lanes=_,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}function a6(h,p,_,E,M){this.tag=p,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=He,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=d_(0),this.expirationTimes=d_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=d_(0),this.identifierPrefix=E,this.onRecoverableError=M,We&&(this.mutableSourceEagerHydrationData=null)}function HN(h,p,_,E,M,B,V,Z,ge){return h=new a6(h,p,_,Z,ge),p===1?(p=1,B===!0&&(p|=8)):p=0,B=ts(3,null,null,p),h.current=B,B.stateNode=h,B.memoizedState={element:E,isDehydrated:_,cache:null,transitions:null},__(B),h}function GN(h){if(!h)return Wt;h=h._reactInternals;e:{if(I(h)!==h||h.tag!==1)throw Error(o(170));var p=h;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(ln(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(o(171))}if(h.tag===1){var _=h.type;if(ln(_))return Co(h,_,p)}return p}function VN(h){var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=G(p),h===null?null:h.stateNode}function WN(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var _=h.retryLane;h.retryLane=_!==0&&_<p?_:p}}function fb(h,p){WN(h,p),(h=h.alternate)&&WN(h,p)}function l6(h){return h=G(h),h===null?null:h.stateNode}function c6(){return null}return t.attemptContinuousHydration=function(h){if(h.tag===13){var p=Jr();es(h,134217728,p),fb(h,134217728)}},t.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var p=Jr(),_=Ba(h);es(h,_,p),fb(h,_)}},t.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var p=h.stateNode;if(p.current.memoizedState.isDehydrated){var _=Mi(p.pendingLanes);_!==0&&(h_(p,_|1),di(p,lr()),!(Xt&6)&&(Gu(),$s()))}break;case 13:var E=Jr();DN(function(){return es(h,1,E)}),fb(h,1)}},t.batchedUpdates=function(h,p){var _=Xt;Xt|=1;try{return h(p)}finally{Xt=_,Xt===0&&(Gu(),sg&&$s())}},t.createComponentSelector=function(h){return{$$typeof:Pg,value:h}},t.createContainer=function(h,p,_,E,M,B,V){return HN(h,p,!1,null,_,E,M,B,V)},t.createHasPseudoClassSelector=function(h){return{$$typeof:Ig,value:h}},t.createHydrationContainer=function(h,p,_,E,M,B,V,Z,ge){return h=HN(_,E,!0,h,M,B,V,Z,ge),h.context=GN(null),_=h.current,E=Jr(),M=Ba(_),B=To(E,M),B.callback=p??null,Pa(_,B),h.current.lanes=M,Qh(h,M,E),di(h,E),h},t.createPortal=function(h,p,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:E==null?null:""+E,children:h,containerInfo:p,implementation:_}},t.createRoleSelector=function(h){return{$$typeof:Dg,value:h}},t.createTestNameSelector=function(h){return{$$typeof:Bg,value:h}},t.createTextSelector=function(h){return{$$typeof:Lg,value:h}},t.deferredUpdates=function(h){var p=cn,_=zn.transition;try{return zn.transition=null,cn=16,h()}finally{cn=p,zn.transition=_}},t.discreteUpdates=function(h,p,_,E,M){var B=cn,V=zn.transition;try{return zn.transition=null,cn=1,h(p,_,E,M)}finally{cn=B,zn.transition=V,Xt===0&&Gu()}},t.findAllNodes=Z_,t.findBoundingRects=function(h,p){if(!Ne)throw Error(o(363));p=Z_(h,p),h=[];for(var _=0;_<p.length;_++)h.push(O(p[_]));for(p=h.length-1;0<p;p--){_=h[p];for(var E=_.x,M=E+_.width,B=_.y,V=B+_.height,Z=p-1;0<=Z;Z--)if(p!==Z){var ge=h[Z],Fe=ge.x,ct=Fe+ge.width,It=ge.y,Ct=It+ge.height;if(E>=Fe&&B>=It&&M<=ct&&V<=Ct){h.splice(p,1);break}else if(E!==Fe||_.width!==ge.width||Ct<B||It>V){if(!(B!==It||_.height!==ge.height||ct<E||Fe>M)){Fe>E&&(ge.width+=Fe-E,ge.x=E),ct<M&&(ge.width=M-Fe),h.splice(p,1);break}}else{It>B&&(ge.height+=It-B,ge.y=B),Ct<V&&(ge.height=V-It),h.splice(p,1);break}}}return h},t.findHostInstance=VN,t.findHostInstanceWithNoPortals=function(h){return h=k(h),h=h!==null?J(h):null,h===null?null:h.stateNode},t.findHostInstanceWithWarning=function(h){return VN(h)},t.flushControlled=function(h){var p=Xt;Xt|=1;var _=zn.transition,E=cn;try{zn.transition=null,cn=1,h()}finally{cn=E,zn.transition=_,Xt=p,Xt===0&&(Gu(),$s())}},t.flushPassiveEffects=lc,t.flushSync=DN,t.focusWithin=function(h,p){if(!Ne)throw Error(o(363));for(h=$_(h),p=RN(h,p),p=Array.from(p),h=0;h<p.length;){var _=p[h++];if(!he(_)){if(_.tag===5&&fe(_.stateNode))return!0;for(_=_.child;_!==null;)p.push(_),_=_.sibling}}return!1},t.getCurrentUpdatePriority=function(){return cn},t.getFindAllNodesFailureDescription=function(h,p){if(!Ne)throw Error(o(363));var _=0,E=[];h=[$_(h),0];for(var M=0;M<h.length;){var B=h[M++],V=h[M++],Z=p[V];if((B.tag!==5||!he(B))&&(q_(B,Z)&&(E.push(Q_(Z)),V++,V>_&&(_=V)),V<p.length))for(B=B.child;B!==null;)h.push(B,V),B=B.sibling}if(_<p.length){for(h=[];_<p.length;_++)h.push(Q_(p[_]));return`findAllNodes was able to match part of the selector:
  `+(E.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},t.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return Y(h.child.stateNode);default:return h.child.stateNode}},t.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:l6,findFiberByHostInstance:h.findFiberByHostInstance||c6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)h=!0;else{try{ig=p.inject(h),Js=p}catch{}h=!!p.checkDCE}}return h},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(h,p,_,E){if(!Ne)throw Error(o(363));h=Z_(h,p);var M=tt(h,_,E).disconnect;return{disconnect:function(){M()}}},t.registerMutableSourceForHydration=function(h,p){var _=p._getVersion;_=_(p._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[p,_]:h.mutableSourceEagerHydrationData.push(p,_)},t.runWithPriority=function(h,p){var _=cn;try{return cn=h,p()}finally{cn=_}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(h,p,_,E){var M=p.current,B=Jr(),V=Ba(M);return _=GN(_),p.context===null?p.context=_:p.pendingContext=_,p=To(B,V),p.payload={element:h},E=E===void 0?null:E,E!==null&&(p.callback=E),Pa(M,p),h=es(M,V,B),h!==null&&cg(h,M,V),V},t};Z5.exports=Aue;var Eue=Z5.exports;const Cue=xE(Eue);var ez={exports:{}},tz={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,j){var W=L.length;L.push(j);e:for(;0<W;){var $=W-1>>>1,oe=L[$];if(0<i(oe,j))L[$]=j,L[W]=oe,W=$;else break e}}function t(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var j=L[0],W=L.pop();if(W!==j){L[0]=W;e:for(var $=0,oe=L.length,Se=oe>>>1;$<Se;){var ne=2*($+1)-1,we=L[ne],ve=ne+1,le=L[ve];if(0>i(we,W))ve<oe&&0>i(le,we)?(L[$]=le,L[ve]=W,$=ve):(L[$]=we,L[ne]=W,$=ne);else if(ve<oe&&0>i(le,W))L[$]=le,L[ve]=W,$=ve;else break e}}return j}function i(L,j){var W=L.sortIndex-j.sortIndex;return W!==0?W:L.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,f=null,m=3,g=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var j=t(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=L)r(u),j.sortIndex=j.expirationTime,e(c,j);else break;j=t(u)}}function A(L){if(y=!1,S(L),!v)if(t(c)!==null)v=!0,Y(T);else{var j=t(u);j!==null&&se(A,j.startTime-L)}}function T(L,j){v=!1,y&&(y=!1,x(D),D=-1),g=!0;var W=m;try{for(S(j),f=t(c);f!==null&&(!(f.expirationTime>j)||L&&!k());){var $=f.callback;if(typeof $=="function"){f.callback=null,m=f.priorityLevel;var oe=$(f.expirationTime<=j);j=n.unstable_now(),typeof oe=="function"?f.callback=oe:f===t(c)&&r(c),S(j)}else r(c);f=t(c)}if(f!==null)var Se=!0;else{var ne=t(u);ne!==null&&se(A,ne.startTime-j),Se=!1}return Se}finally{f=null,m=W,g=!1}}var N=!1,P=null,D=-1,I=5,R=-1;function k(){return!(n.unstable_now()-R<I)}function G(){if(P!==null){var L=n.unstable_now();R=L;var j=!0;try{j=P(!0,L)}finally{j?K():(N=!1,P=null)}}else N=!1}var K;if(typeof b=="function")K=function(){b(G)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,Q=J.port2;J.port1.onmessage=G,K=function(){Q.postMessage(null)}}else K=function(){w(G,0)};function Y(L){P=L,N||(N=!0,K())}function se(L,j){D=w(function(){L(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){v||g||(v=!0,Y(T))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(L){switch(m){case 1:case 2:case 3:var j=3;break;default:j=m}var W=m;m=j;try{return L()}finally{m=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,j){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=m;m=L;try{return j()}finally{m=W}},n.unstable_scheduleCallback=function(L,j,W){var $=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?$+W:$):W=$,L){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=W+oe,L={id:d++,callback:j,priorityLevel:L,startTime:W,expirationTime:oe,sortIndex:-1},W>$?(L.sortIndex=W,e(u,L),t(c)===null&&L===t(u)&&(y?(x(D),D=-1):y=!0,se(A,W-$))):(L.sortIndex=oe,e(c,L),v||g||(v=!0,Y(T))),L},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(L){var j=m;return function(){var W=m;m=j;try{return L.apply(this,arguments)}finally{m=W}}}})(tz);ez.exports=tz;var CD=ez.exports;const uT={},Mue=n=>void Object.assign(uT,n);function Tue(n,e){function t(d,{args:f=[],attach:m,...g},v){let y=`${d[0].toUpperCase()}${d.slice(1)}`,w;if(d==="primitive"){if(g.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=g.object;w=gd(x,{type:d,root:v,attach:m,primitive:!0})}else{const x=uT[y];if(!x)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");w=gd(new x(...f),{type:d,root:v,attach:m,memoizedProps:{args:f}})}return w.__r3f.attach===void 0&&(w.isBufferGeometry?w.__r3f.attach="geometry":w.isMaterial&&(w.__r3f.attach="material")),y!=="inject"&&i1(w,g),w}function r(d,f){let m=!1;if(f){var g,v;(g=f.__r3f)!=null&&g.attach?r1(d,f,f.__r3f.attach):f.isObject3D&&d.isObject3D&&(d.add(f),m=!0),m||(v=d.__r3f)==null||v.objects.push(f),f.__r3f||gd(f,{}),f.__r3f.parent=d,fE(f),xd(f)}}function i(d,f,m){let g=!1;if(f){var v,y;if((v=f.__r3f)!=null&&v.attach)r1(d,f,f.__r3f.attach);else if(f.isObject3D&&d.isObject3D){f.parent=d,f.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:f});const w=d.children.filter(b=>b!==f),x=w.indexOf(m);d.children=[...w.slice(0,x),f,...w.slice(x)],g=!0}g||(y=d.__r3f)==null||y.objects.push(f),f.__r3f||gd(f,{}),f.__r3f.parent=d,fE(f),xd(f)}}function s(d,f,m=!1){d&&[...d].forEach(g=>o(f,g,m))}function o(d,f,m){if(f){var g,v,y;if(f.__r3f&&(f.__r3f.parent=null),(g=d.__r3f)!=null&&g.objects&&(d.__r3f.objects=d.__r3f.objects.filter(A=>A!==f)),(v=f.__r3f)!=null&&v.attach)PD(d,f,f.__r3f.attach);else if(f.isObject3D&&d.isObject3D){var w;d.remove(f),(w=f.__r3f)!=null&&w.root&&Oue(Kv(f),f)}const b=(y=f.__r3f)==null?void 0:y.primitive,S=!b&&(m===void 0?f.dispose!==null:m);if(!b){var x;s((x=f.__r3f)==null?void 0:x.objects,f,S),s(f.children,f,S)}if(delete f.__r3f,S&&f.dispose&&f.type!=="Scene"){const A=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?CD.unstable_scheduleCallback(CD.unstable_IdlePriority,A):A()}xd(d)}}function a(d,f,m,g){var v;const y=(v=d.__r3f)==null?void 0:v.parent;if(!y)return;const w=t(f,m,d.__r3f.root);if(d.children){for(const x of d.children)x.__r3f&&r(w,x);d.children=d.children.filter(x=>!x.__r3f)}d.__r3f.objects.forEach(x=>r(w,x)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(y,d),w.parent&&(w.__r3f.autoRemovedBeforeAppend=!0),r(y,w),w.raycast&&w.__r3f.eventCount&&Kv(w).getState().internal.interaction.push(w),[g,g.alternate].forEach(x=>{x!==null&&(x.stateNode=w,x.ref&&(typeof x.ref=="function"?x.ref(w):x.ref.current=w))})}const c=()=>{};return{reconciler:Cue({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,f)=>{if(!f)return;const m=d.getState().scene;m.__r3f&&(m.__r3f.root=d,r(m,f))},removeChildFromContainer:(d,f)=>{f&&o(d.getState().scene,f)},insertInContainerBefore:(d,f,m)=>{if(!f||!m)return;const g=d.getState().scene;g.__r3f&&i(g,f,m)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var f;return!!((f=d==null?void 0:d.__r3f)!=null?f:{}).handlers},prepareUpdate(d,f,m,g){var v;if(((v=d==null?void 0:d.__r3f)!=null?v:{}).primitive&&g.object&&g.object!==d)return[!0];{const{args:w=[],children:x,...b}=g,{args:S=[],children:A,...T}=m;if(!Array.isArray(w))throw new Error("R3F: the args prop must be an array!");if(w.some((P,D)=>P!==S[D]))return[!0];const N=lz(d,b,T,!0);return N.changes.length?[!1,N]:null}},commitUpdate(d,[f,m],g,v,y,w){f?a(d,g,y,w):i1(d,m)},commitMount(d,f,m,g){var v;const y=(v=d.__r3f)!=null?v:{};d.raycast&&y.handlers&&y.eventCount&&Kv(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>gd(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var f;const{attach:m,parent:g}=(f=d.__r3f)!=null?f:{};m&&g&&PD(g,d,m),d.isObject3D&&(d.visible=!1),xd(d)},unhideInstance(d,f){var m;const{attach:g,parent:v}=(m=d.__r3f)!=null?m:{};g&&v&&r1(v,d,g),(d.isObject3D&&f.visible==null||f.visible)&&(d.visible=!0),xd(d)},createTextInstance:c,hideTextInstance:c,unhideTextInstance:c,getCurrentEventPriority:()=>e?e():Dd.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&wn.fun(performance.now)?performance.now:wn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:wn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:wn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:i1}}var MD,TD;const n1=n=>"colorSpace"in n||"outputColorSpace"in n,nz=()=>{var n;return(n=uT.ColorManagement)!=null?n:null},rz=n=>n&&n.isOrthographicCamera,Nue=n=>n&&n.hasOwnProperty("current"),Jm=typeof window<"u"&&((MD=window.document)!=null&&MD.createElement||((TD=window.navigator)==null?void 0:TD.product)==="ReactNative")?C.useLayoutEffect:C.useEffect;function iz(n){const e=C.useRef(n);return Jm(()=>void(e.current=n),[n]),e}function Rue({set:n}){return Jm(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class sz extends C.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}sz.getDerivedStateFromError=()=>({error:!0});const oz="__default",ND=new Map,Pue=n=>n&&!!n.memoized&&!!n.changes;function az(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const zf=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function Kv(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const wn={obj:n=>n===Object(n)&&!wn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(wn.str(n)||wn.num(n)||wn.boo(n))return n===e;const s=wn.obj(n);if(s&&r==="reference")return n===e;const o=wn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!wn.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(wn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Iue(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function Due(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function gd(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function hE(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const RD=/-\d+$/;function r1(n,e,t){if(wn.str(t)){if(RD.test(t)){const s=t.replace(RD,""),{target:o,key:a}=hE(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=hE(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function PD(n,e,t){var r,i;if(wn.str(t)){const{target:s,key:o}=hE(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function lz(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...c}={},u=!1){const d=n.__r3f,f=Object.entries(i),m=[];if(u){const v=Object.keys(c);for(let y=0;y<v.length;y++)i.hasOwnProperty(v[y])||f.unshift([v[y],oz+"remove"])}f.forEach(([v,y])=>{var w;if((w=n.__r3f)!=null&&w.primitive&&v==="object"||wn.equ(y,c[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return m.push([v,y,!0,[]]);let x=[];v.includes("-")&&(x=v.split("-")),m.push([v,y,!1,x]);for(const b in i){const S=i[b];b.startsWith(`${v}-`)&&m.push([b,S,!1,b.split("-")])}});const g={...i};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(g.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(g.attach=d.memoizedProps.attach),{memoized:g,changes:m}}const Bue=typeof process<"u"&&!1;function i1(n,e){var t;const r=n.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=Pue(e)?e:lz(n,e),c=r==null?void 0:r.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let m=0;m<a.length;m++){let[g,v,y,w]=a[m];if(n1(n)){const A="srgb",T="srgb-linear";g==="encoding"?(g="colorSpace",v=v===3001?A:T):g==="outputEncoding"&&(g="outputColorSpace",v=v===3001?A:T)}let x=n,b=x[g];if(w.length&&(b=w.reduce((S,A)=>S[A],n),!(b&&b.set))){const[S,...A]=w.reverse();x=A.reverse().reduce((T,N)=>T[N],n),g=S}if(v===oz+"remove")if(x.constructor){let S=ND.get(x.constructor);S||(S=new x.constructor,ND.set(x.constructor,S)),v=S[g]}else v=0;if(y&&r)v?r.handlers[g]=v:delete r.handlers[g],r.eventCount=Object.keys(r.handlers).length;else if(b&&b.set&&(b.copy||b instanceof qc)){if(Array.isArray(v))b.fromArray?b.fromArray(v):b.set(...v);else if(b.copy&&v&&v.constructor&&(Bue?b.constructor.name===v.constructor.name:b.constructor===v.constructor))b.copy(v);else if(v!==void 0){var u;const S=(u=b)==null?void 0:u.isColor;!S&&b.setScalar?b.setScalar(v):b instanceof qc&&v instanceof qc?b.mask=v.mask:b.set(v),!nz()&&s&&!s.linear&&S&&b.convertSRGBToLinear()}}else{var d;if(x[g]=v,(d=x[g])!=null&&d.isTexture&&x[g].format===Fr&&x[g].type===ms&&s){const S=x[g];n1(S)&&n1(s.gl)?S.colorSpace=s.gl.outputColorSpace:S.encoding=s.gl.outputEncoding}}xd(n)}if(r&&r.parent&&n.raycast&&c!==r.eventCount){const m=Kv(n).getState().internal,g=m.interaction.indexOf(n);g>-1&&m.interaction.splice(g,1),r.eventCount&&m.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&fE(n),n}function xd(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function fE(n){n.onUpdate==null||n.onUpdate(n)}function Lue(n,e){n.manual||(rz(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function hv(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function kue(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Dd.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Dd.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Dd.ContinuousEventPriority;default:return Dd.DefaultEventPriority}}function cz(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function Oue(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{cz(t.capturedMap,e,r,i)})}function Fue(n){function e(c){const{internal:u}=n.getState(),d=c.offsetX-u.initialClick[0],f=c.offsetY-u.initialClick[1];return Math.round(Math.sqrt(d*d+f*f))}function t(c){return c.filter(u=>["Move","Over","Enter","Out","Leave"].some(d=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+d]}))}function r(c,u){const d=n.getState(),f=new Set,m=[],g=u?u(d.internal.interaction):d.internal.interaction;for(let x=0;x<g.length;x++){const b=zf(g[x]);b&&(b.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(c,d);function v(x){const b=zf(x);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var S;b.events.compute==null||b.events.compute(c,b,(S=b.previousRoot)==null?void 0:S.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(x,!0):[]}let y=g.flatMap(v).sort((x,b)=>{const S=zf(x.object),A=zf(b.object);return!S||!A?x.distance-b.distance:A.events.priority-S.events.priority||x.distance-b.distance}).filter(x=>{const b=hv(x);return f.has(b)?!1:(f.add(b),!0)});d.events.filter&&(y=d.events.filter(y,d));for(const x of y){let b=x.object;for(;b;){var w;(w=b.__r3f)!=null&&w.eventCount&&m.push({...x,eventObject:b}),b=b.parent}}if("pointerId"in c&&d.internal.capturedMap.has(c.pointerId))for(let x of d.internal.capturedMap.get(c.pointerId).values())f.has(hv(x.intersection))||m.push(x.intersection);return m}function i(c,u,d,f){const m=n.getState();if(c.length){const g={stopped:!1};for(const v of c){const y=zf(v.object)||m,{raycaster:w,pointer:x,camera:b,internal:S}=y,A=new H(x.x,x.y,0).unproject(b),T=R=>{var k,G;return(k=(G=S.capturedMap.get(R))==null?void 0:G.has(v.eventObject))!=null?k:!1},N=R=>{const k={intersection:v,target:u.target};S.capturedMap.has(R)?S.capturedMap.get(R).set(v.eventObject,k):S.capturedMap.set(R,new Map([[v.eventObject,k]])),u.target.setPointerCapture(R)},P=R=>{const k=S.capturedMap.get(R);k&&cz(S.capturedMap,v.eventObject,k,R)};let D={};for(let R in u){let k=u[R];typeof k!="function"&&(D[R]=k)}let I={...v,...D,pointer:x,intersections:c,stopped:g.stopped,delta:d,unprojectedPoint:A,ray:w.ray,camera:b,stopPropagation(){const R="pointerId"in u&&S.capturedMap.get(u.pointerId);if((!R||R.has(v.eventObject))&&(I.stopped=g.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(k=>k.eventObject===v.eventObject))){const k=c.slice(0,c.indexOf(v));s([...k,v])}},target:{hasPointerCapture:T,setPointerCapture:N,releasePointerCapture:P},currentTarget:{hasPointerCapture:T,setPointerCapture:N,releasePointerCapture:P},nativeEvent:u};if(f(I),g.stopped===!0)break}}return c}function s(c){const{internal:u}=n.getState();for(const d of u.hovered.values())if(!c.length||!c.find(f=>f.object===d.object&&f.index===d.index&&f.instanceId===d.instanceId)){const m=d.eventObject.__r3f,g=m==null?void 0:m.handlers;if(u.hovered.delete(hv(d)),m!=null&&m.eventCount){const v={...d,intersections:c};g.onPointerOut==null||g.onPointerOut(v),g.onPointerLeave==null||g.onPointerLeave(v)}}}function o(c,u){for(let d=0;d<u.length;d++){const f=u[d].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(c)}}function a(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:d}=n.getState();"pointerId"in u&&d.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(u.pointerId)&&(d.capturedMap.delete(u.pointerId),s([]))})}}return function(d){const{onPointerMissed:f,internal:m}=n.getState();m.lastEvent.current=d;const g=c==="onPointerMove",v=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",w=r(d,g?t:void 0),x=v?e(d):0;c==="onPointerDown"&&(m.initialClick=[d.offsetX,d.offsetY],m.initialHits=w.map(S=>S.eventObject)),v&&!w.length&&x<=2&&(o(d,m.interaction),f&&f(d)),g&&s(w);function b(S){const A=S.eventObject,T=A.__r3f,N=T==null?void 0:T.handlers;if(T!=null&&T.eventCount)if(g){if(N.onPointerOver||N.onPointerEnter||N.onPointerOut||N.onPointerLeave){const P=hv(S),D=m.hovered.get(P);D?D.stopped&&S.stopPropagation():(m.hovered.set(P,S),N.onPointerOver==null||N.onPointerOver(S),N.onPointerEnter==null||N.onPointerEnter(S))}N.onPointerMove==null||N.onPointerMove(S)}else{const P=N[c];P?(!v||m.initialHits.includes(A))&&(o(d,m.interaction.filter(D=>!m.initialHits.includes(D))),P(S)):v&&m.initialHits.includes(A)&&o(d,m.interaction.filter(D=>!m.initialHits.includes(D)))}}i(w,d,x,b)}}return{handlePointer:a}}const uz=n=>!!(n!=null&&n.render),dz=C.createContext(null),jue=(n,e)=>{const t=xue((a,c)=>{const u=new H,d=new H,f=new H;function m(x=c().camera,b=d,S=c().size){const{width:A,height:T,top:N,left:P}=S,D=A/T;b.isVector3?f.copy(b):f.set(...b);const I=x.getWorldPosition(u).distanceTo(f);if(rz(x))return{width:A/x.zoom,height:T/x.zoom,top:N,left:P,factor:1,distance:I,aspect:D};{const R=x.fov*Math.PI/180,k=2*Math.tan(R/2)*I,G=k*(A/T);return{width:G,height:k,top:N,left:P,factor:A/G,distance:I,aspect:D}}}let g;const v=x=>a(b=>({performance:{...b.performance,current:x}})),y=new _e;return{set:a,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(x=1)=>n(c(),x),advance:(x,b)=>e(x,b,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new iT,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=c();g&&clearTimeout(g),x.performance.current!==x.performance.min&&v(x.performance.min),g=setTimeout(()=>v(c().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:m},setEvents:x=>a(b=>({...b,events:{...b.events,...x}})),setSize:(x,b,S,A,T)=>{const N=c().camera,P={width:x,height:b,top:A||0,left:T||0,updateStyle:S};a(D=>({size:P,viewport:{...D.viewport,...m(N,d,P)}}))},setDpr:x=>a(b=>{const S=az(x);return{viewport:{...b.viewport,dpr:S,initialDpr:b.viewport.initialDpr||S}}}),setFrameloop:(x="always")=>{const b=c().clock;b.stop(),b.elapsedTime=0,x!=="never"&&(b.start(),b.elapsedTime=0),a(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:C.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,b,S)=>{const A=c().internal;return A.priority=A.priority+(b>0?1:0),A.subscribers.push({ref:x,priority:b,store:S}),A.subscribers=A.subscribers.sort((T,N)=>T.priority-N.priority),()=>{const T=c().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(b>0?1:0),T.subscribers=T.subscribers.filter(N=>N.ref!==x))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:c,viewport:u,gl:d,set:f}=t.getState();if(c.width!==i.width||c.height!==i.height||u.dpr!==s){var m;i=c,s=u.dpr,Lue(a,c),d.setPixelRatio(u.dpr);const g=(m=c.updateStyle)!=null?m:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(c.width,c.height,g)}a!==o&&(o=a,f(g=>({viewport:{...g.viewport,...g.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let fv,Uue=new Set,zue=new Set,Hue=new Set;function s1(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Hf(n,e){switch(n){case"before":return s1(Uue,e);case"after":return s1(zue,e);case"tail":return s1(Hue,e)}}let o1,a1;function l1(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),o1=e.internal.subscribers,fv=0;fv<o1.length;fv++)a1=o1[fv],a1.ref.current(a1.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Gue(n){let e=!1,t=!1,r,i,s;function o(u){i=requestAnimationFrame(o),e=!0,r=0,Hf("before",u),t=!0;for(const f of n.values()){var d;s=f.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((d=s.gl.xr)!=null&&d.isPresenting)&&(r+=l1(u,s))}if(t=!1,Hf("after",u),r===0)return Hf("tail",u),e=!1,cancelAnimationFrame(i)}function a(u,d=1){var f;if(!u)return n.forEach(m=>a(m.store.getState(),d));(f=u.gl.xr)!=null&&f.isPresenting||!u.internal.active||u.frameloop==="never"||(d>1?u.internal.frames=Math.min(60,u.internal.frames+d):t?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function c(u,d=!0,f,m){if(d&&Hf("before",u),f)l1(u,f,m);else for(const g of n.values())l1(u,g.store.getState());d&&Hf("after",u)}return{loop:o,invalidate:a,advance:c}}function hz(){const n=C.useContext(dz);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Ya(n=t=>t,e){return hz()(n,e)}function dT(n,e=0){const t=hz(),r=t.getState().internal.subscribe,i=iz(n);return Jm(()=>r(i,e,t),[e,r,t]),null}const ID=new WeakMap;function fz(n,e){return function(t,...r){let i=ID.get(t);return i||(i=new t,ID.set(t,i)),n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,c=>{c.scene&&Object.assign(c,Iue(c.scene)),o(c)},e,c=>a(new Error(`Could not load ${s}: ${c==null?void 0:c.message}`))))))}}function Ym(n,e,t,r){const i=Array.isArray(e)?e:[e],s=yue(fz(t,r),[n,...i],{equal:wn.equ});return Array.isArray(e)?s:s[0]}Ym.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return wue(fz(t),[n,...r])};Ym.clear=function(n,e){const t=Array.isArray(e)?e:[e];return _ue([n,...t])};const Ph=new Map,{invalidate:DD,advance:BD}=Gue(Ph),{reconciler:Ey,applyProps:hd}=Tue(Ph,kue),fd={objects:"shallow",strict:!1},Vue=(n,e)=>{const t=typeof n=="function"?n(e):n;return uz(t)?t:new Y5({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function Wue(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=t}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:i,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function Xue(n){const e=Ph.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||jue(DD,BD),o=t||Ey.createContainer(s,Dd.ConcurrentRoot,null,!1,null,"",i,null);e||Ph.set(n,{fiber:o,store:s});let a,c=!1,u;return{configure(d={}){let{gl:f,size:m,scene:g,events:v,onCreated:y,shadows:w=!1,linear:x=!1,flat:b=!1,legacy:S=!1,orthographic:A=!1,frameloop:T="always",dpr:N=[1,2],performance:P,raycaster:D,camera:I,onPointerMissed:R}=d,k=s.getState(),G=k.gl;k.gl||k.set({gl:G=Vue(f,n)});let K=k.raycaster;K||k.set({raycaster:K=new z5});const{params:J,...Q}=D||{};if(wn.equ(Q,K,fd)||hd(K,{...Q}),wn.equ(J,K.params,fd)||hd(K,{params:{...K.params,...J}}),!k.camera||k.camera===u&&!wn.equ(u,I,fd)){u=I;const W=I instanceof jm,$=W?I:A?new oa(0,0,0,0,.1,1e3):new Un(75,0,.1,1e3);W||($.position.z=5,I&&(hd($,I),("aspect"in I||"left"in I||"right"in I||"bottom"in I||"top"in I)&&($.manual=!0,$.updateProjectionMatrix())),!k.camera&&!(I!=null&&I.rotation)&&$.lookAt(0,0,0)),k.set({camera:$}),K.camera=$}if(!k.scene){let W;g!=null&&g.isScene?W=g:(W=new LM,g&&hd(W,g)),k.set({scene:gd(W)})}if(!k.xr){var Y;const W=(Se,ne)=>{const we=s.getState();we.frameloop!=="never"&&BD(Se,!0,we,ne)},$=()=>{const Se=s.getState();Se.gl.xr.enabled=Se.gl.xr.isPresenting,Se.gl.xr.setAnimationLoop(Se.gl.xr.isPresenting?W:null),Se.gl.xr.isPresenting||DD(Se)},oe={connect(){const Se=s.getState().gl;Se.xr.addEventListener("sessionstart",$),Se.xr.addEventListener("sessionend",$)},disconnect(){const Se=s.getState().gl;Se.xr.removeEventListener("sessionstart",$),Se.xr.removeEventListener("sessionend",$)}};typeof((Y=G.xr)==null?void 0:Y.addEventListener)=="function"&&oe.connect(),k.set({xr:oe})}if(G.shadowMap){const W=G.shadowMap.enabled,$=G.shadowMap.type;if(G.shadowMap.enabled=!!w,wn.boo(w))G.shadowMap.type=pp;else if(wn.str(w)){var se;const oe={basic:t4,percentage:Aw,soft:pp,variance:Ms};G.shadowMap.type=(se=oe[w])!=null?se:pp}else wn.obj(w)&&Object.assign(G.shadowMap,w);(W!==G.shadowMap.enabled||$!==G.shadowMap.type)&&(G.shadowMap.needsUpdate=!0)}const L=nz();L&&("enabled"in L?L.enabled=!S:"legacyMode"in L&&(L.legacyMode=S)),c||hd(G,{outputEncoding:x?3e3:3001,toneMapping:b?vo:_M}),k.legacy!==S&&k.set(()=>({legacy:S})),k.linear!==x&&k.set(()=>({linear:x})),k.flat!==b&&k.set(()=>({flat:b})),f&&!wn.fun(f)&&!uz(f)&&!wn.equ(f,G,fd)&&hd(G,f),v&&!k.events.handlers&&k.set({events:v(s)});const j=Wue(n,m);return wn.equ(j,k.size,fd)||k.setSize(j.width,j.height,j.updateStyle,j.top,j.left),N&&k.viewport.dpr!==az(N)&&k.setDpr(N),k.frameloop!==T&&k.setFrameloop(T),k.onPointerMissed||k.set({onPointerMissed:R}),P&&!wn.equ(P,k.performance,fd)&&k.set(W=>({performance:{...W.performance,...P}})),a=y,c=!0,this},render(d){return c||this.configure(),Ey.updateContainer(l.jsx(Kue,{store:s,children:d,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){pz(n)}}}function Kue({store:n,children:e,onCreated:t,rootElement:r}){return Jm(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),l.jsx(dz.Provider,{value:n,children:e})}function pz(n,e){const t=Ph.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),Ey.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,c;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(c=i.gl)!=null&&c.xr&&i.xr.disconnect(),Due(i),Ph.delete(n)}catch{}},500)})}}Ey.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:C.version});const c1={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Jue(n){const{handlePointer:e}=Fue(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(c1).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[c,u]=c1[o];t.addEventListener(c,a,{passive:u})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=c1[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}function LD(n,e){let t;return(...r)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...r),e)}}function Yue({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=C.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=C.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),c=n?typeof n=="number"?n:n.scroll:null,u=n?typeof n=="number"?n:n.resize:null,d=C.useRef(!1);C.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[f,m,g]=C.useMemo(()=>{const x=()=>{if(!a.current.element)return;const{left:b,top:S,width:A,height:T,bottom:N,right:P,x:D,y:I}=a.current.element.getBoundingClientRect(),R={left:b,top:S,width:A,height:T,bottom:N,right:P,x:D,y:I};a.current.element instanceof HTMLElement&&r&&(R.height=a.current.element.offsetHeight,R.width=a.current.element.offsetWidth),Object.freeze(R),d.current&&!Zue(a.current.lastBounds,R)&&o(a.current.lastBounds=R)};return[x,u?LD(x,u):x,c?LD(x,c):x]},[o,r,c,u]);function v(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",g,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function y(){a.current.element&&(a.current.resizeObserver=new i(g),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(x=>x.addEventListener("scroll",g,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{g()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const w=x=>{!x||x===a.current.element||(v(),a.current.element=x,a.current.scrollContainers=mz(x),y())};return que(g,!!e),$ue(m),C.useEffect(()=>{v(),y()},[e,g,m]),C.useEffect(()=>v,[]),[w,s,f]}function $ue(n){C.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function que(n,e){C.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function mz(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...mz(n.parentElement)]}const Que=["x","y","top","bottom","left","right","width","height"],Zue=(n,e)=>Que.every(t=>n[t]===e[t]);var ede=Object.defineProperty,tde=Object.defineProperties,nde=Object.getOwnPropertyDescriptors,kD=Object.getOwnPropertySymbols,rde=Object.prototype.hasOwnProperty,ide=Object.prototype.propertyIsEnumerable,OD=(n,e,t)=>e in n?ede(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,FD=(n,e)=>{for(var t in e||(e={}))rde.call(e,t)&&OD(n,t,e[t]);if(kD)for(var t of kD(e))ide.call(e,t)&&OD(n,t,e[t]);return n},sde=(n,e)=>tde(n,nde(e)),jD,UD;typeof window<"u"&&((jD=window.document)!=null&&jD.createElement||((UD=window.navigator)==null?void 0:UD.product)==="ReactNative")?C.useLayoutEffect:C.useEffect;function gz(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=n.child;for(;r;){const i=gz(r,e,t);if(i)return i;r=r.sibling}}function xz(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const zD=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=zD;return}return zD.apply(this,arguments)};const hT=xz(C.createContext(null));class vz extends C.Component{render(){return C.createElement(hT.Provider,{value:this._reactInternals},this.props.children)}}function ode(){const n=C.useContext(hT);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=C.useId();return C.useMemo(()=>{for(const r of[n,n==null?void 0:n.alternate]){if(!r)continue;const i=gz(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function ade(){const n=ode(),[e]=C.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==hT&&!e.has(i)&&e.set(i,C.useContext(xz(i)))}t=t.return}return e}function lde(){const n=ade();return C.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>C.createElement(e,null,C.createElement(t.Provider,sde(FD({},r),{value:n.get(t)}))),e=>C.createElement(vz,FD({},e))),[n])}const cde=C.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=Jue,eventSource:a,eventPrefix:c,shadows:u,linear:d,flat:f,legacy:m,orthographic:g,frameloop:v,dpr:y,performance:w,raycaster:x,camera:b,scene:S,onPointerMissed:A,onCreated:T,...N},P){C.useMemo(()=>Mue(pue),[]);const D=lde(),[I,R]=Yue({scroll:!0,debounce:{scroll:50,resize:0},...r}),k=C.useRef(null),G=C.useRef(null);C.useImperativeHandle(P,()=>k.current);const K=iz(A),[J,Q]=C.useState(!1),[Y,se]=C.useState(!1);if(J)throw J;if(Y)throw Y;const L=C.useRef(null);Jm(()=>{const W=k.current;R.width>0&&R.height>0&&W&&(L.current||(L.current=Xue(W)),L.current.configure({gl:s,events:o,shadows:u,linear:d,flat:f,legacy:m,orthographic:g,frameloop:v,dpr:y,performance:w,raycaster:x,camera:b,scene:S,size:R,onPointerMissed:(...$)=>K.current==null?void 0:K.current(...$),onCreated:$=>{$.events.connect==null||$.events.connect(a?Nue(a)?a.current:a:G.current),c&&$.setEvents({compute:(oe,Se)=>{const ne=oe[c+"X"],we=oe[c+"Y"];Se.pointer.set(ne/Se.size.width*2-1,-(we/Se.size.height)*2+1),Se.raycaster.setFromCamera(Se.pointer,Se.camera)}}),T==null||T($)}}),L.current.render(l.jsx(D,{children:l.jsx(sz,{set:se,children:l.jsx(C.Suspense,{fallback:l.jsx(Rue,{set:Q}),children:e??null})})})))}),C.useEffect(()=>{const W=k.current;if(W)return()=>pz(W)},[]);const j=a?"none":"auto";return l.jsx("div",{ref:G,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j,...i},...N,children:l.jsx("div",{ref:I,style:{width:"100%",height:"100%"},children:l.jsx("canvas",{ref:k,style:{display:"block"},children:t})})})}),ude=C.forwardRef(function(e,t){return l.jsx(vz,{children:l.jsx(cde,{...e,ref:t})})});function pE(){return pE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},pE.apply(null,arguments)}const dde=parseInt(Lm.replace(/\D+/g,""));function HD(n,e){if(e===I4)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===wy||e===RM){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let c=0;c<a.count;c++)o.push(c);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===wy)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var hde=Object.defineProperty,fde=(n,e,t)=>e in n?hde(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,pde=(n,e,t)=>(fde(n,e+"",t),t);class mde{constructor(){pde(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var gde=Object.defineProperty,xde=(n,e,t)=>e in n?gde(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Mt=(n,e,t)=>(xde(n,typeof e!="symbol"?e+"":e,t),t);const pv=new Eu,GD=new Wo,vde=Math.cos(70*(Math.PI/180)),VD=(n,e)=>(n%e+e)%e;let yde=class extends mde{constructor(e,t){super(),Mt(this,"object"),Mt(this,"domElement"),Mt(this,"enabled",!0),Mt(this,"target",new H),Mt(this,"minDistance",0),Mt(this,"maxDistance",1/0),Mt(this,"minZoom",0),Mt(this,"maxZoom",1/0),Mt(this,"minPolarAngle",0),Mt(this,"maxPolarAngle",Math.PI),Mt(this,"minAzimuthAngle",-1/0),Mt(this,"maxAzimuthAngle",1/0),Mt(this,"enableDamping",!1),Mt(this,"dampingFactor",.05),Mt(this,"enableZoom",!0),Mt(this,"zoomSpeed",1),Mt(this,"enableRotate",!0),Mt(this,"rotateSpeed",1),Mt(this,"enablePan",!0),Mt(this,"panSpeed",1),Mt(this,"screenSpacePanning",!0),Mt(this,"keyPanSpeed",7),Mt(this,"zoomToCursor",!1),Mt(this,"autoRotate",!1),Mt(this,"autoRotateSpeed",2),Mt(this,"reverseOrbit",!1),Mt(this,"reverseHorizontalOrbit",!1),Mt(this,"reverseVerticalOrbit",!1),Mt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Mt(this,"mouseButtons",{LEFT:Mc.ROTATE,MIDDLE:Mc.DOLLY,RIGHT:Mc.PAN}),Mt(this,"touches",{ONE:Tc.ROTATE,TWO:Tc.DOLLY_PAN}),Mt(this,"target0"),Mt(this,"position0"),Mt(this,"zoom0"),Mt(this,"_domElementKeyEvents",null),Mt(this,"getPolarAngle"),Mt(this,"getAzimuthalAngle"),Mt(this,"setPolarAngle"),Mt(this,"setAzimuthalAngle"),Mt(this,"getDistance"),Mt(this,"getZoomScale"),Mt(this,"listenToKeyEvents"),Mt(this,"stopListenToKeyEvents"),Mt(this,"saveState"),Mt(this,"reset"),Mt(this,"update"),Mt(this,"connect"),Mt(this,"dispose"),Mt(this,"dollyIn"),Mt(this,"dollyOut"),Mt(this,"getScale"),Mt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=q=>{let ye=VD(q,2*Math.PI),Ee=d.phi;Ee<0&&(Ee+=2*Math.PI),ye<0&&(ye+=2*Math.PI);let X=Math.abs(ye-Ee);2*Math.PI-X<X&&(ye<Ee?ye+=2*Math.PI:Ee+=2*Math.PI),f.phi=ye-Ee,r.update()},this.setAzimuthalAngle=q=>{let ye=VD(q,2*Math.PI),Ee=d.theta;Ee<0&&(Ee+=2*Math.PI),ye<0&&(ye+=2*Math.PI);let X=Math.abs(ye-Ee);2*Math.PI-X<X&&(ye<Ee?ye+=2*Math.PI:Ee+=2*Math.PI),f.theta=ye-Ee,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=q=>{q.addEventListener("keydown",Ue),this._domElementKeyEvents=q},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ue),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),c=a.NONE},this.update=(()=>{const q=new H,ye=new H(0,1,0),Ee=new mr().setFromUnitVectors(e.up,ye),X=Ee.clone().invert(),be=new H,ce=new mr,xe=2*Math.PI;return function(){const Ge=r.object.position;Ee.setFromUnitVectors(e.up,ye),X.copy(Ee).invert(),q.copy(Ge).sub(r.target),q.applyQuaternion(Ee),d.setFromVector3(q),r.autoRotate&&c===a.NONE&&J(G()),r.enableDamping?(d.theta+=f.theta*r.dampingFactor,d.phi+=f.phi*r.dampingFactor):(d.theta+=f.theta,d.phi+=f.phi);let _t=r.minAzimuthAngle,tn=r.maxAzimuthAngle;isFinite(_t)&&isFinite(tn)&&(_t<-Math.PI?_t+=xe:_t>Math.PI&&(_t-=xe),tn<-Math.PI?tn+=xe:tn>Math.PI&&(tn-=xe),_t<=tn?d.theta=Math.max(_t,Math.min(tn,d.theta)):d.theta=d.theta>(_t+tn)/2?Math.max(_t,d.theta):Math.min(tn,d.theta)),d.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,d.phi)),d.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(g,r.dampingFactor):r.target.add(g),r.zoomToCursor&&I||r.object.isOrthographicCamera?d.radius=Se(d.radius):d.radius=Se(d.radius*m),q.setFromSpherical(d),q.applyQuaternion(X),Ge.copy(r.target).add(q),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,g.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),g.set(0,0,0));let bn=!1;if(r.zoomToCursor&&I){let Kt=null;if(r.object instanceof Un&&r.object.isPerspectiveCamera){const Kn=q.length();Kt=Se(Kn*m);const Ar=Kn-Kt;r.object.position.addScaledVector(P,Ar),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Kn=new H(D.x,D.y,0);Kn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/m)),r.object.updateProjectionMatrix(),bn=!0;const Ar=new H(D.x,D.y,0);Ar.unproject(r.object),r.object.position.sub(Ar).add(Kn),r.object.updateMatrixWorld(),Kt=q.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Kt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Kt).add(r.object.position):(pv.origin.copy(r.object.position),pv.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(pv.direction))<vde?e.lookAt(r.target):(GD.setFromNormalAndCoplanarPoint(r.object.up,r.target),pv.intersectPlane(GD,r.target))))}else r.object instanceof oa&&r.object.isOrthographicCamera&&(bn=m!==1,bn&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/m)),r.object.updateProjectionMatrix()));return m=1,I=!1,bn||be.distanceToSquared(r.object.position)>u||8*(1-ce.dot(r.object.quaternion))>u?(r.dispatchEvent(i),be.copy(r.object.position),ce.copy(r.object.quaternion),bn=!1,!0):!1}})(),this.connect=q=>{r.domElement=q,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Ie),r.domElement.addEventListener("pointerdown",O),r.domElement.addEventListener("pointercancel",he),r.domElement.addEventListener("wheel",tt)},this.dispose=()=>{var q,ye,Ee,X,be,ce;r.domElement&&(r.domElement.style.touchAction="auto"),(q=r.domElement)==null||q.removeEventListener("contextmenu",Ie),(ye=r.domElement)==null||ye.removeEventListener("pointerdown",O),(Ee=r.domElement)==null||Ee.removeEventListener("pointercancel",he),(X=r.domElement)==null||X.removeEventListener("wheel",tt),(be=r.domElement)==null||be.ownerDocument.removeEventListener("pointermove",ee),(ce=r.domElement)==null||ce.ownerDocument.removeEventListener("pointerup",he),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Ue)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let c=a.NONE;const u=1e-6,d=new lE,f=new lE;let m=1;const g=new H,v=new _e,y=new _e,w=new _e,x=new _e,b=new _e,S=new _e,A=new _e,T=new _e,N=new _e,P=new H,D=new _e;let I=!1;const R=[],k={};function G(){return 2*Math.PI/60/60*r.autoRotateSpeed}function K(){return Math.pow(.95,r.zoomSpeed)}function J(q){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=q:f.theta-=q}function Q(q){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=q:f.phi-=q}const Y=(()=>{const q=new H;return function(Ee,X){q.setFromMatrixColumn(X,0),q.multiplyScalar(-Ee),g.add(q)}})(),se=(()=>{const q=new H;return function(Ee,X){r.screenSpacePanning===!0?q.setFromMatrixColumn(X,1):(q.setFromMatrixColumn(X,0),q.crossVectors(r.object.up,q)),q.multiplyScalar(Ee),g.add(q)}})(),L=(()=>{const q=new H;return function(Ee,X){const be=r.domElement;if(be&&r.object instanceof Un&&r.object.isPerspectiveCamera){const ce=r.object.position;q.copy(ce).sub(r.target);let xe=q.length();xe*=Math.tan(r.object.fov/2*Math.PI/180),Y(2*Ee*xe/be.clientHeight,r.object.matrix),se(2*X*xe/be.clientHeight,r.object.matrix)}else be&&r.object instanceof oa&&r.object.isOrthographicCamera?(Y(Ee*(r.object.right-r.object.left)/r.object.zoom/be.clientWidth,r.object.matrix),se(X*(r.object.top-r.object.bottom)/r.object.zoom/be.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function j(q){r.object instanceof Un&&r.object.isPerspectiveCamera||r.object instanceof oa&&r.object.isOrthographicCamera?m=q:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function W(q){j(m/q)}function $(q){j(m*q)}function oe(q){if(!r.zoomToCursor||!r.domElement)return;I=!0;const ye=r.domElement.getBoundingClientRect(),Ee=q.clientX-ye.left,X=q.clientY-ye.top,be=ye.width,ce=ye.height;D.x=Ee/be*2-1,D.y=-(X/ce)*2+1,P.set(D.x,D.y,1).unproject(r.object).sub(r.object.position).normalize()}function Se(q){return Math.max(r.minDistance,Math.min(r.maxDistance,q))}function ne(q){v.set(q.clientX,q.clientY)}function we(q){oe(q),A.set(q.clientX,q.clientY)}function ve(q){x.set(q.clientX,q.clientY)}function le(q){y.set(q.clientX,q.clientY),w.subVectors(y,v).multiplyScalar(r.rotateSpeed);const ye=r.domElement;ye&&(J(2*Math.PI*w.x/ye.clientHeight),Q(2*Math.PI*w.y/ye.clientHeight)),v.copy(y),r.update()}function ke(q){T.set(q.clientX,q.clientY),N.subVectors(T,A),N.y>0?W(K()):N.y<0&&$(K()),A.copy(T),r.update()}function He(q){b.set(q.clientX,q.clientY),S.subVectors(b,x).multiplyScalar(r.panSpeed),L(S.x,S.y),x.copy(b),r.update()}function De(q){oe(q),q.deltaY<0?$(K()):q.deltaY>0&&W(K()),r.update()}function st(q){let ye=!1;switch(q.code){case r.keys.UP:L(0,r.keyPanSpeed),ye=!0;break;case r.keys.BOTTOM:L(0,-r.keyPanSpeed),ye=!0;break;case r.keys.LEFT:L(r.keyPanSpeed,0),ye=!0;break;case r.keys.RIGHT:L(-r.keyPanSpeed,0),ye=!0;break}ye&&(q.preventDefault(),r.update())}function qe(){if(R.length==1)v.set(R[0].pageX,R[0].pageY);else{const q=.5*(R[0].pageX+R[1].pageX),ye=.5*(R[0].pageY+R[1].pageY);v.set(q,ye)}}function We(){if(R.length==1)x.set(R[0].pageX,R[0].pageY);else{const q=.5*(R[0].pageX+R[1].pageX),ye=.5*(R[0].pageY+R[1].pageY);x.set(q,ye)}}function U(){const q=R[0].pageX-R[1].pageX,ye=R[0].pageY-R[1].pageY,Ee=Math.sqrt(q*q+ye*ye);A.set(0,Ee)}function Oe(){r.enableZoom&&U(),r.enablePan&&We()}function Ce(){r.enableZoom&&U(),r.enableRotate&&qe()}function Pe(q){if(R.length==1)y.set(q.pageX,q.pageY);else{const Ee=et(q),X=.5*(q.pageX+Ee.x),be=.5*(q.pageY+Ee.y);y.set(X,be)}w.subVectors(y,v).multiplyScalar(r.rotateSpeed);const ye=r.domElement;ye&&(J(2*Math.PI*w.x/ye.clientHeight),Q(2*Math.PI*w.y/ye.clientHeight)),v.copy(y)}function Ae(q){if(R.length==1)b.set(q.pageX,q.pageY);else{const ye=et(q),Ee=.5*(q.pageX+ye.x),X=.5*(q.pageY+ye.y);b.set(Ee,X)}S.subVectors(b,x).multiplyScalar(r.panSpeed),L(S.x,S.y),x.copy(b)}function ze(q){const ye=et(q),Ee=q.pageX-ye.x,X=q.pageY-ye.y,be=Math.sqrt(Ee*Ee+X*X);T.set(0,be),N.set(0,Math.pow(T.y/A.y,r.zoomSpeed)),W(N.y),A.copy(T)}function Ne(q){r.enableZoom&&ze(q),r.enablePan&&Ae(q)}function z(q){r.enableZoom&&ze(q),r.enableRotate&&Pe(q)}function O(q){var ye,Ee;r.enabled!==!1&&(R.length===0&&((ye=r.domElement)==null||ye.ownerDocument.addEventListener("pointermove",ee),(Ee=r.domElement)==null||Ee.ownerDocument.addEventListener("pointerup",he)),Ze(q),q.pointerType==="touch"?ht(q):Me(q))}function ee(q){r.enabled!==!1&&(q.pointerType==="touch"?yt(q):fe(q))}function he(q){var ye,Ee,X;gt(q),R.length===0&&((ye=r.domElement)==null||ye.releasePointerCapture(q.pointerId),(Ee=r.domElement)==null||Ee.ownerDocument.removeEventListener("pointermove",ee),(X=r.domElement)==null||X.ownerDocument.removeEventListener("pointerup",he)),r.dispatchEvent(o),c=a.NONE}function Me(q){let ye;switch(q.button){case 0:ye=r.mouseButtons.LEFT;break;case 1:ye=r.mouseButtons.MIDDLE;break;case 2:ye=r.mouseButtons.RIGHT;break;default:ye=-1}switch(ye){case Mc.DOLLY:if(r.enableZoom===!1)return;we(q),c=a.DOLLY;break;case Mc.ROTATE:if(q.ctrlKey||q.metaKey||q.shiftKey){if(r.enablePan===!1)return;ve(q),c=a.PAN}else{if(r.enableRotate===!1)return;ne(q),c=a.ROTATE}break;case Mc.PAN:if(q.ctrlKey||q.metaKey||q.shiftKey){if(r.enableRotate===!1)return;ne(q),c=a.ROTATE}else{if(r.enablePan===!1)return;ve(q),c=a.PAN}break;default:c=a.NONE}c!==a.NONE&&r.dispatchEvent(s)}function fe(q){if(r.enabled!==!1)switch(c){case a.ROTATE:if(r.enableRotate===!1)return;le(q);break;case a.DOLLY:if(r.enableZoom===!1)return;ke(q);break;case a.PAN:if(r.enablePan===!1)return;He(q);break}}function tt(q){r.enabled===!1||r.enableZoom===!1||c!==a.NONE&&c!==a.ROTATE||(q.preventDefault(),r.dispatchEvent(s),De(q),r.dispatchEvent(o))}function Ue(q){r.enabled===!1||r.enablePan===!1||st(q)}function ht(q){switch(At(q),R.length){case 1:switch(r.touches.ONE){case Tc.ROTATE:if(r.enableRotate===!1)return;qe(),c=a.TOUCH_ROTATE;break;case Tc.PAN:if(r.enablePan===!1)return;We(),c=a.TOUCH_PAN;break;default:c=a.NONE}break;case 2:switch(r.touches.TWO){case Tc.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Oe(),c=a.TOUCH_DOLLY_PAN;break;case Tc.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ce(),c=a.TOUCH_DOLLY_ROTATE;break;default:c=a.NONE}break;default:c=a.NONE}c!==a.NONE&&r.dispatchEvent(s)}function yt(q){switch(At(q),c){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;Pe(q),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;Ae(q),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ne(q),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;z(q),r.update();break;default:c=a.NONE}}function Ie(q){r.enabled!==!1&&q.preventDefault()}function Ze(q){R.push(q)}function gt(q){delete k[q.pointerId];for(let ye=0;ye<R.length;ye++)if(R[ye].pointerId==q.pointerId){R.splice(ye,1);return}}function At(q){let ye=k[q.pointerId];ye===void 0&&(ye=new _e,k[q.pointerId]=ye),ye.set(q.pageX,q.pageY)}function et(q){const ye=q.pointerId===R[0].pointerId?R[1]:R[0];return k[ye.pointerId]}this.dollyIn=(q=K())=>{$(q),r.update()},this.dollyOut=(q=K())=>{W(q),r.update()},this.getScale=()=>m,this.setScale=q=>{j(q),r.update()},this.getZoomScale=()=>K(),t!==void 0&&this.connect(t),this.update()}};function Cy(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,r=n.length;t<r;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const zc="srgb",aa="srgb-linear",WD=3001,wde=3e3;class fT extends Xr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Ede(t)}),this.register(function(t){return new Cde(t)}),this.register(function(t){return new Lde(t)}),this.register(function(t){return new kde(t)}),this.register(function(t){return new Ode(t)}),this.register(function(t){return new Tde(t)}),this.register(function(t){return new Nde(t)}),this.register(function(t){return new Rde(t)}),this.register(function(t){return new Pde(t)}),this.register(function(t){return new Ade(t)}),this.register(function(t){return new Ide(t)}),this.register(function(t){return new Mde(t)}),this.register(function(t){return new Bde(t)}),this.register(function(t){return new Dde(t)}),this.register(function(t){return new bde(t)}),this.register(function(t){return new Fde(t)}),this.register(function(t){return new jde(t)})}load(e,t,r,i){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const u=Nl.extractUrlBase(e);o=Nl.resolveURL(u,this.path)}else o=Nl.extractUrlBase(e);this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},c=new Xi(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(u){try{s.parse(u,o,function(d){t(d),s.manager.itemEnd(e)},a)}catch(d){a(d)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Cy(new Uint8Array(e.slice(0,4)))===yz){try{o[$t.KHR_BINARY_GLTF]=new Ude(e)}catch(d){i&&i(d);return}s=JSON.parse(o[$t.KHR_BINARY_GLTF].content)}else s=JSON.parse(Cy(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new Zde(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](c);d.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[d.name]=d,o[d.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const d=s.extensionsUsed[u],f=s.extensionsRequired||[];switch(d){case $t.KHR_MATERIALS_UNLIT:o[d]=new Sde;break;case $t.KHR_DRACO_MESH_COMPRESSION:o[d]=new zde(s,this.dracoLoader);break;case $t.KHR_TEXTURE_TRANSFORM:o[d]=new Hde;break;case $t.KHR_MESH_QUANTIZATION:o[d]=new Gde;break;default:f.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function _de(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const $t={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class bde{constructor(e){this.parser=e,this.name=$t.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,c=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const d=new Ye(16777215);c.color!==void 0&&d.setRGB(c.color[0],c.color[1],c.color[2],aa);const f=c.range!==void 0?c.range:0;switch(c.type){case"directional":u=new nT(d),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new tT(d),u.distance=f;break;case"spot":u=new eT(d),u.distance=f,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,u.angle=c.spot.outerConeAngle,u.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return u.position.set(0,0,0),u.decay=2,Go(u,c),c.intensity!==void 0&&(u.intensity=c.intensity),u.name=t.createUniqueName(c.name||"light_"+e),i=Promise.resolve(u),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(c){return r._getNodeRef(t.cache,a,c)})}}class Sde{constructor(){this.name=$t.KHR_MATERIALS_UNLIT}getMaterialType(){return Ui}extendParams(e,t,r){const i=[];e.color=new Ye(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],aa),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,zc))}return Promise.all(i)}}class Ade{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class Ede{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:gs}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new _e(a,a)}return Promise.all(s)}}class Cde{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:gs}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class Mde{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:gs}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Tde{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:gs}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Ye(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],aa)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,zc)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Nde{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:gs}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Rde{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:gs}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Ye().setRGB(a[0],a[1],a[2],aa),Promise.all(s)}}class Pde{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:gs}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Ide{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:gs}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Ye().setRGB(a[0],a[1],a[2],aa),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,zc)),Promise.all(s)}}class Dde{constructor(e){this.parser=e,this.name=$t.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:gs}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(r.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class Bde{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:gs}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class Lde{constructor(e){this.parser=e,this.name=$t.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class kde{constructor(e){this.parser=e,this.name=$t.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let c=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(c=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,c);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Ode{constructor(e){this.parser=e,this.name=$t.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let c=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(c=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,c);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Fde{constructor(e){this.name=$t.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const c=i.byteOffset||0,u=i.byteLength||0,d=i.count,f=i.byteStride,m=new Uint8Array(a,c,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(d,f,m,i.mode,i.filter).then(function(g){return g.buffer}):o.ready.then(function(){const g=new ArrayBuffer(d*f);return o.decodeGltfBuffer(new Uint8Array(g),d,f,m,i.mode,i.filter),g})})}else return null}}class jde{constructor(e){this.name=$t.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const u of i.primitives)if(u.mode!==is.TRIANGLES&&u.mode!==is.TRIANGLE_STRIP&&u.mode!==is.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],c={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(d=>(c[u]=d,c[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const d=u.pop(),f=d.isGroup?d.children:[d],m=u[0].count,g=[];for(const v of f){const y=new St,w=new H,x=new mr,b=new H(1,1,1),S=new FM(v.geometry,v.material,m);for(let A=0;A<m;A++)c.TRANSLATION&&w.fromBufferAttribute(c.TRANSLATION,A),c.ROTATION&&x.fromBufferAttribute(c.ROTATION,A),c.SCALE&&b.fromBufferAttribute(c.SCALE,A),S.setMatrixAt(A,y.compose(w,x,b));for(const A in c)if(A==="_COLOR_0"){const T=c[A];S.instanceColor=new fu(T.array,T.itemSize,T.normalized)}else A!=="TRANSLATION"&&A!=="ROTATION"&&A!=="SCALE"&&v.geometry.setAttribute(A,c[A]);en.prototype.copy.call(S,v),this.parser.assignFinalMaterial(S),g.push(S)}return d.isGroup?(d.clear(),d.add(...g),d):g[0]}))}}const yz="glTF",Gf=12,XD={JSON:1313821514,BIN:5130562};class Ude{constructor(e){this.name=$t.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Gf);if(this.header={magic:Cy(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==yz)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Gf,i=new DataView(e,Gf);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===XD.JSON){const c=new Uint8Array(e,Gf+s,o);this.content=Cy(c)}else if(a===XD.BIN){const c=Gf+s;this.body=e.slice(c,c+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class zde{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=$t.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},c={},u={};for(const d in o){const f=mE[d]||d.toLowerCase();a[f]=o[d]}for(const d in e.attributes){const f=mE[d]||d.toLowerCase();if(o[d]!==void 0){const m=r.accessors[e.attributes[d]],g=$d[m.componentType];u[f]=g.name,c[f]=m.normalized===!0}}return t.getDependency("bufferView",s).then(function(d){return new Promise(function(f,m){i.decodeDracoFile(d,function(g){for(const v in g.attributes){const y=g.attributes[v],w=c[v];w!==void 0&&(y.normalized=w)}f(g)},a,u,aa,m)})})}}class Hde{constructor(){this.name=$t.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Gde{constructor(){this.name=$t.KHR_MESH_QUANTIZATION}}class wz extends $h{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=a*2,u=a*3,d=i-t,f=(r-t)/d,m=f*f,g=m*f,v=e*u,y=v-u,w=-2*g+3*m,x=g-m,b=1-w,S=x-m+f;for(let A=0;A!==a;A++){const T=o[y+A+a],N=o[y+A+c]*d,P=o[v+A+a],D=o[v+A]*d;s[A]=b*T+S*N+w*P+x*D}return s}}const Vde=new mr;class Wde extends wz{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return Vde.fromArray(s).normalize().toArray(s),s}}const is={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},$d={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},KD={9728:pr,9729:Vn,9984:Cw,9985:Jd,9986:kc,9987:cs},JD={33071:ji,33648:wh,10497:jl},u1={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},mE={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...dde>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},$a={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Xde={CUBICSPLINE:void 0,LINEAR:Ch,STEP:Eh},d1={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Kde(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Km({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:_o})),n.DefaultMaterial}function Sc(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Go(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Jde(n,e,t){let r=!1,i=!1,s=!1;for(let u=0,d=e.length;u<d;u++){const f=e[u];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],c=[];for(let u=0,d=e.length;u<d;u++){const f=e[u];if(r){const m=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(m)}if(i){const m=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(m)}if(s){const m=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;c.push(m)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(c)]).then(function(u){const d=u[0],f=u[1],m=u[2];return r&&(n.morphAttributes.position=d),i&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=m),n.morphTargetsRelative=!0,n})}function Yde(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function $de(n){let e;const t=n.extensions&&n.extensions[$t.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+h1(t.attributes):e=n.indices+":"+h1(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+h1(n.targets[r]);return e}function h1(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function gE(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function qde(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Qde=new St;class Zde{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new _de,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new T5(this.options.manager):this.textureLoader=new k5(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Xi(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};return Sc(s,a,i),Go(a,i),Promise.all(r._invokeAll(function(c){return c.afterRoot&&c.afterRoot(a)})).then(function(){for(const c of a.scenes)c.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,c=o.length;a<c;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const c=this.associations.get(o);c!=null&&this.associations.set(a,c);for(const[u,d]of o.children.entries())s(d,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[$t.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Nl.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=u1[i.type],a=$d[i.componentType],c=i.normalized===!0,u=new a(i.count*o);return Promise.resolve(new an(u,o,c))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],c=u1[i.type],u=$d[i.componentType],d=u.BYTES_PER_ELEMENT,f=d*c,m=i.byteOffset||0,g=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,v=i.normalized===!0;let y,w;if(g&&g!==f){const x=Math.floor(m/g),b="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+x+":"+i.count;let S=t.cache.get(b);S||(y=new u(a,x*g,i.count*g/d),S=new zm(y,g/d),t.cache.add(b,S)),w=new Ul(S,c,m%g/d,v)}else a===null?y=new u(i.count*c):y=new u(a,m,i.count*c),w=new an(y,c,v);if(i.sparse!==void 0){const x=u1.SCALAR,b=$d[i.sparse.indices.componentType],S=i.sparse.indices.byteOffset||0,A=i.sparse.values.byteOffset||0,T=new b(o[1],S,i.sparse.count*x),N=new u(o[2],A,i.sparse.count*c);a!==null&&(w=new an(w.array.slice(),w.itemSize,w.normalized));for(let P=0,D=T.length;P<D;P++){const I=T[P];if(w.setX(I,N[P*c]),c>=2&&w.setY(I,N[P*c+1]),c>=3&&w.setZ(I,N[P*c+2]),c>=4&&w.setW(I,N[P*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return w})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const c=r.manager.getHandler(o.uri);c!==null&&(a=c)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],c=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[c])return this.textureCache[c];const u=this.loadImageSource(t,r).then(function(d){d.flipY=!1,d.name=o.name||a.name||"",d.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(d.name=a.uri);const m=(s.samplers||{})[o.sampler]||{};return d.magFilter=KD[m.magFilter]||Vn,d.minFilter=KD[m.minFilter]||cs,d.wrapS=JD[m.wrapS]||jl,d.wrapT=JD[m.wrapT]||jl,i.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[c]=u,u}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let c=o.uri||"",u=!1;if(o.bufferView!==void 0)c=r.getDependency("bufferView",o.bufferView).then(function(f){u=!0;const m=new Blob([f],{type:o.mimeType});return c=a.createObjectURL(m),c});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(c).then(function(f){return new Promise(function(m,g){let v=m;t.isImageBitmapLoader===!0&&(v=function(y){const w=new Nn(y);w.needsUpdate=!0,m(w)}),t.load(Nl.resolveURL(f,s.path),v,void 0,g)})}).then(function(f){return u===!0&&a.revokeObjectURL(c),Go(f,o),f.userData.mimeType=o.mimeType||qde(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",c),f});return this.sourceCache[e]=d,d}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[$t.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[$t.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const c=s.associations.get(o);o=s.extensions[$t.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,c)}}return i!==void 0&&(typeof i=="number"&&(i=i===WD?zc:aa),"colorSpace"in o?o.colorSpace=i:o.encoding=i===zc?WD:wde),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let c=this.cache.get(a);c||(c=new Uw,ir.prototype.copy.call(c,r),c.color.copy(r.color),c.map=r.map,c.sizeAttenuation=!1,this.cache.add(a,c)),r=c}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let c=this.cache.get(a);c||(c=new Wr,ir.prototype.copy.call(c,r),c.color.copy(r.color),c.map=r.map,this.cache.add(a,c)),r=c}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let c=this.cache.get(a);c||(c=r.clone(),s&&(c.vertexColors=!0),o&&(c.flatShading=!0),i&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(a,c),this.associations.set(c,this.associations.get(r))),r=c}e.material=r}getMaterialType(){return Km}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},c=s.extensions||{},u=[];if(c[$t.KHR_MATERIALS_UNLIT]){const f=i[$t.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),u.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new Ye(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const m=f.baseColorFactor;a.color.setRGB(m[0],m[1],m[2],aa),a.opacity=m[3]}f.baseColorTexture!==void 0&&u.push(t.assignTexture(a,"map",f.baseColorTexture,zc)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(m){return m.getMaterialType&&m.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(m){return m.extendMaterialParams&&m.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Ds);const d=s.alphaMode||d1.OPAQUE;if(d===d1.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===d1.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Ui&&(u.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new _e(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}if(s.occlusionTexture!==void 0&&o!==Ui&&(u.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Ui){const f=s.emissiveFactor;a.emissive=new Ye().setRGB(f[0],f[1],f[2],aa)}return s.emissiveTexture!==void 0&&o!==Ui&&u.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,zc)),Promise.all(u).then(function(){const f=new o(a);return s.name&&(f.name=s.name),Go(f,s),t.associations.set(f,{materials:e}),s.extensions&&Sc(i,f,s),f})}createUniqueName(e){const t=nn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[$t.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(c){return YD(c,a,t)})}const o=[];for(let a=0,c=e.length;a<c;a++){const u=e[a],d=$de(u),f=i[d];if(f)o.push(f.promise);else{let m;u.extensions&&u.extensions[$t.KHR_DRACO_MESH_COMPRESSION]?m=s(u):m=YD(new Pt,u,t),i[d]={primitive:u,promise:m},o.push(m)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let c=0,u=o.length;c<u;c++){const d=o[c].material===void 0?Kde(this.cache):this.getDependency("material",o[c].material);a.push(d)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(c){const u=c.slice(0,c.length-1),d=c[c.length-1],f=[];for(let g=0,v=d.length;g<v;g++){const y=d[g],w=o[g];let x;const b=u[g];if(w.mode===is.TRIANGLES||w.mode===is.TRIANGLE_STRIP||w.mode===is.TRIANGLE_FAN||w.mode===void 0)x=s.isSkinnedMesh===!0?new OM(y,b):new Wn(y,b),x.isSkinnedMesh===!0&&x.normalizeSkinWeights(),w.mode===is.TRIANGLE_STRIP?x.geometry=HD(x.geometry,RM):w.mode===is.TRIANGLE_FAN&&(x.geometry=HD(x.geometry,wy));else if(w.mode===is.LINES)x=new Ws(y,b);else if(w.mode===is.LINE_STRIP)x=new _a(y,b);else if(w.mode===is.LINE_LOOP)x=new jM(y,b);else if(w.mode===is.POINTS)x=new UM(y,b);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+w.mode);Object.keys(x.geometry.morphAttributes).length>0&&Yde(x,s),x.name=t.createUniqueName(s.name||"mesh_"+e),Go(x,s),w.extensions&&Sc(i,x,w),t.assignFinalMaterial(x),f.push(x)}for(let g=0,v=f.length;g<v;g++)t.associations.set(f[g],{meshes:e,primitives:g});if(f.length===1)return s.extensions&&Sc(i,f[0],s),f[0];const m=new Qo;s.extensions&&Sc(i,m,s),t.associations.set(m,{meshes:e});for(let g=0,v=f.length;g<v;g++)m.add(f[g]);return m})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new Un(G4.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new oa(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Go(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],c=[];for(let u=0,d=o.length;u<d;u++){const f=o[u];if(f){a.push(f);const m=new St;s!==null&&m.fromArray(s.array,u*16),c.push(m)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[u])}return new Hm(a,c)})}loadAnimation(e){const t=this.json,r=this,i=t.animations[e],s=i.name?i.name:"animation_"+e,o=[],a=[],c=[],u=[],d=[];for(let f=0,m=i.channels.length;f<m;f++){const g=i.channels[f],v=i.samplers[g.sampler],y=g.target,w=y.node,x=i.parameters!==void 0?i.parameters[v.input]:v.input,b=i.parameters!==void 0?i.parameters[v.output]:v.output;y.node!==void 0&&(o.push(this.getDependency("node",w)),a.push(this.getDependency("accessor",x)),c.push(this.getDependency("accessor",b)),u.push(v),d.push(y))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(c),Promise.all(u),Promise.all(d)]).then(function(f){const m=f[0],g=f[1],v=f[2],y=f[3],w=f[4],x=[];for(let b=0,S=m.length;b<S;b++){const A=m[b],T=g[b],N=v[b],P=y[b],D=w[b];if(A===void 0)continue;A.updateMatrix&&A.updateMatrix();const I=r._createAnimationTracks(A,T,N,P,D);if(I)for(let R=0;R<I.length;R++)x.push(I[R])}return new Rh(s,void 0,x)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let c=0,u=i.weights.length;c<u;c++)a.morphTargetInfluences[c]=i.weights[c]}),o})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let u=0,d=a.length;u<d;u++)o.push(r.getDependency("node",a[u]));const c=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),c]).then(function(u){const d=u[0],f=u[1],m=u[2];m!==null&&d.traverse(function(g){g.isSkinnedMesh&&g.bind(m,Qde)});for(let g=0,v=f.length;g<v;g++)d.add(f[g]);return d})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],c=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return c&&a.push(c),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let d;if(s.isBone===!0?d=new Fw:u.length>1?d=new Qo:u.length===1?d=u[0]:d=new en,d!==u[0])for(let f=0,m=u.length;f<m;f++)d.add(u[f]);if(s.name&&(d.userData.name=s.name,d.name=o),Go(d,s),s.extensions&&Sc(r,d,s),s.matrix!==void 0){const f=new St;f.fromArray(s.matrix),d.applyMatrix4(f)}else s.translation!==void 0&&d.position.fromArray(s.translation),s.rotation!==void 0&&d.quaternion.fromArray(s.rotation),s.scale!==void 0&&d.scale.fromArray(s.scale);return i.associations.has(d)||i.associations.set(d,{}),i.associations.get(d).nodes=e,d}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new Qo;r.name&&(s.name=i.createUniqueName(r.name)),Go(s,r),r.extensions&&Sc(t,s,r);const o=r.nodes||[],a=[];for(let c=0,u=o.length;c<u;c++)a.push(i.getDependency("node",o[c]));return Promise.all(a).then(function(c){for(let d=0,f=c.length;d<f;d++)s.add(c[d]);const u=d=>{const f=new Map;for(const[m,g]of i.associations)(m instanceof ir||m instanceof Nn)&&f.set(m,g);return d.traverse(m=>{const g=i.associations.get(m);g!=null&&f.set(m,g)}),f};return i.associations=u(s),s})}_createAnimationTracks(e,t,r,i,s){const o=[],a=e.name?e.name:e.uuid,c=[];$a[s.path]===$a.weights?e.traverse(function(m){m.morphTargetInfluences&&c.push(m.name?m.name:m.uuid)}):c.push(a);let u;switch($a[s.path]){case $a.weights:u=mu;break;case $a.rotation:u=gu;break;case $a.position:case $a.scale:u=xu;break;default:switch(r.itemSize){case 1:u=mu;break;case 2:case 3:default:u=xu;break}break}const d=i.interpolation!==void 0?Xde[i.interpolation]:Ch,f=this._getArrayFromAccessor(r);for(let m=0,g=c.length;m<g;m++){const v=new u(c[m]+"."+$a[s.path],t.array,f,d);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(v),o.push(v)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const r=gE(t.constructor),i=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)i[s]=t[s]*r;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof gu?Wde:wz;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function ehe(n,e,t){const r=e.attributes,i=new _r;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],c=a.min,u=a.max;if(c!==void 0&&u!==void 0){if(i.set(new H(c[0],c[1],c[2]),new H(u[0],u[1],u[2])),a.normalized){const d=gE($d[a.componentType]);i.min.multiplyScalar(d),i.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new H,c=new H;for(let u=0,d=s.length;u<d;u++){const f=s[u];if(f.POSITION!==void 0){const m=t.json.accessors[f.POSITION],g=m.min,v=m.max;if(g!==void 0&&v!==void 0){if(c.setX(Math.max(Math.abs(g[0]),Math.abs(v[0]))),c.setY(Math.max(Math.abs(g[1]),Math.abs(v[1]))),c.setZ(Math.max(Math.abs(g[2]),Math.abs(v[2]))),m.normalized){const y=gE($d[m.componentType]);c.multiplyScalar(y)}a.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new gr;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function YD(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(c){n.setAttribute(a,c)})}for(const o in r){const a=mE[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Go(n,e),ehe(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?Jde(n,e.targets,t):n})}const f1=new WeakMap;class the extends Xr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new Xi(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const c in t.attributeTypes){const u=t.attributeTypes[c];u.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[c]=u.name)}const r=JSON.stringify(t);if(f1.has(e)){const c=f1.get(e);if(c.key===r)return c.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(c=>(i=c,new Promise((u,d)=>{i._callbacks[s]={resolve:u,reject:d},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(c=>this._createGeometry(c.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),f1.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new Pt;e.index&&t.setIndex(new an(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new an(o,a))}return t}_loadLibrary(e,t){const r=new Xi(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=nhe.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function nhe(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(d){n.onModuleLoaded=function(f){d({draco:f})},DracoDecoderModule(n)});break;case"decode":const c=a.buffer,u=a.taskConfig;e.then(d=>{const f=d.draco,m=new f.Decoder,g=new f.DecoderBuffer;g.Init(new Int8Array(c),c.byteLength);try{const v=t(f,m,g,u),y=v.attributes.map(w=>w.array.buffer);v.index&&y.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},y)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{f.destroy(g),f.destroy(m)}});break}};function t(o,a,c,u){const d=u.attributeIDs,f=u.attributeTypes;let m,g;const v=a.GetEncodedGeometryType(c);if(v===o.TRIANGULAR_MESH)m=new o.Mesh,g=a.DecodeBufferToMesh(c,m);else if(v===o.POINT_CLOUD)m=new o.PointCloud,g=a.DecodeBufferToPointCloud(c,m);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!g.ok()||m.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+g.error_msg());const y={index:null,attributes:[]};for(const w in d){const x=self[f[w]];let b,S;if(u.useUniqueIDs)S=d[w],b=a.GetAttributeByUniqueId(m,S);else{if(S=a.GetAttributeId(m,o[d[w]]),S===-1)continue;b=a.GetAttribute(m,S)}y.attributes.push(i(o,a,m,w,x,b))}return v===o.TRIANGULAR_MESH&&(y.index=r(o,a,m)),o.destroy(m),y}function r(o,a,c){const d=c.num_faces()*3,f=d*4,m=o._malloc(f);a.GetTrianglesUInt32Array(c,f,m);const g=new Uint32Array(o.HEAPF32.buffer,m,d).slice();return o._free(m),{array:g,itemSize:1}}function i(o,a,c,u,d,f){const m=f.num_components(),v=c.num_points()*m,y=v*d.BYTES_PER_ELEMENT,w=s(o,d),x=o._malloc(y);a.GetAttributeDataArrayForAllPoints(c,f,w,y,x);const b=new d(o.HEAPF32.buffer,x,v).slice();return o._free(x),{name:u,array:b,itemSize:m}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let mv;const p1=()=>{if(mv)return mv;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const m=new Uint8Array(f.length);for(let v=0;v<f.length;++v){const y=f.charCodeAt(v);m[v]=y>96?y-71:y>64?y-65:y>47?y+4:y>46?63:62}let g=0;for(let v=0;v<f.length;++v)m[g++]=m[v]<60?r[m[v]]:(m[v]-60)*64+m[++v];return m.buffer.slice(0,g)}function c(f,m,g,v,y,w){const x=s.exports.sbrk,b=g+3&-4,S=x(b*v),A=x(y.length),T=new Uint8Array(s.exports.memory.buffer);T.set(y,A);const N=f(S,g,v,A,y.length);if(N===0&&w&&w(S,b,v),m.set(T.subarray(S,S+g*v)),x(S-x(0)),N!==0)throw new Error(`Malformed buffer data: ${N}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},d={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return mv={ready:o,supported:!0,decodeVertexBuffer(f,m,g,v,y){c(s.exports.meshopt_decodeVertexBuffer,f,m,g,v,s.exports[u[y]])},decodeIndexBuffer(f,m,g,v){c(s.exports.meshopt_decodeIndexBuffer,f,m,g,v)},decodeIndexSequence(f,m,g,v){c(s.exports.meshopt_decodeIndexSequence,f,m,g,v)},decodeGltfBuffer(f,m,g,v,y,w){c(s.exports[d[y]],f,m,g,v,s.exports[u[w]])}},mv};let gv=null,_z="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function bz(n=!0,e=!0,t){return r=>{t&&t(r),n&&(gv||(gv=new the),gv.setDecoderPath(typeof n=="string"?n:_z),r.setDRACOLoader(gv)),e&&r.setMeshoptDecoder(typeof p1=="function"?p1():p1)}}const i_=(n,e,t,r)=>Ym(fT,n,bz(e,t,r));i_.preload=(n,e,t,r)=>Ym.preload(fT,n,bz(e,t,r));i_.clear=n=>Ym.clear(fT,n);i_.setDecoderPath=n=>{_z=n};const rhe=C.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:c,...u},d)=>{const f=Ya(N=>N.invalidate),m=Ya(N=>N.camera),g=Ya(N=>N.gl),v=Ya(N=>N.events),y=Ya(N=>N.setEvents),w=Ya(N=>N.set),x=Ya(N=>N.get),b=Ya(N=>N.performance),S=e||m,A=r||v.connected||g.domElement,T=C.useMemo(()=>new yde(S),[S]);return dT(()=>{T.enabled&&T.update()},-1),C.useEffect(()=>(s&&T.connect(s===!0?A:s),T.connect(A),()=>void T.dispose()),[s,A,t,T,f]),C.useEffect(()=>{const N=I=>{f(),t&&b.regress(),o&&o(I)},P=I=>{a&&a(I)},D=I=>{c&&c(I)};return T.addEventListener("change",N),T.addEventListener("start",P),T.addEventListener("end",D),()=>{T.removeEventListener("start",P),T.removeEventListener("end",D),T.removeEventListener("change",N)}},[o,a,c,T,f,y]),C.useEffect(()=>{if(n){const N=x().controls;return w({controls:T}),()=>w({controls:N})}},[n,T]),C.createElement("primitive",pE({ref:d,object:T,enableDamping:i},u))}),ihe=()=>{const n=C.useRef(null);return dT((e,t)=>{n.current&&(n.current.rotation.x+=t*.5,n.current.rotation.y+=t*.3)}),l.jsxs("mesh",{ref:n,children:[l.jsx("boxGeometry",{args:[1,1,1]}),l.jsx("meshStandardMaterial",{color:"#3B82F6"})]})},she=({url:n})=>{const{scene:e}=i_(n),t=C.useRef(null);return dT((r,i)=>{t.current&&(t.current.rotation.y+=i*.5)}),l.jsx("primitive",{ref:t,object:e,scale:[.5,.5,.5]})},pT=({modelUrl:n,autoRotate:e=!0,className:t="w-full h-64"})=>l.jsx("div",{className:t,children:l.jsxs(ude,{camera:{position:[0,0,3]},style:{background:"transparent"},children:[l.jsx("ambientLight",{intensity:.5}),l.jsx("pointLight",{position:[10,10,10]}),l.jsx("directionalLight",{position:[0,5,5],castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024}),n?l.jsx(she,{url:n}):l.jsx(ihe,{}),l.jsx(rhe,{enableZoom:!0,enablePan:!1,autoRotate:e,autoRotateSpeed:2})]})}),ohe=[{id:"coffee-shop",title:"Coffee Experience",description:"Immersive coffee journey with 3D brewing visualization",icon:"",modelUrl:"",experience:"Virtual coffee tasting and origin stories"},{id:"fashion-label",title:"Fashion Showcase",description:"Virtual runway with interactive garment viewer",icon:"",modelUrl:"",experience:"AR try-on and style configurator"},{id:"art-gallery",title:"Art Gallery",description:"Immersive gallery with virtual exhibitions",icon:"",modelUrl:"",experience:"Interactive art exploration and artist stories"},{id:"jewelry-brand",title:"Luxury Jewelry",description:"360 product showcase with material visualization",icon:"",modelUrl:"",experience:"Virtual try-on and customization studio"}],ahe=({selectedBrand:n,onSelectBrand:e,onNext:t})=>l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent mb-4",children:"Choose Your Brand Experience"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Select the 3D experience that best represents your brand vision"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:ohe.map(r=>l.jsx(rt,{className:`group cursor-pointer border-2 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-green-200/50 ${(n==null?void 0:n.id)===r.id?"border-green-500 bg-gradient-to-br from-green-50 to-blue-50 shadow-xl ring-4 ring-green-200":"border-gray-200 hover:border-green-300"}`,onClick:()=>e(r),children:l.jsxs(it,{className:"p-6 text-center",children:[l.jsxs("div",{className:"mb-4 relative",children:[l.jsx(pT,{modelUrl:r.modelUrl,className:"w-full h-32",autoRotate:!0}),l.jsx("div",{className:"absolute top-2 right-2 text-2xl",children:r.icon})]}),l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-green-700 transition-colors",children:r.title}),l.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:r.description}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:l.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:["Experience: ",r.experience]})})]})},r.id))}),l.jsx("div",{className:"flex justify-center",children:l.jsx(Re,{onClick:t,disabled:!n,size:"lg",className:"px-12 py-4 text-lg bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 transform transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:hover:scale-100",children:"Continue to Templates"})})]}),lhe=({brandNicheId:n,selectedTemplate:e,onSelectTemplate:t,onNext:r,onBack:i})=>{const[s,o]=C.useState([]),[a,c]=C.useState(!0);C.useEffect(()=>{(async()=>{var g;try{const v=await Tn.get(`https://097a-2401-4900-1c27-4d9a-34c0-5d47-b2e1-2c49.ngrok-free.app/api/3d-website-templets/get/templet/${n}`,{headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"}});console.log("[TEMPLATE] Fetched response:",v.data);const y=Array.isArray(v.data)?v.data:((g=v.data)==null?void 0:g.data)??[];o(y)}catch(v){console.error("Failed to fetch templates:",v)}finally{c(!1)}})()},[n]);const u=()=>{e&&(console.log("templateID :"+e.id),r(e.id))},d=s,f=m=>{switch(m){case"minimalist":return"bg-blue-100 text-blue-800";case"photorealistic":return"bg-purple-100 text-purple-800";case"interactive":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent mb-4",children:"3D Template Gallery"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Choose your immersive 3D template with WebGL-powered previews"})]}),a?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:[...Array(6)].map((m,g)=>l.jsxs("div",{className:"animate-pulse border border-gray-200 rounded-xl p-6 space-y-4 shadow-sm",children:[l.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-lg"}),l.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("div",{className:"h-5 w-12 bg-gray-300 rounded-full"}),l.jsx("div",{className:"h-5 w-16 bg-gray-300 rounded-full"}),l.jsx("div",{className:"h-5 w-10 bg-gray-300 rounded-full"})]})]},g))}):d.length===0?l.jsx("p",{className:"text-center text-red-500",children:"No templates found for this brand niche."}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:d.map(m=>l.jsx(rt,{className:`group cursor-pointer border-2 transition-all duration-500 hover:scale-105 hover:shadow-2xl ${(e==null?void 0:e.id)===m.id?"border-green-500 bg-gradient-to-br from-green-50 to-blue-50 shadow-xl ring-4 ring-green-200":"border-gray-200 hover:border-green-300"}`,onClick:()=>t(m),children:l.jsxs(it,{className:"p-6",children:[l.jsxs("div",{className:"mb-4 relative overflow-hidden rounded-lg",children:[l.jsx(pT,{className:"w-full h-48",autoRotate:!0}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center",children:l.jsxs(Re,{size:"sm",variant:"outline",className:"mb-4 bg-white/90 hover:bg-white",onClick:g=>{g.stopPropagation(),window.open(m.demoUrl,"_blank")},children:[l.jsx(fa,{className:"h-4 w-4 mr-2"}),"View Demo"]})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-green-700 transition-colors",children:m.title}),l.jsx(In,{className:f(m.style),children:m.style})]}),l.jsx("p",{className:"text-gray-600 text-sm",children:m.description}),l.jsx("div",{className:"flex flex-wrap gap-2",children:m.tags.split(",").map((g,v)=>l.jsxs(In,{variant:"secondary",className:"text-xs",children:["#",g.trim()]},v))})]})]})},m.id))}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx(Re,{variant:"outline",onClick:i,size:"lg",className:"px-8",children:"Back to Brands"}),l.jsxs(Re,{onClick:u,disabled:!e,size:"lg",className:"px-12 bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 transform transition-all duration-300 hover:scale-105 disabled:opacity-50",children:["Customize Experience",l.jsx(Sr,{className:"ml-2 h-5 w-5"})]})]})]})},che=({customization:n,onUpdateCustomization:e,onNext:t,onBack:r,selectedTemplate:i=null})=>{C.useState(!1);const[s,o]=C.useState(!1),{currentUser:a}=Jl();return C.useEffect(()=>{console.log("[DEBUG] Selected Template:",i),i?console.log("[DEBUG] Template ID exists:",i.id):console.warn("[DEBUG] No template selected")},[i]),l.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent mb-4",children:"Brand Customization Studio"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Personalize your 3D experience with custom branding and design"})]}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12"}),l.jsxs(rt,{className:"mb-12",children:[l.jsx(Ot,{children:l.jsx(Ft,{children:"Submit User Details"})}),l.jsx(it,{className:"space-y-6",children:s?l.jsx("div",{className:"text-center text-green-600 font-medium text-lg",children:" Form has already been submitted. We will reach out to you within 24 hours."}):l.jsxs("form",{className:"space-y-4",onSubmit:async c=>{c.preventDefault(),console.log("[SUBMIT] Checking selected template:",{selectedTemplate:i,hasId:!!(i!=null&&i.id),idValue:(i==null?void 0:i.id)||"undefined"});const u=new FormData(c.currentTarget),d={website_id:Number(u.get("website_id")),uid:u.get("uid"),name:u.get("name"),number:u.get("number"),email:u.get("email"),templet_id:String(i==null?void 0:i.id)};console.log("[FORM SUBMIT PAYLOAD]",d);try{(await fetch("https://097a-2401-4900-1c27-4d9a-34c0-5d47-b2e1-2c49.ngrok-free.app/api/3d-website-forms",{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify(d)})).ok?(console.log("[FORM SUBMIT SUCCESS]"),o(!0)):alert(" Submission failed. Try again.")}catch(f){console.error("POST error:",f),alert(" Something went wrong.")}},children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"website_id",children:"Website ID"}),l.jsx(fn,{name:"website_id",type:"number",required:!0,disabled:s})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"uid",children:"UID"}),l.jsx(fn,{id:"uid",name:"uid",type:"text",value:a.uid,readOnly:!0,required:!0})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"name",children:"Name"}),l.jsx(fn,{name:"name",type:"text",required:!0,disabled:s})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"number",children:"Phone Number"}),l.jsx(fn,{name:"number",type:"tel",required:!0,disabled:s})]}),l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"email",children:"Email"}),l.jsx(fn,{name:"email",type:"email",required:!0,disabled:s})]}),l.jsx("div",{children:l.jsxs("div",{children:[l.jsx(ut,{htmlFor:"templet_id",children:"Template ID"}),l.jsx(fn,{name:"templet_id",type:"text",required:!0,disabled:!0,value:(i==null?void 0:i.id)??"",readOnly:!0})]})})]}),l.jsx(Re,{type:"submit",disabled:s,className:"mt-6 w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:"Submit Form"})]})})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx(Re,{variant:"outline",onClick:r,size:"lg",className:"px-8",children:"Back to Templates"}),l.jsxs(Re,{onClick:t,size:"lg",disabled:!0,className:"px-12 bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 transform transition-all duration-300 hover:scale-105",children:["Preview & Deploy",l.jsx(Sr,{className:"ml-2 h-5 w-5"})]})]})]})},uhe=({template:n,customization:e,deployment:t,onUpdateDeployment:r,onBack:i})=>{const[s,o]=C.useState(!1),[a,c]=C.useState(!1),u=["Optimizing 3D assets","Configuring WebGL renderer","Baking lighting system","Enabling AR capabilities","Finalizing deployment"],d=async()=>{o(!0);for(let m=0;m<=100;m+=20){await new Promise(v=>setTimeout(v,800));const g=Math.floor(m/20);r({progress:m,currentTask:m<100?u[g]:"Complete!",isComplete:m===100})}r({liveUrl:"https://yourbrand.idealaunch.io",arQrCode:"https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=https://yourbrand.idealaunch.io"}),o(!1),c(!0)},f=()=>99+(e.domain.type==="custom"?15:0);return a?l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(rr,{className:"h-10 w-10 text-white"})}),l.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent mb-4",children:"3D Experience Launched! "}),l.jsx("p",{className:"text-xl text-gray-600",children:"Your immersive brand experience is now live and ready to amaze your audience"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsx(rt,{children:l.jsxs(it,{className:"p-6 text-center",children:[l.jsx(Ci,{className:"h-8 w-8 text-green-600 mx-auto mb-3"}),l.jsx("h3",{className:"font-semibold mb-2",children:"Live Website"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:t.liveUrl}),l.jsx(Re,{variant:"outline",size:"sm",onClick:()=>window.open(t.liveUrl,"_blank"),children:"Visit Site"})]})}),l.jsx(rt,{children:l.jsxs(it,{className:"p-6 text-center",children:[l.jsx(X8,{className:"h-8 w-8 text-blue-600 mx-auto mb-3"}),l.jsx("h3",{className:"font-semibold mb-2",children:"AR Experience"}),l.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-lg flex items-center justify-center",children:l.jsx("img",{src:t.arQrCode,alt:"AR QR Code",className:"w-20 h-20"})}),l.jsx(Re,{variant:"outline",size:"sm",children:"View in AR"})]})}),l.jsx(rt,{children:l.jsxs(it,{className:"p-6 text-center",children:[l.jsx(J8,{className:"h-8 w-8 text-purple-600 mx-auto mb-3"}),l.jsx("h3",{className:"font-semibold mb-2",children:"Share & Promote"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Social media ready"}),l.jsxs("div",{className:"space-x-2",children:[l.jsx(Re,{variant:"outline",size:"sm",children:"Instagram"}),l.jsx(Re,{variant:"outline",size:"sm",children:"Facebook"})]})]})})]}),l.jsx(rt,{children:l.jsx(it,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg",children:"Launch Kit Email Sent"}),l.jsx("p",{className:"text-gray-600",children:"Check your inbox for brand assets, analytics code, and support contacts"})]}),l.jsxs(Re,{children:[l.jsx(gC,{className:"h-4 w-4 mr-2"}),"Download Assets"]})]})})})]}):l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent mb-4",children:"Preview & Deploy"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Review your 3D experience and launch it to the world"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[l.jsxs(rt,{children:[l.jsx(Ot,{children:l.jsx(Ft,{children:"Live Preview"})}),l.jsxs(it,{children:[l.jsx("div",{className:"aspect-video bg-gradient-to-br from-gray-900 to-gray-800 rounded-lg overflow-hidden",children:l.jsx(pT,{modelUrl:n.modelUrl,className:"w-full h-full",autoRotate:!s})}),l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:"Template:"}),l.jsx(In,{children:n.title})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:"Domain:"}),l.jsx("span",{className:"font-mono",children:e.domain.type==="custom"?`${e.domain.value}${e.domain.tld}`:"yourbrand.idealaunch.io"})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:"Brand Color:"}),l.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:e.design.brandColor}})]})]})]})]}),l.jsxs(rt,{children:[l.jsx(Ot,{children:l.jsx(Ft,{children:"Deployment Center"})}),l.jsxs(it,{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-3",children:"Requirements Checklist"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(rr,{className:"h-4 w-4 text-green-600 mr-2"}),l.jsx("span",{className:"text-sm",children:"Brand configured"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(rr,{className:"h-4 w-4 text-green-600 mr-2"}),l.jsx("span",{className:"text-sm",children:"Template selected"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(rr,{className:"h-4 w-4 text-green-600 mr-2"}),l.jsx("span",{className:"text-sm",children:"Domain configured"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-3",children:"Investment"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"3D Template & Development"}),l.jsx("span",{children:"$99"})]}),e.domain.type==="custom"&&l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Custom Domain (1 year)"}),l.jsx("span",{children:"$15"})]}),l.jsx("div",{className:"border-t pt-2",children:l.jsxs("div",{className:"flex justify-between font-semibold",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:["$",f()]})]})})]})]}),s&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-3",children:"Deployment Progress"}),l.jsx(Im,{value:t.progress,className:"mb-2"}),l.jsx("p",{className:"text-sm text-gray-600",children:t.currentTask})]}),l.jsxs(Re,{onClick:d,disabled:s,size:"lg",className:"w-full bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 transform transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:hover:scale-100",children:[s?"Deploying...":"Launch 3D Experience",l.jsx(Ci,{className:"ml-2 h-5 w-5"})]})]})]})]}),l.jsx("div",{className:"flex justify-start",children:l.jsx(Re,{variant:"outline",onClick:i,size:"lg",className:"px-8",disabled:s,children:"Back to Customization"})})]})},dhe={currentStep:1,selectedBrand:null,selectedTemplate:null,customization:{domain:{type:"subdomain",tld:".com"},design:{brandColor:"#3B82F6",texture:"matte",lighting:50,backgroundMusic:!1}},deployment:{progress:0,currentTask:"",isComplete:!1}};function hhe(n,e){switch(e.type){case"SET_STEP":return{...n,currentStep:e.payload};case"SELECT_BRAND":return{...n,selectedBrand:e.payload};case"SELECT_TEMPLATE":return{...n,selectedTemplate:e.payload};case"UPDATE_CUSTOMIZATION":return{...n,customization:{...n.customization,...e.payload}};case"UPDATE_DEPLOYMENT":return{...n,deployment:{...n.deployment,...e.payload}};default:return n}}const fhe=()=>{const[n,e]=C.useReducer(hhe,dhe);return{state:n,dispatch:e}},phe=()=>{const{state:n,dispatch:e}=fhe(),t=c=>{e({type:"SET_STEP",payload:c})},r=c=>{e({type:"SELECT_BRAND",payload:c})},i=c=>{e({type:"SELECT_TEMPLATE",payload:c})},s=c=>{e({type:"UPDATE_CUSTOMIZATION",payload:c})},o=c=>{e({type:"UPDATE_DEPLOYMENT",payload:c})},a=()=>{var c;switch(n.currentStep){case 1:return l.jsx(ahe,{selectedBrand:n.selectedBrand,onSelectBrand:r,onNext:()=>t(2)});case 2:return l.jsx(lhe,{brandNicheId:((c=n.selectedBrand)==null?void 0:c.id)||"",selectedTemplate:n.selectedTemplate,onSelectTemplate:i,onNext:()=>t(3),onBack:()=>t(1)});case 3:return l.jsx(che,{customization:n.customization,selectedTemplate:n.selectedTemplate,onUpdateCustomization:s,onNext:()=>t(4),onBack:()=>t(2)});case 4:return l.jsx(uhe,{template:n.selectedTemplate,customization:n.customization,deployment:n.deployment,onUpdateDeployment:o,onBack:()=>t(3)});default:return null}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-green-50",children:[l.jsx(jr,{}),l.jsxs("main",{className:"pt-20",children:[l.jsx("section",{className:"py-16 bg-gradient-to-br from-green-50 via-blue-50 to-purple-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 p-6 rounded-3xl inline-flex mb-8",children:l.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center",children:l.jsx("span",{className:"text-3xl",children:""})})}),l.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-gray-900 mb-6",children:["3D Brand ",l.jsx("span",{className:"bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Experiences"})]}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-4xl mx-auto",children:"Create immersive 3D websites with WebGL technology, AR capabilities, and interactive experiences that showcase your brand in stunning detail."})]})}),l.jsx(rne,{currentStep:n.currentStep}),l.jsx("div",{className:"animate-fade-in",children:a()})]}),l.jsx(Ur,{})]})},mhe=()=>{const n=Wl();return C.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},ghe=()=>{const{currentUser:n}=Jl();return n?l.jsx(q7,{}):l.jsx($7,{to:"/login",replace:!0})},xhe=new s7,vhe=()=>l.jsx(a7,{client:xhe,children:l.jsxs(kW,{children:[l.jsx(L9,{}),l.jsx(uV,{}),l.jsx(oX,{basename:"/zovoa",children:l.jsxs(Z7,{children:[l.jsx(er,{path:"/login",element:l.jsx(TZ,{})}),l.jsx(er,{path:"/register",element:l.jsx(NZ,{})}),l.jsxs(er,{element:l.jsx(ghe,{}),children:[l.jsx(er,{path:"/",element:l.jsx(jQ,{})}),l.jsx(er,{path:"/services",element:l.jsx(UQ,{})}),l.jsx(er,{path:"/templates",element:l.jsx(HQ,{})}),l.jsx(er,{path:"/pricing",element:l.jsx(GQ,{})}),l.jsx(er,{path:"/about",element:l.jsx(VQ,{})}),l.jsx(er,{path:"/contact",element:l.jsx(_Z,{})}),l.jsx(er,{path:"/portfolio",element:l.jsx(bZ,{})}),l.jsx(er,{path:"/dashboard",element:l.jsx(WZ,{})}),l.jsx(er,{path:"/mvp",element:l.jsx(JZ,{})}),l.jsx(er,{path:"/mvp-workflow",element:l.jsx(Vte,{})}),l.jsx(er,{path:"/websites",element:l.jsx(Wte,{})}),l.jsx(er,{path:"/website-workflow",element:l.jsx(tne,{})}),l.jsx(er,{path:"/3d-brands",element:l.jsx(nne,{})}),l.jsx(er,{path:"/3d-workflow",element:l.jsx(phe,{})})]}),l.jsx(er,{path:"*",element:l.jsx(mhe,{})})]})})]})});v3(document.getElementById("root")).render(l.jsx(je.StrictMode,{children:l.jsx(p$,{children:l.jsx(vhe,{})})}));
